{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"cityInput",
				"cityInputValue	Default"
			],
			[
				"docum",
				"document	Window"
			],
			[
				"onl",
				"onload	Window"
			],
			[
				"hea",
				"header	<header>"
			],
			[
				"tex",
				"text-indent"
			],
			[
				"bl",
				"block"
			],
			[
				"mar",
				"margin"
			],
			[
				"slide",
				"slideAnimation	Default"
			],
			[
				"slideVisible",
				"slideVisibleEq	Default"
			],
			[
				"fun",
				"function	Default"
			],
			[
				"slid",
				"slideItem	Default"
			],
			[
				"imag",
				"imageLink	Default"
			],
			[
				"image",
				"imageSource"
			],
			[
				"val",
				"valueObj	Default"
			],
			[
				"src",
				"src	Frame"
			],
			[
				"for",
				"foreach()	Array"
			],
			[
				"images",
				"images[]	Document"
			],
			[
				"font",
				"font-family"
			],
			[
				"rg",
				"rgba()"
			],
			[
				"backgro",
				"background-size"
			],
			[
				"border",
				"border-radius"
			],
			[
				"back",
				"background-color"
			]
		]
	},
	"buffers":
	[
	],
	"build_system": "Packages/JSLint/JSLint.sublime-build",
	"command_palette":
	{
		"height": 392.0,
		"selected_items":
		[
			[
				"",
				"Git: Status"
			],
			[
				"pack",
				"Package Control: Install Package"
			],
			[
				"Package Control: ",
				"Package Control: Upgrade/Overwrite All Packages"
			],
			[
				"snippet: j",
				"Snippet: jq_on"
			],
			[
				"ninja	",
				"TemplateNinja: New File"
			],
			[
				"Snippet: 	",
				"Snippet: bp_"
			],
			[
				"install",
				"Package Control: Install Package"
			]
		],
		"width": 464.0
	},
	"console":
	{
		"height": 174.0
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"file_history":
	[
		"/C/Users/Jason/.ssh/id_rsa.pub",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/HEAD",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/description",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/config",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/info/exclude",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/hooks/update.sample",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/hooks/commit-msg.sample",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/.git/hooks/post-commit.sample",
		"/C/Program Files (x86)/Git/bin/start",
		"/C/Program Files (x86)/Git/bin/pwd",
		"/C/Program Files (x86)/Git/cmd/gitk.cmd",
		"/C/Program Files (x86)/Git/bin/docx2txt",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/Git.sublime-settings",
		"/C/Users/Jason/Documents/Sites/MusicStalker/musicstalker.sublime-workspace",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Blame.tmLanguage",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Blame.tmLanguage.cache",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Commit Message.JSON-tmLanguage",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Commit Message.tmLanguage",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Commit Message.tmLanguage.cache",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Graph.JSON-tmLanguage",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Graph.tmLanguage",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Graph.tmLanguage.cache",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/syntax/Git Blame.JSON-tmLanguage",
		"/C/Users/Jason/Desktop/confirmation.isml",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/description",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/HEAD",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/config",
		"/C/Users/Jason/.gitconfig",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/commit-msg.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/applypatch-msg.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/post-commit.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/post-receive.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/post-update.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/pre-applypatch.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/pre-commit.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/prepare-commit-msg.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/pre-rebase.sample",
		"/C/Users/Jason/Documents/Sites/MusicStalker/.git/hooks/update.sample",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/add.py",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/Git Commit Message.sublime-settings",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/Git/CONTRIBUTORS",
		"/C/Users/Jason/.ssh/known_hosts",
		"/C/Users/Jason/.ssh/id_rsa",
		"/C/Users/Jason/Documents/Sites/MusicNazi/www/index.html",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/forms/default/addressinf.xml",
		"/C/Users/Jason/Documents/Sites/JasonPCole/www/index.html",
		"/C/Users/Jason/AppData/Local/Temp/Temp1_JQUERY.zip/Template.xml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/js/app.js",
		"/C/Users/Jason/AppData/Local/Temp/htmlhead.isml-rev11305.svn000.tmp.isml ",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/js/checkout.js",
		"/C/Users/Jason/AppData/Local/Temp/addressinf.xml-revHEAD.svn000.tmp.xml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/templates/resources/rendering.properties",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/.svn/entries",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/.svn/format",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/.svn/wc.db",
		"/C/Users/Jason/AppData/Local/Temp/accountinf.xml-revHEAD.svn000.tmp.xml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/js/WebEvent.js",
		"/C/Users/Jason/AppData/Local/Temp/cart69.isml-rev11305.svn000.tmp.isml ",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/templates/default/util/inputfield.isml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/css/default.css",
		"/C/Users/Jason/AppData/Roaming/Sublime Text 2/Packages/User/JSLint.sublime-settings",
		"/F/beachmint_assets/jewelmint_blog/v2_tumblr/www/index.html",
		"/F/beachmint_assets/beautymint/launchrock/terms-and-conditions.html",
		"/C/Users/Jason/Documents/Sites/javascript/plugins/jpClider/jquery.jpclider.js",
		"/F/beachmint_assets/beautymint/launchrock/index.html",
		"/C/Users/Jason/Desktop/index.html",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/cellceuticals-slp-content/cellceuticals_tasks-left-eod-061113.txt",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/css/sheercover_default.css",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/css/ie9.css",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/css/ie8.css",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/templates/default/components/header/htmlhead.isml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/cellceuticals/cartridge/static/default/css/mobile.css",
		"/C/Users/Jason/Documents/Sites/javascript/my first plugin/index.html",
		"/C/Users/Jason/Documents/Sites/javascript/my first plugin/css/main.css",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/meaningfulbeauty/cartridge/templates/default/rendering/folder/browsefoldercontents.isml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/myCleanPC - image rotator/js/mcpc-image-rotator.js",
		"/C/Users/Jason/Documents/Sites/javascript/plugins/jquery plugin boilerplate/jboiler",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/proactiv/cartridge/static/default/js/jquery.bxSlider.min.js",
		"/C/Users/Jason/Desktop/jquery.bxslider.js",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/meaningfulbeauty/cartridge/templates/default/rendering/folder/selectasystem_columns.isml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals-export/ccCatalog/cc_20130607-catalog.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/cellceuticals-slp-content/B6TB3B B6TB3D",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/cellceuticals-slp-content/spc.css",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals-export/ccCatalog/cc_20130607-catalog-storefront.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals-export/ccCatalog/cc_20130607-pricebook.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/cellceuticals-slp-content/spc",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/cellceuticals-slp-content/slp-default.css",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/meaningfulbeauty/cartridge/templates/default/rendering/folder/browsetestimonials.isml",
		"/C/Users/Jason/Downloads/import-instance-20130604235929995-0.log",
		"/C/Users/Jason/Downloads/import-instance-20130605000928546-0.log",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/CellCeuticals/sites/CellCeuticals/library/library.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/CellCeuticals/preferences.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/VIP_ORDER.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/CampaignConfiguration.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/CHEETAHMAIL_RETRY_SENDING_EMAIL.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/urls/urlmap",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/shipping.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/abtests.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/search.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/site.xml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/meaningfulbeauty/cartridge/templates/default/rendering/folder/selectasystem.isml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/meaningfulbeauty/cartridge/templates/default/rendering/folder/selectasystem_tabbed.isml",
		"/C/Users/Jason/Documents/Sites/MichaelCamplin/www/index.html",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/payment-processors.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/payment-methods.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/feeds.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/DiagnosticTool-ConversationState.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/CartLog.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/SEARCH_ATTRIBUTES.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/preferences.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/urls/aliases",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/urls/urlrules",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/FeedJobConfiguration.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/OmnitureScriptConfiguration.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/custom-objects/0011.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/url-rules.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/sort.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/slots.xml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/Cellceuticals/SheerCover/search2.xml",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/proactiv/cartridge/static/default/js/app.js",
		"/C/Users/Jason/Documents/Guthy Renker/SVN/mycleanpc/cartridge/templates/default/content/home/pt_storefront.isml",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/myCleanPC - image rotator/js/gr-image-rotator.js",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/myCleanPC - image rotator/css/gr-image-rotator-css",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/myCleanPC - image rotator/css/gr.image.rotator.css",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/myCleanPC - image rotator/js/gr.image.rotator.js",
		"/C/Users/Jason/Documents/Guthy Renker/Projects/myCleanPC - image rotator/js/gr.rotator.config.json",
		"/C/Users/Jason/Documents/Sites/JasonPCole/www/js/main.js",
		"/C/Users/Jason/Documents/Sites/JasonPCole/www/js/plugins.js"
	],
	"find":
	{
		"height": 43.0
	},
	"find_in_files":
	{
		"height": 0.0,
		"where_history":
		[
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"resources",
			"billAddress",
			"validation",
			"sheer",
			"productsHP",
			"wen",
			"mineral-difference",
			"[DATAERROR]",
			"[error]",
			"CC-Regular",
			"SC-Regular",
			"SC",
			"URLs",
			"kitData",
			"flag",
			"kdManager",
			"urls",
			"dataRefreshed",
			"getproduct",
			"get",
			"display",
			"question",
			"dialog",
			"$parent",
			"$folder",
			"addWidgetEventListeners",
			"show",
			"rePaintWidget",
			"resourceID",
			"var Inq = (function() {\n	var JSLoggingDisabled = ('false' == 'true');\n	(function() {\n		if (typeof window.XMLHttpRequestFacade != \"undefined\") return;\n		if (typeof window.XMLHttpRequestOriginal != \"undefined\") return;\n		if ( !! window[\"XMLHttpRequest\"]) {\n			if (\"FACADE\" in window.XMLHttpRequest) {\n				if (\"console\" in window) console.error(\"XF: ERROR: Inconsistent xform window state detected\");\n			} else {\n				window.XMLHttpRequestOriginal = XMLHttpRequest;\n			}\n		}\n		window.XMLHttpRequestLegacy = function() {\n			this.onabort = null;\n			this.onerror = null;\n			this.onload = null;\n			this.onloadend = null;\n			this.onloadstart = null;\n			this.onprogress = null;\n			this.onreadystatechange = null;\n			this.readyState = 0;\n			this.response = \"\";\n			this.responseText = \"\";\n			this.responseType = \"\";\n			this.responseXML = null;\n			this.status = 0;\n			this.timeout = 0;\n			this.withCredentials = false;\n			this.statusText = 0;\n			this._impl = null;\n			this._requestHeaders = [];\n			this._responseHeaders = [];\n			this._methodString = \"GET\";\n			this._methodUrl = \"\";\n			this._asyncFlag = true;\n			this._userString = \"\";\n			this._userPassword = \"\";\n			this._id = \"\";\n			this._toJsString = function(val) {\n				if (val == null) return null;\n				var value = val;\n				value = value.split(\"\\\\\").join(\"\\\\\\\\\");\n				value = value.split(\"\\\"\").join(\"\\\\\\\"\");\n				value = value.split(\"'\").join(\"\\\\'\");\n				value = value.split(\"\\n\").join(\"\\\\n\");\n				value = value.split(\"\\r\").join(\"\\\\r\");\n				value = value.split(\"\\t\").join(\"\\\\t\");\n				value = \"\\\"\" + value + \"\\\"\";\n				return value;\n			};\n			this._jsonString = function() {\n				var ix;\n				var json = \"{\";\n				json += \"requestHeaders:[\"\n				for (ix = 0; ix < this._requestHeaders.length; ix++) {\n					if (ix > 0) json += \",\";\n					json += \"[\" + this._requestHeaders[ix][0] + \",\" + this._requestHeaders[ix][1] + \"]\";\n				}\n				json += \"]\";\n				json += \",methodString:\" + this._toJsString(this._methodString);\n				json += \",methodUrl:\" + this._toJsString(this._methodUrl);\n				json += \",asyncFlag:\" + this._asyncFlag;\n				json += \",userString:\" + this._toJsString(this._userString);\n				json += \",userPassword:\" + this._toJsString(this._userPassword);\n				json += \",timeout:\" + this.timeout;\n				json += \",withCredentials:\" + this.withCredentials;\n				json += \",data:\" + this._toJsString(this._data);\n				json += \",_id:\" + this._toJsString(this._id);\n				json += \",_callBack:\" + this._toJsString(self.location.href.split(\"?\")[0]);\n				json += \",onabort:\" + (this.onabort != null);\n				json += \",onerror:\" + (this.onerror != null);\n				json += \",onload:\" + (this.onload != null);\n				json += \",onloadend:\" + (this.onloadend != null);\n				json += \",onloadstart:\" + (this.onloadstart != null);\n				json += \",onprogress:\" + (this.onprogress != null);\n				json += \",onreadystatechange:\" + (this.onreadystatechange != null);\n				json += \"}\";\n				return json;\n			};\n			this.getAllResponseHeaders = function() {\n				var ix, headers;\n				for (ix = 0; ix < this._responseHeaders.length; ix++) {\n					if (ix != 0) headers += '\\r';\n					headers += this._responseHeaders[ix][0] + \": \" + this._responseHeaders[ix][1];\n				}\n			};\n			this.getResponseHeader = function(key) {\n				var ix, headers;\n				for (ix = 0; ix < this._responseHeaders.length; ix++) {\n					if (key == this._responseHeaders[ix][0]) {\n						return this._responseHeaders[ix][1];\n					}\n				}\n				return null;\n			};\n			this.abort = function() {\n				XMLHttpRequestLegacy._RemoveIframe(this._id);\n			};\n			this.setRequestHeader = function(headerString, valueString) {\n				this._requestHeaders.push([this._toJsString(headerString), this._toJsString(\"\" + valueString)]);\n			};\n			this.setOnLoad = function(handler) {\n				this.onload = handler;\n			};\n			this.setOnError = function(handler) {\n				this.onerror = handler;\n			};\n			this.open = function(methodString, methodUrl, asyncFlag, userString, userPassword) {\n				if (asyncFlag == null) asyncFlag = true;\n				this._methodString = methodString;\n				this._methodUrl = methodUrl;\n				this._asyncFlag = asyncFlag;\n				this._userString = userString;\n				this._userPassword = userPassword;\n			};\n			this.overrideMimeType = function(mimeString) {\n				this.debug(\"override: \" + mimeString);\n				if (\"overrideMimeType\" in this._impl) return this._impl.overrideMimeType(mimeString);\n			};\n			this.send = function(data) {\n				this._data = (data) ? data : null;\n				if (this._isCrossDomain()) {\n					var id = \"XHR\" + Math.floor(Math.random() * 1000001);\n					while (null != document.getElementById(id)) {\n						id = \"XHR\" + Math.floor(Math.random() * 1000001);\n					}\n					this._id = id;\n					var jsonString = this._jsonString();\n					var iframe = null;\n					var frameSrc = '\"' + this._getProto() + window.XMLHttpRequestLegacy.getFrameSource(this._getDomain()) + '\"';\n					var divTemp = document.createElement(\"DIV\");\n					divTemp.innerHTML = \"<IFRAME \" + \"ID=\" + id + \" \" + \"STYLE=\\\"overflow: hidden; position: absolute; display: block; border: none; top:0px;left:0px;width: 1px; height: 1px;\\\" \" + \"NAME=\\\"\" + encodeURIComponent(jsonString) + \"\\\" \" + \"SRC=\" + frameSrc + \">\\n</IFRAME>\";\n					iframe = divTemp.firstChild;\n					iframe[\"_xmlRequest\"] = this;\n					document.body.appendChild(iframe);\n				} else {\n					this._sendInDomain();\n				}\n			};\n			this._sendInDomain = function() {\n				if (this._impl) this._impl = null;\n				if (typeof window.XMLHttpRequestOriginal != \"undefined\") this._impl = new XMLHttpRequestOriginal();\n				if (this._impl == null && \"ActiveXObject\" in window) try {\n					this._impl = new ActiveXObject(\"Msxml2.XMLHTTP.6.0\");\n				} catch (e) {}\n				if (this._impl == null && \"ActiveXObject\" in window) try {\n					this._impl = new ActiveXObject(\"Msxml2.XMLHTTP.3.0\");\n				} catch (e) {}\n				if (this._impl == null && \"ActiveXObject\" in window) try {\n					this._impl = new ActiveXObject(\"Msxml2.XMLHTTP\");\n				} catch (e) {}\n				if (this._impl == null) return;\n				try {\n					this._impl.open(this._methodString, this._methodUrl, this._asyncFlag, this._userString, this._userPassword);\n					this._impl.onabort = (this.onabort != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onabort\");\n					}) : null;\n					this._impl.onerror = (this.onerror != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onerror\");\n					}) : null;\n					this._impl.onload = (this.onload != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onload\");\n					}) : null;\n					this._impl.onloadend = (this.onloadend != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onloadend\");\n					}) : null;\n					this._impl.onloadstart = (this.onloadstart != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onloadstart\");\n					}) : null;\n					this._impl.onprogress = (this.onprogress != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onprogress\");\n					}) : null;\n					this._impl.onreadystatechange = (this.onreadystatechange != null) ? XMLHttpRequestLegacy._MethodClosure(this, function() {\n						return this._fireEvent(\"onreadystatechange\");\n					}) : null;\n					this._impl.timeout = this.timeout;\n					for (ix = 0; ix < this._requestHeaders.length; ix++) {\n						this._impl.setRequestHeader(this._requestHeaders[ix][0], this._requestHeaders[ix][1]);\n					}\n					if (null == this._data) this._impl.send();\n					else this._impl.send(this._data);\n				} catch (e) {\n					this.error(\"XHR send error\", e);\n				}\n			};\n			this._onRemoteEvent = function(remoteObject) {\n				var b = false;\n				var eventName = remoteObject._eventName;\n				try {\n					if (eventName == \"onreadystatechange\" && this.readyState > remoteObject.readyState) {\n						return;\n					}\n				} catch (e) {\n					this.error(\"Event error in onRemoteEvent\", e);\n				}\n				this.readyState = remoteObject.readyState;\n				this.response = remoteObject.responseText;\n				this.responseText = remoteObject.responseText;\n				this.responseType = remoteObject.responseType;\n				try {\n					this.status = remoteObject.status;\n				} catch (X) {}\n				try {\n					this.statusText = remoteObject.statusText;\n				} catch (X) {}\n				try {\n					var func = this[eventName];\n					if (func != null) {\n						b = this[eventName]();\n					}\n				} catch (e) {\n					this.error(\"Event error, could not fire \" + eventName, e);\n				}\n				switch (eventName) {\n					case \"onload\":\n					case \"onerror\":\n					case \"onabort\":\n						{\n							setTimeout(\"XMLHttpRequestLegacy._RemoveIframe(\" + this._toJsString(this._id) + \");\", 1000);\n						}\n				}\n				return true;\n			};\n			this._fireEvent = function(eventHandlerName, event) {\n				var b = false;\n				var func = null\n				this.readyState = this._impl.readyState;\n				this.response = this._impl.response;\n				try {\n					this.responseText = this._impl.responseText;\n				} catch (X) {}\n				try {\n					this.responseBody = this._impl.responseBody;\n				} catch (X) {}\n				this.responseType = this._impl.responseType;\n				try {\n					this.responseXML = this._impl.responseXML;\n				} catch (X) {}\n				try {\n					this.status = this._impl.status;\n				} catch (X) {}\n				try {\n					this.statusText = this._impl.statusText;\n				} catch (X) {}\n				try {\n					func = this[eventHandlerName];\n					if (func != null) b = this[eventHandlerName]();\n				} catch (e) {\n					this.error(\"Event error, could not fire \" + eventName, e);\n				}\n				return b;\n			};\n			this._isCrossDomain = function() {\n				return window.location.host != this._getDomain();\n			};\n			this._getDomain = function() {\n				var rx = new RegExp('((http://|https://|//|/|#){0,1}[^\"]*)', 'i');\n				parts = rx.exec(this._methodUrl);\n				var url = \"\";\n				switch (parts[2]) {\n					case \"http://\":\n					case \"https://\":\n					case \"//\":\n						{\n							url = parts[1];\n						}\n						break;\n					case \"#\":\n					case \"/\":\n					default:\n						{\n							return window.location.host;\n						}\n						break;\n				}\n				parts = url.split(\"/\");\n				return parts[2];\n			};\n			this._getProto = function() {\n				var rx = new RegExp('((http://|https://|//|/|#){0,1}[^\"]*)', 'i');\n				parts = rx.exec(this._methodUrl);\n				var proto = window.location.protocol;\n				switch (parts[2]) {\n					case \"http://\":\n					case \"https://\":\n						{\n							proto = parts[2].slice(0, -2);\n						}\n						break;\n					default:\n						{\n							proto = window.location.protocol;\n						}\n						break;\n				}\n				return proto;\n			};\n		};\n		XMLHttpRequestLegacy._MethodClosure = function(obj, method) {\n			var _method = method;\n			var _obj = obj;\n			var _func = function() {\n				return _method.apply(_obj, arguments);\n			};\n			_func.scope = _obj;\n			_func.method = _method;\n			return _func;\n		};\n		XMLHttpRequestLegacy._RemoveIframe = function(iframeId) {\n			try {\n				var iframe = document.getElementById(iframeId);\n				if (iframe) {\n					var par = iframe.parentNode;\n					if (par) {\n						par.removeChild(iframe);\n					}\n				}\n			} catch (e) {\n				this.error(\"Garbage Collection error in XMLHttpRequestLegacy._RemoveIframe\", e);\n			}\n		};\n		XMLHttpRequestLegacy.Return = function(jsonString) {\n			var xfrObj = eval(\"(\" + jsonString + \")\");\n			var id = xfrObj._id;\n			var iframe = document.getElementById(id);\n			if (iframe) {\n				var xhr = iframe[\"_xmlRequest\"];\n				if (xhr)\n				(xhr._subclass._impl)._onRemoteEvent(xfrObj);\n			}\n		};\n		window.XMLHttpRequestFacade = function() {\n			this._impl = XMLHttpRequestFacade._factory();\n			this._impl._subclass = this;\n			this.log = function(s) {\n				if (\"console\" in window) console.log(\"XHRF: \" + s);\n			};\n			this.error = function(s, ex) {\n				if (\"console\" in window) console.log(\"XHRF: \" + s, ex);\n			};\n			this.debug = function(s, ex) {\n				if (\"console\" in window && this._debug) console.log(\"XHRF: \" + s, ex);\n			};\n			this.onabort = null;\n			this.onerror = null;\n			this.onload = null;\n			this.onloadend = null;\n			this.onloadstart = null;\n			this.onprogress = null;\n			this.onreadystatechange = null;\n			this._debug = false;\n			this.readyState = 0;\n			this.response = \"\";\n			this.responseText = \"\";\n			this.responseBody = \"\";\n			this.responseType = \"\";\n			this.responseXML = null;\n			this.status = 0;\n			this.statusText = 0;\n			this._impl.onabort = function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onabort) {\n					this._subclass.onabort(event);\n				}\n			};\n			this._impl.setOnError(function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onerror) {\n					this._subclass.onerror(event);\n				}\n			});\n			this._impl.setOnLoad(function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onload) {\n					this._subclass.onload(event);\n				}\n			});\n			this._impl.onloadend = function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onloadend) {\n					this._subclass.onloadend(event);\n				}\n			};\n			this._impl.onloadstart = function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onloadstart) {\n					this._subclass.onloadstart(event);\n				}\n			};\n			this._impl.onprogress = function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onprogress) {\n					this._subclass.onprogress(event);\n				}\n			};\n			this._impl.onreadystatechange = function(event) {\n				(this._subclass)._syncupFromImpl();\n				if (null != this._subclass.onreadystatechange) {\n					this._subclass.onreadystatechange(event);\n				}\n			};\n			this.addEventListener = function(type, listener, useCapture) {\n				this.debug(\"addEventListener: \" + type);\n				if (!useCapture) useCapture = false;\n				if (\"addEventListener\" in this._impl) this._impl.addEventListener(type, listener, useCapture);\n			};\n			this.removeEventListener = function(type, listener) {\n				if (\"removeEventListener\" in this._impl) this._impl.removeEventListener(type, listener, useCapture);\n			};\n			this.abort = function() {\n				if (\"abort\" in this._impl) {\n					this._impl.abort();\n				} else {\n					this.error(\"abort: Not implemented\");\n				}\n			};\n			this.getAllResponseHeaders = function() {\n				if (\"getAllResponseHeaders\" in this._impl) return this._impl.getAllResponseHeaders();\n			};\n			this.getResponseHeader = function(headerString) {\n				if (\"getResponseHeader\" in this._impl) return this._impl.getResponseHeader(headerString);\n			};\n			this.open = function(methodString, methodUrl, asyncFlag, userString, userPassword) {\n				if (asyncFlag == null) asyncFlag = true;\n				var domain = this.constructor.defaultServerDomain;\n				var proto = this.constructor.defaultServerProtocol;\n				if (domain == null) domain = \"\";\n				if (proto == null) proto = \"\";\n				if (proto.length > 0) {\n					if (proto.indexOf(\":\") == -1) proto += \":\";\n				}\n				var rx = new RegExp('((http://|https://|//|/|#){0,1}[^\"]*)', 'i');\n				parts = rx.exec(methodUrl);\n				var url = \"\";\n				switch (parts[2]) {\n					case \"http://\":\n					case \"https://\":\n					case \"#\":\n						{\n							url = parts[1];\n						}\n						break;\n					case \"//\":\n						{\n							url = proto + parts[1];\n						}\n						break;\n					case \"/\":\n						{\n							url = proto + \"//\" + domain + parts[1];\n						}\n						break;\n					default:\n						{\n							url = path + \"/\" + parts[1];\n						}\n						break;\n				}\n				methodUrl = url;\n				var jsessionid = this.constructor.jsessionid;\n				if (jsessionid != null && jsessionid.length > 0) {\n					parts = methodUrl.split(\"?\");\n					parts[0] += \";jsessionid=\" + jsessionid;\n					methodUrl = parts.join(\"?\");\n				}\n				if (arguments.length < 4) {\n					this._impl.open(methodString, methodUrl, asyncFlag);\n				} else if (arguments.length < 5) {\n					this._impl.open(methodString, methodUrl, asyncFlag, userString);\n				} else {\n					this._impl.open(methodString, methodUrl, asyncFlag, userString, userPassword);\n				}\n			};\n			this.overrideMimeType = function(mimeString) {\n				this.debug(\"override: \" + mimeString);\n				if (\"overrideMimeType\" in this._impl) return this._impl.overrideMimeType(mimeString);\n			};\n			this.send = function(data) {\n				this.debug(\"send\");\n				if (\"send\" in this._impl) {\n					if ( !! data) {\n						return this._impl.send(data);\n					} else {\n						return this._impl.send();\n					}\n				}\n			};\n			this.setRequestHeader = function(headerString, valueString) {\n				this.debug(\"setRequestHeader: \" + headerString + \": \" + valueString);\n				try {\n					if (\"setRequestHeader\" in this._impl) return this._impl.setRequestHeader(headerString, valueString);\n				} catch (e) {\n					this.error(\"setRequestHeader: Error\", e);\n				}\n			};\n			this._syncupFromImpl = function() {\n				this.debug(\"sync readyState\");\n				this.readyState = this._impl.readyState;\n				this.response = this._impl.response;\n				this.responseText = this._impl.responseText;\n				try {\n					this.responseBody = this._impl.responseBody;\n				} catch (X) {}\n				this.responseType = this._impl.responseType;\n				try {\n					this.responseXML = this._impl.responseXML;\n				} catch (X) {}\n				try {\n					this.status = this._impl.status;\n				} catch (X) {}\n				try {\n					this.statusText = this._impl.statusText;\n				} catch (X) {}\n			};\n			return this;\n		};\n		XMLHttpRequestFacade._factory = function() {\n			if (typeof window.XMLHttpRequestOriginal != \"undefined\") {\n				var impl = new XMLHttpRequestOriginal();\n				if (\"withCredentials\" in impl) {\n					impl.setOnLoad = function(handler) {\n						this.onload = handler;\n					};\n					impl.setOnError = function(handler) {\n						this.onerror = handler;\n					};\n				} else {\n					impl = new XMLHttpRequestLegacy();\n				}\n			} else {\n				impl = new XMLHttpRequestLegacy();\n			}\n			return impl;\n		};\n		try {\n			window.XMLHttpRequestFacade.name = \"XMLHttpRequest\";\n		} catch (e) {};\n		window.XMLHttpRequestFacade.DONE = 4;\n		window.XMLHttpRequestFacade.LOADING = 3;\n		window.XMLHttpRequestFacade.HEADERS_RECEIVED = 2;\n		window.XMLHttpRequestFacade.OPENED = 1;\n		window.XMLHttpRequestFacade.UNSENT = 0;\n		window.XMLHttpRequestFacade.defaultServerDomain = null;\n		window.XMLHttpRequestFacade.defaultServerProtocol = \"\";\n		window.XMLHttpRequestFacade.jsessionid = \"\";\n		window.XMLHttpRequestFacade.FACADE = true;\n		window.XMLHttpRequestLegacy.serverMap = {};\n		window.XMLHttpRequestLegacy.serverMap[\"forms.inq.com\"] = \"//forms.inq.com/xhr/xhrProxy.html\";\n		window.XMLHttpRequestLegacy.serverMap[\"formsv3.inq.com\"] = \"//formsv3.inq.com/xhr/xhrProxy.html\";\n		window.XMLHttpRequestLegacy.DEFAULT_SERVER = \"/xhr/xhrProxy.html\";\n		window.XMLHttpRequestLegacy.getFrameSource = function(domain) {\n			var frameSrc = window.XMLHttpRequestLegacy.serverMap[domain];\n			if (frameSrc == null) {\n				frameSrc = \"//\" + domain + window.XMLHttpRequestLegacy.DEFAULT_SERVER;\n			}\n			return frameSrc;\n		};\n		window.XMLHttpRequest = window.XMLHttpRequestFacade;\n	})();\n\n	function log(s, severity) {\n		if (!JSLoggingDisabled) {\n			if (typeof console != \"undefined\") {\n				if (typeof severity != \"string\") severity = \"log\";\n				if (console[severity]) {\n					console[severity](s);\n				} else if (console.log) {\n					console.log(severity.toUpperCase() + \": \" + s);\n				}\n			}\n		}\n	}\n\n	function fireCustomEvent(eventName, data, rule) {\n		try {\n			EVM.fireCustomEvent(eventName, rule, data);\n		} catch (err) {\n			logErrorToTagServer(\"External custom event(\" + eventName + \") fire failure (siteID=\" + siteID + \"): \" + err);\n		}\n	}\n\n	function logErrorToTagServer(errMsg) {\n		log(errMsg);\n		if (!JSLoggingDisabled) {\n			ROM.post(urls.loggingURL, {\n				level: \"ERROR\",\n				line: errMsg\n			});\n		}\n	}\n\n	function logActionErr(e, rule) {\n		if (!JSLoggingDisabled) {\n			var errMsg = catchFormatter(e);\n			var errStr = \"Error in \" + rule + \".\";\n			log(errStr + \" ChatID = \" + CHM.getChatID() + \". CustomerID = \" + getCustID());\n			logErrorToTagServer(errStr + \" \\n\" + errMsg);\n		}\n	}\n\n	function toJsString(val, quote) {\n		var value = val;\n		value = value.split(\"\\\\\").join(\"\\\\\\\\\");\n		value = value.split(\"\\\"\").join(\"\\\\\\\"\");\n		value = value.split(\"\\'\").join(\"\\\\\\'\");\n		value = value.split(\"\\n\").join(\"\\\\n\");\n		value = value.split(\"\\r\").join(\"\\\\r\");\n		value = value.split(\"\\t\").join(\"\\\\t\");\n		if (quote) value = quote + value + quote;\n		return value;\n	}\n\n	function isPersistentWindow() {\n		try {\n			return window.parent.name == \"_inqPersistentChat\";\n		} catch (err) {\n			return false;\n		}\n	}\n\n	function rand(low, high, roundToNearestIntegerFlag) {\n		if (high < low) {\n			throw (\"Incorrect bounds for random generator: low = \" + low + \", high = \" + high);\n		}\n		var delta = high - low;\n		var res = ( !! roundToNearestIntegerFlag) ? (Math.floor(Math.random() * (delta + 1)) + low) : (Math.random() * delta + low);\n		return res;\n	}\n\n	function typeOf(value) {\n		var s = typeof value;\n		if (s === 'object') {\n			if (value) {\n				if (typeof value.length === 'number' && !(value.propertyIsEnumerable('length')) && typeof value.splice === 'function') {\n					s = 'array';\n				}\n			} else {\n				s = 'null';\n			}\n		}\n		return s;\n	}\n\n	function getElementsByClassName(classname, node, winCtxt) {\n		if (!node) {\n			winCtxt = !! winCtxt ? winCtxt : win;\n			node = winCtxt.document.getElementsByTagName(\"body\")[0];\n		}\n		var a = [];\n		var re = new RegExp('\\\\b' + classname + '\\\\b');\n		var els = node.getElementsByTagName(\"*\");\n		for (var i = 0, j = els.length; i < j; i++) {\n			if (re.test(els[i].className)) {\n				a.push(els[i]);\n			}\n		}\n		return a;\n	}\n\n	function exists(o) {\n		return ((typeof o != \"undefined\") && (o != null));\n	}\n\n	function isNullOrUndefined(val) {\n		return (val == null || typeof(val) == \"undefined\");\n	}\n\n	function isIE() {\n		return window.navigator.appName == \"Microsoft Internet Explorer\";\n	}\n\n	function isFF() {\n		return window.navigator.userAgent.indexOf(\"Firefox\") >= 0;\n	}\n\n	function isOpera() {\n		return window.navigator.userAgent.indexOf(\"Opera\") >= 0;\n	}\n\n	function isChrome() {\n		return window.navigator.userAgent.indexOf(\"Chrome\") >= 0;\n	}\n\n	function isSafari() {\n		var safariMatch = window.navigator.userAgent.match(/Safari/);\n		return (safariMatch != null && safariMatch.length > 0);\n	}\n\n	function getClientBrowserType() {\n		if (isIE()) {\n			return \"IE\";\n		} else if (isFF()) {\n			return \"FF\";\n		} else if (isChrome()) {\n			return \"CHROME\";\n		} else if (isOpera()) {\n			return \"OPERA\";\n		} else if (isSafari()) {\n			return \"SAFARI\";\n		} else {\n			return \"OTHER\";\n		}\n	}\n\n	function getBrowserTypeAndVersion() {\n		var nvg = window.navigator.appName,\n			userAgt = window.navigator.userAgent,\n			temp;\n		var matches = userAgt.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\n		if (matches && (temp = userAgt.match(/version\\/([\\.\\d]+)/i)) != null) {\n			matches[2] = temp[1];\n		}\n		matches = matches ? [matches[1], matches[2]] : [nvg, window.navigator.appVersion, '-?'];\n		return matches;\n	}\n\n	function getClientBrowserVersion() {\n		return getBrowserTypeAndVersion()[1];\n	}\n\n	function compareVersions(a, b) {\n		var v1 = a.split('.');\n		var v2 = b.split('.');\n		for (var i = 0; i < Math.min(v1.length, v2.length); i++) {\n			var res = v1[i] - v2[i];\n			if (res != 0) return res;\n		}\n		return 0;\n	}\n\n	function getOSType() {\n		var os = \"Unknown\";\n		var platform = window.navigator.platform;\n		var ua = window.navigator.userAgent;\n		if (/Android/.test(ua)) {\n			os = \"Android\";\n		} else if (/iPhone/.test(ua) || /iPad/.test(ua) || /iPod/.test(ua)) {\n			os = \"iOS\";\n		} else if (/Win/.test(platform)) {\n			os = \"Windows\";\n		} else if (/Linux/.test(platform)) {\n			os = \"Linux\";\n		} else if (/Mac/.test(platform)) {\n			os = \"Mac OS\";\n		}\n		return os;\n	}\n\n	function getBrowserMajorVer() {\n		var ver = 0;\n		if (isIE()) {\n			var ind = window.navigator.userAgent.indexOf(\"MSIE \");\n			ver = parseInt(window.navigator.userAgent.substring(ind + 5));\n		}\n		return ver;\n	}\n	var COOKIE_SIZE_LIMITS = {\n		\"IE6\": 4095,\n		\"IE7\": 4095,\n		\"IE8\": 5118,\n		\"IE9\": 5118,\n		\"FF\": 4097,\n		\"SAFARI\": 4093,\n		\"CHROME\": 4095\n	}\n	var COOKIE_TOTAL_SIZE_LIMITS = {\n		\"IE6\": 4095,\n		\"IE7\": 4095,\n		\"IE8\": 10236,\n		\"IE9\": 10236,\n		\"FF\": 614550,\n		\"SAFARI\": 4093,\n		\"CHROME\": 732280\n	}\n\n		function getCookieSizeLimit() {\n			var browserType = getClientBrowserType();\n			var limit = COOKIE_SIZE_LIMITS[browserType];\n			if (isNullOrUndefined(limit)) {\n				limit = COOKIE_SIZE_LIMITS[browserType + getBrowserMajorVer()];\n			}\n			return limit;\n		}\n\n		function getCookieTotalSizeLimit() {\n			var browserType = getClientBrowserType();\n			var limit = COOKIE_TOTAL_SIZE_LIMITS[browserType];\n			if (isNullOrUndefined(limit)) {\n				limit = COOKIE_TOTAL_SIZE_LIMITS[browserType + getBrowserMajorVer()];\n			}\n			return limit;\n		}\n\n		function getStackTrace(err) {\n			try {\n				var callstack = [];\n				if (arguments && arguments.callee && arguments.callee.caller) {\n					var fnctn = arguments.callee.caller.caller;\n					while (fnctn) {\n						if (callstack.length > 32) break;\n						var fn = \"\" + fnctn.toString();\n						var fnameIx = fn.indexOf(\"function \") + 9;\n						var fnameEnd = fn.indexOf('(', fnameIx);\n						var fname = fn.substring(fnameIx, fnameEnd) || 'anonymous function';\n						var args = \"\";\n						if (fnctn.arguments.length) {\n							for (var ix = 0; ix < fnctn.arguments.length; ix++) {\n								var arg = fnctn.arguments[ix];\n								args += ((args.length != 0) ? \",\" : \"\") + formatArgument(arg);\n							}\n						}\n						callstack.push(fname + \"(\" + args + \")\");\n						fnctn = fnctn.caller;\n					}\n					return \"stack trace:\\n\\t\\t\" + callstack.join(\"\\n\\t\\t\");\n				}\n				return \"\";\n			} catch (e) {\n				return \"\";\n			}\n		}\n\n		function prepareLoggingContext(msg) {\n			var result = msg;\n			if (!result) result = \"\";\n			var o = {};\n			try {\n				o[\"chatID\"] = \"\" + CHM.getChatID();\n			} catch (e) {}\n			try {\n				o[\"custID\"] = Inq.custID;\n			} catch (e) {}\n			try {\n				o[\"custIP\"] = Inq.custIP;\n			} catch (e) {}\n			try {\n				o[\"siteID\"] = Inq.siteID;\n			} catch (e) {}\n			try {\n				o[\"pageID\"] = LDM.getPageID();\n			} catch (e) {}\n			for (var itm in o) {\n				try {\n					result += itm + \": \" + (\"\" + o[itm]) + \"; \";\n				} catch (e) {\n					result += itm + \": \" + formatArgument(o[itm]) + \"; \";\n				}\n			}\n			return result;\n		}\n\n		function catchFormatter(err) {\n			try {\n				var desc = \"\\t\";\n				if (err && err.message) {\n					desc += err.message + \". \";\n				} else {\n					desc += \"Throw while processing. \";\n				}\n				desc += prepareLoggingContext();\n				desc += \"\\n\\t\" + getStackTrace(err);\n				return encodeURIComponent(desc);\n			} catch (e) {\n				return \"\";\n			}\n		}\n\n		function safe(id, dflt, sendErrorToTagServer) {\n			if (id) {\n				try {\n					var o = win.eval(id);\n					if (isNullOrUndefined(o)) {\n						return o;\n					} else if (typeOf(o) == \"array\") {\n						return Array.clone(o);\n					} else if (o.getTime) {\n						if (!o.equals) {\n							MI8.prepare(o).im13(DateMixIn);\n						}\n					} else if (o.toExponential) {\n						if (!o.inRange) {\n							MI8.prepare(o).im13(NumberMixIn);\n						}\n					}\n					return o;\n				} catch (err) {\n					if (sendErrorToTagServer) {\n						logErrorToTagServer(err);\n					}\n				}\n			}\n			return dflt;\n		}\n\n		function processReceivedExternalDataThrows(id, dflt) {\n			return safe(id, dflt, true);\n		}\n\n		function isEmptyObject(obj) {\n			for (var i in obj) {\n				return false;\n			}\n			return true;\n		}\n\n		function rte(url) {\n			var URL_REGEXP_IS_CONTAINS_PROTOCOL = new RegExp(\"^[0-9A-z\\\\.\\\\+\\\\-]*:|^//\");\n			if (url == null || url.length == 0) {\n				return url;\n			} else if (url.match(URL_REGEXP_IS_CONTAINS_PROTOCOL)) {\n				return url.replace(/^HTTPS?:/i, win.location.protocol);\n			} else {\n				return win.location.protocol + \"//\" + url;\n			}\n		}\n	Date.prototype.roll = function(rollTimeInMS) {\n		this.setTime(this.getTime() + rollTimeInMS);\n		return this;\n	};\n	Date.prototype.diff = function(otherDate) {\n		return this.getTime() - otherDate.getTime();\n	};\n	Date.prototype.before = function(otherDate) {\n		return this.getTime() < otherDate.getTime();\n	};\n	Date.prototype.after = function(otherDate) {\n		return this.getTime() > otherDate.getTime();\n	};\n	Date.prototype.equals = function(otherDate) {\n		if (otherDate) return this.getTime() == otherDate.getTime();\n		return false;\n	};\n	var DateMixIn = (function() {\n		return {\n			equals: Date.prototype.equals,\n			roll: Date.prototype.roll,\n			diff: Date.prototype.diff,\n			before: Date.prototype.before,\n			after: Date.prototype.after\n		};\n	})();\n	Array.prototype.contains = function(item, equalsFcn) {\n		for (var idx = 0; idx < this.length; idx++) {\n			if ((equalsFcn && equalsFcn(this[idx], item)) || (!isNullOrUndefined(item) && item.equals && item.equals(this[idx])) || this[idx] == item) {\n				return true;\n			}\n		}\n		return false;\n	};\n	Array.prototype.containsAll = function(_arr) {\n		for (var idx = 0; idx < _arr.length; idx++) {\n			if (!this.contains(_arr[idx])) {\n				return false;\n			}\n		}\n		return true;\n	};\n	Array.prototype.isEmpty = function() {\n		if (this.length) {\n			return false;\n		}\n		return true;\n	};\n	Array.prototype.append = function(a) {\n		if ( !! a && !! a.length) {\n			for (var i = 0; i < a.length; i++) {\n				this.push(a[i]);\n			}\n		}\n		return this;\n	};\n	Array.prototype.prepend = function(a) {\n		for (var i = 0; i < a.length; i++) {\n			this.unshift(a[a.length - 1 - i]);\n		}\n		return this;\n	};\n	Array.prototype.indexOf = function(el) {\n		var ind = -1;\n		for (var i = 0; i < this.length; i++) {\n			if (this[i] == el) {\n				ind = i;\n				break;\n			}\n		}\n		return ind;\n	};\n	Array.prototype.constrain = function(len) {\n		if (len && len > 0 && this.length > len) {\n			this.length = len;\n		}\n		return this;\n	};\n	Array.clone = function(_arr) {\n		if (_arr) {\n			var rv = [];\n			if (typeOf(_arr) == 'array') {\n				for (var idx = 0; idx < _arr.length; idx++) {\n					rv[idx] = _arr[idx];\n				}\n				return rv;\n			}\n		}\n		return _arr;\n	};\n	Array.prototype._assertNumType = function() {\n		if (this.length > 0 && typeof this[0] != 'number') throw \"OperationNotSupported: can't sum on a non-numerical list\";\n	};\n	Array.prototype.sum = function() {\n		this._assertNumType();\n		if (!this.length) {\n			return 0;\n		} else {\n			return this[0] + this.slice(1).sum();\n		}\n	};\n	Array.prototype.std_dev = function() {\n		this._assertNumType();\n		var sum = this.sum();\n		var mean = sum / this.length;\n		for (var i = 0, variance = 0; i < this.length; i++) {\n			variance += Math.pow(this[i] - mean, 2);\n		}\n		variance = variance / this.length;\n		return Math.sqrt(variance);\n	};\n	Array.prototype.average = function() {\n		this._assertNumType();\n		var sum = 0;\n		for (var i = 0; i < this.length; i++) {\n			sum += this[i];\n		}\n		return sum / this.length;\n	};\n	Array.prototype.size = function() {\n		return this.length;\n	};\n	Array.prototype._visit = function(o, bFcn, bool) {\n		for (var i = 0; i < this.length; i++) {\n			if (bFcn(this[i], o) != bool) return false;\n		}\n		return true;\n	};\n	Array.prototype.after = function(d) {\n		return this._visit(d, function(d1, d2) {\n			return d1.after(d2);\n		}, true);\n	};\n	Array.prototype.before = function(d) {\n		return this._visit(d, function(d1, d2) {\n			return d1.before(d2);\n		}, true);\n	};\n	Array.prototype.remove = function(index) {\n		if (index < 0 || index > this.length) {\n			return;\n		}\n		for (var i = index; i + 1 < this.length; i++) {\n			this[i] = this[i + 1];\n		}\n		this.length = this.length - 1;\n	};\n	Array.prototype.keys = function() {\n		var out = new Array();\n		for (var index = 0; index < this.length; index++) {\n			var entry = this[index];\n			out.push(entry.key);\n		}\n		return out;\n	};\n	Array.prototype.values = function() {\n		var out = new Array();\n		for (var index = 0; index < this.length; index++) {\n			var entry = this[index];\n			out.push(entry.value);\n		}\n		return out;\n	};\n	Array.prototype.findEntry = function(key) {\n		for (var index = 0; index < this.length; index++) {\n			if (this[index].key == key) {\n				return this[index];\n			}\n		}\n		return null;\n	};\n	Array.prototype.get = function(key) {\n		var entry = this.findEntry(key);\n		if (entry) {\n			return entry.value;\n		}\n		return null;\n	};\n	Array.prototype.set = function(key, value, findEntry) {\n		var entry = null;\n		if (typeof(findEntry) == 'undefined' || findEntry == true) {\n			entry = this.findEntry(key);\n		}\n		if (entry) {\n			entry.value = value;\n		} else {\n			entry = {\n				key: key,\n				value: value\n			};\n			this.push(entry);\n		}\n	};\n	Array.prototype.unset = function(key) {\n		for (var index = 0; index < this.length; index++) {\n			if (this[index].key == key) {\n				this.remove(index);\n				break;\n			}\n		}\n	};\n	Array.prototype.clear = function() {\n		this.length = 0;\n	};\n	Array.prototype.collect = function(fnc) {\n		if (typeof fnc != \"function\") {\n			return null;\n		}\n		var out = new Array();\n		for (var index = 0; index < this.length; index++) {\n			var entry = this[index];\n			out.push(fnc(entry.key, entry.value));\n		}\n		return out;\n	};\n	Array.prototype.each = function(fnc) {\n		if (typeof fnc != \"function\") {\n			return;\n		}\n		for (var index = 0; index < this.length; index++) {\n			var entry = this[index];\n			fnc(entry.key, entry.value, this);\n		}\n	};\n	Array.prepareMapToSerialize = function(map) {\n		var out = {};\n		for (var i = 0; i < map.length; i++) {\n			var element = map[i];\n			out[element.key] = element.value;\n		}\n		return out;\n	};\n	Number.prototype.inRange = function(low, high) {\n		if (high < low) throw (\"Incorrect range bounds: low = \" + low + \", high = \" + high);\n		if ((this >= low) && (this <= high)) return true;\n		else return false;\n	};\n	var NumberMixIn = (function() {\n		return {\n			inRange: Number.prototype.inRange\n		};\n	})();\n	String.prototype.contains = function(searchString, bIgnoreCase, isRegexp) {\n		if (!isRegexp) {\n			var str1;\n			var str2;\n			if (bIgnoreCase) {\n				str1 = this.toLowerCase();\n				str2 = searchString.toLowerCase();\n			} else {\n				str1 = this;\n				str2 = searchString;\n			}\n			var ind = str1.indexOf(str2);\n			return (ind != -1);\n		} else {\n			var reFlags = \"\";\n			if (bIgnoreCase) reFlags = \"i\";\n			var re = new RegExp(searchString, reFlags);\n			return re.test(this);\n		}\n	};\n	String.prototype.startsWith = function(searchString, bIgnoreCase, isRegexp) {\n		if (!isRegexp) {\n			var str1;\n			var str2;\n			if (bIgnoreCase) {\n				str1 = this.toLowerCase();\n				str2 = searchString.toLowerCase();\n			} else {\n				str1 = this;\n				str2 = searchString;\n			}\n			var ind = str1.indexOf(str2);\n			return (ind == 0);\n		} else {\n			var reFlags = \"\";\n			if (bIgnoreCase) reFlags = \"i\";\n			if (searchString.charAt(0) != \"^\") searchString = \"^\" + searchString;\n			var re = new RegExp(searchString, reFlags);\n			return re.test(this);\n		}\n	};\n	String.prototype.endsWith = function(searchString, bIgnoreCase, isRegexp) {\n		if (!isRegexp) {\n			var str1;\n			var str2;\n			if (bIgnoreCase) {\n				str1 = this.toLowerCase();\n				str2 = searchString.toLowerCase();\n			} else {\n				str1 = this;\n				str2 = searchString;\n			}\n			var ind = str1.lastIndexOf(str2);\n			return ((ind != -1) && (ind == (str1.length - str2.length)));\n		} else {\n			var reFlags = \"\";\n			if (bIgnoreCase) reFlags = \"i\";\n			if (searchString.charAt(searchString.length - 1) != \"$\") searchString = searchString + \"$\";\n			var re = new RegExp(searchString, reFlags);\n			return re.test(this);\n		}\n	};\n	String.prototype.equals = function(searchString, bIgnoreCase, isRegexp) {\n		if (!isRegexp) {\n			var str1;\n			var str2;\n			if (bIgnoreCase) {\n				str1 = this.toLowerCase();\n				str2 = searchString.toLowerCase();\n			} else {\n				str1 = this;\n				str2 = searchString;\n			}\n			return (str1 == str2);\n		} else {\n			var reFlags = \"\";\n			if (bIgnoreCase) reFlags = \"i\";\n			if (searchString.charAt(0) != \"^\") searchString = \"^\" + searchString;\n			if (searchString.charAt(searchString.length - 1) != \"$\") searchString = searchString + \"$\";\n			var re = new RegExp(searchString, reFlags);\n			return re.test(this);\n		}\n	};\n	if (!String.prototype.trim) {\n		String.prototype.trim = function() {\n			return this.replace(/^\\s+|\\s+$/g, \"\");\n		}\n	}\n	var MI8 = (function() {\n		function _throwNoImpl() {\n			throw (\"\" + this.getID() + \": \" + arguments.callee.name + \" requires override.\");\n		}\n\n		function wrapWithTryCatch(code) {\n			return \"try{\" + code + \"}catch(e){if(window.console)window.console.error('ERROR:' + e.message);};\\n\";\n		}\n		var XJA3 = {\n			absorb: function(absorbee, agregateFlag) {\n				if (absorbee) {\n					for (var name in absorbee) {\n						if ((typeOf(this[name]) == 'object') && (typeOf(absorbee[name]) == 'object') && agregateFlag) {\n							MI8.mixAbsorber(this[name]);\n							this[name].absorb(absorbee[name]);\n						} else {\n							this[name] = absorbee[name];\n						}\n					}\n				}\n				return this;\n			}\n		};\n		var RC54 = {\n			onRemoteCallback: _throwNoImpl,\n			callRemote: function(url, data) {\n				ROM.doRemoteCall(url, data, this);\n			},\n			send: function(url, data) {\n				ROM.send(url, data);\n			}\n		};\n		var Resource = {\n			_resource: function(id) {\n				this._rsrcID = id;\n			},\n			write: _throwNoImpl,\n			read: _throwNoImpl,\n			_serialize: _throwNoImpl,\n			_deserialize: _throwNoImpl,\n			getResourceID: function() {\n				return this._rsrcID;\n			}\n		};\n		var DataReadyListener = {\n			agrtyer: _throwNoImpl\n		};\n		var Persistable = {\n			getPersistentID: _throwNoImpl,\n			load: _throwNoImpl,\n			save: _throwNoImpl,\n			agrtyer: _throwNoImpl\n		};\n		var FM2 = {\n			_frameworkModule: function(id) {\n				this._id = id;\n			},\n			getID: function() {\n				return this._id;\n			},\n			init: _throwNoImpl,\n			start: _throwNoImpl,\n			reset: _throwNoImpl\n		};\n		var Observable = (function() {\n			var retval = {\n				addListeners: function(_arr) {\n					for (var idx = 0; idx < _arr.length; idx++) {\n						this.addListener(_arr[idx]);\n					}\n				},\n				_observable: function() {\n					this._listeners = [];\n					this.observable = true;\n				},\n				clearListeners: function() {\n					this._listeners = [];\n				},\n				_fireEvt: function(vfcn, evt) {\n					for (var idx = 0; idx < this._listeners.length; idx++) {\n						var listener = this._listeners[idx];\n						vfcn(listener, evt);\n						if (typeof listener.onAnyEvent == \"function\") {\n							listener.onAnyEvent(evt);\n						}\n					}\n				},\n				addListener: function(l) {\n					if (l && (this.isListener(l) || l.onAnyEvent)) {\n						this._listeners.push(l);\n					}\n				},\n				isListener: _throwNoImpl\n			};\n			return retval;\n		})();\n		var JSON = (function() {\n			function f(n) {\n				return n < 10 ? '0' + n : n;\n			}\n			if (typeof Date.prototype.toJSON !== 'function') {\n				Date.prototype.toJSON = function(key) {\n					return this.getTime();\n				};\n				String.prototype.toJSON = Number.prototype.toJSON = Boolean.prototype.toJSON = function(key) {\n					return this.valueOf();\n				};\n			}\n			var cx = /[\\u0000\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n				escapeable = /[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,\n				gap, indent, meta = {\n					'\\b': '\\\\b',\n					'\\t': '\\\\t',\n					'\\n': '\\\\n',\n					'\\f': '\\\\f',\n					'\\r': '\\\\r',\n					'\"': '\\\\\"',\n					'\\\\': '\\\\\\\\'\n				}, rep;\n\n			function quote(string) {\n				escapeable.lastIndex = 0;\n				return escapeable.test(string) ? '\"' + string.replace(escapeable, function(a) {\n					var c = meta[a];\n					if (typeof c === 'string') {\n						return c;\n					}\n					return '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n				}) + '\"' : '\"' + string + '\"';\n			}\n\n			function str(key, holder) {\n				var i, k, v, length, mind = gap,\n					partial, value = holder[key];\n				if (value && typeof value === 'object' && typeof value.toJSON === 'function') {\n					value = value.toJSON(key);\n				}\n				if (typeof rep === 'function') {\n					value = rep.call(holder, key, value);\n				}\n				switch (typeof value) {\n					case 'string':\n						return quote(value);\n					case 'number':\n						return isFinite(value) ? String(value) : 'null';\n					case 'boolean':\n					case 'null':\n						return String(value);\n					case 'object':\n						if (!value) {\n							return 'null';\n						}\n						gap += indent;\n						partial = [];\n						if (typeof value.length === 'number' && !value.propertyIsEnumerable('length')) {\n							length = value.length;\n							for (i = 0; i < length; i += 1) {\n								partial[i] = str(i, value) || 'null';\n							}\n							v = partial.length === 0 ? '[]' : gap ? '[\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + ']' : '[' + partial.join(',') + ']';\n							gap = mind;\n							return v;\n						}\n						if (rep && typeof rep === 'object') {\n							length = rep.length;\n							for (i = 0; i < length; i += 1) {\n								k = rep[i];\n								if (typeof k === 'string') {\n									v = str(k, value);\n									if (v) {\n										partial.push(k + (gap ? ': ' : ':') + v);\n									}\n								}\n							}\n						} else {\n							for (k in value) {\n								if (k != \"\") {\n									try {\n										if (Object.hasOwnProperty.call(value, k)) {\n											v = str(k, value);\n											if (v) {\n												partial.push(k + (gap ? ': ' : ':') + v);\n											}\n										}\n									} catch (e) {\n										var eMsg = 'Exception at Object.hasOwnProperty.call(' + value + ', ' + k + ') ';\n										eMsg += catchFormatter(e) + ' in JSON.str(' + key + ', ' + holder + ')';\n										ROM.post(urls.loggingURL, {\n											level: 'WARN',\n											line: (eMsg)\n										});\n									}\n								}\n							}\n						}\n						v = partial.length === 0 ? '{}' : gap ? '{\\n' + gap + partial.join(',\\n' + gap) + '\\n' + mind + '}' : '{' + partial.join(',') + '}';\n						gap = mind;\n						return v;\n				}\n			}\n\n			function clone(object) {\n				return parse(stringify(object));\n			}\n\n			function stringify(value, replacer, space) {\n				if (typeof value == \"undefined\" || value == null) {\n					return null;\n				}\n				var i;\n				gap = '';\n				indent = '';\n				if (typeof space === 'number') {\n					for (i = 0; i < space; i += 1) {\n						indent += ' ';\n					}\n				} else if (typeof space === 'string') {\n					indent = space;\n				}\n				rep = replacer;\n				if (replacer && typeof replacer !== 'function' && (typeof replacer !== 'object' || typeof replacer.length !== 'number')) {\n					throw new Error('JSON.stringify');\n				}\n				return str('', {\n					'': value\n				});\n			}\n\n			function parse(text, reviver) {\n				if (!text) return null;\n				var j;\n\n				function walk(holder, key) {\n					var k, v, value = holder[key];\n					if (value && typeof value === 'object') {\n						for (k in value) {\n							if (Object.hasOwnProperty.call(value, k)) {\n								v = walk(value, k);\n								if (v !== undefined) {\n									value[k] = v;\n								} else {\n									delete value[k];\n								}\n							}\n						}\n					}\n					return reviver.call(holder, key, value);\n				}\n				cx.lastIndex = 0;\n				if (cx.test(text)) {\n					text = text.replace(cx, function(a) {\n						return '\\\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);\n					});\n				}\n				j = eval('(' + text + ')');\n				return typeof reviver === 'function' ? walk({\n					'': j\n				}, '') : j;\n			}\n			var retval = {\n				clone: clone,\n				stringify: stringify,\n				parse: parse\n			};\n			return retval;\n		})();\n		var Cloneable = (function() {\n			var retval = {\n				clone: function() {\n					return JSON.parse(JSON.stringify(this));\n				}\n			};\n			return retval;\n		})();\n		var im13 = function(mixable) {\n			if (mixable) {\n				for (var name in mixable) {\n					if (!this[name]) {\n						if (this.prototype) {\n							this.prototype[name] = mixable[name];\n						} else {\n							this[name] = mixable[name];\n						}\n					}\n				}\n			}\n			return this;\n		};\n\n		function prepare(_class) {\n			if (_class) {\n				_class.im13 = im13;\n			}\n			return _class;\n		}\n\n		function mixAbsorber(o) {\n			if (!o) {\n				o = {};\n			}\n			o.absorb = XJA3.absorb;\n			return o;\n		}\n\n		function clonize(o) {\n			if ( !! o && typeOf(o) == \"object\") {\n				o.clone = function() {\n					return JSON.parse(JSON.stringify(this));\n				}\n			}\n			return o;\n		}\n\n		function mixSettable(o) {\n			if (isNullOrUndefined(o)) {\n				o = {};\n			}\n			if ( !! o && typeOf(o) == \"object\") {\n				o.set = function(n, v) {\n					if ( !! n || n === 0 || n === \"\") {\n						this[n] = v;\n					} else {\n						log(\"Settable: Unable to set n,v=(\" + n + \",\" + v + \") on \" + this.toString() + \". \\n\" + getStackTrace(new Error()));\n					}\n					return this;\n				};\n			}\n			return o;\n		}\n\n		function mixRemovable(o) {\n			if (isNullOrUndefined(o)) {\n				o = {};\n			}\n			if ( !! o && typeOf(o) == \"object\") {\n				o.remove = function(n) {\n					if ( !! n || n === 0 || n === \"\") {\n						delete this[n];\n					}\n					return this;\n				};\n			}\n			return o;\n		}\n\n		function mixRenamable(o) {\n			if (isNullOrUndefined(o)) {\n				o = {};\n			}\n			if ( !! o && typeOf(o) == \"object\") {\n				o.rename = function(on, nn) {\n					if (( !! on || on === 0 || on === \"\") && ( !! nn || nn === 0 || nn === \"\")) {\n						var v = this[on];\n						if ( !! v || v === 0) {\n							delete this[on];\n						}\n						this[nn] = v;\n					}\n					return this;\n				};\n			}\n			return o;\n		}\n\n		function unmixMutatable(o) {\n			delete o.rename;\n			delete o.remove;\n			delete o.set;\n			return o;\n		}\n\n		function mixMutatable(o) {\n			o = mixRemovable(o);\n			o = mixSettable(o);\n			o = mixRenamable(o);\n			return o;\n		}\n		return {\n			prepare: prepare,\n			Observable: Observable,\n			JSON: JSON,\n			mixMutatable: mixMutatable,\n			unmixMutatable: unmixMutatable,\n			mixAbsorber: mixAbsorber,\n			XJA3: XJA3,\n			Resource: Resource,\n			Persistable: Persistable,\n			FM2: FM2,\n			RC54: RC54,\n			clonize: clonize,\n			Cloneable: Cloneable,\n			wrapWithTryCatch: wrapWithTryCatch\n		};\n	})();\n	var programConstants = {\n		\"CUST_IP_HOST_RESOLUTION_ACTIVE\": false,\n		\"ASSISTED_AGENT_CHAT_COUNT\": 2.0,\n		\"ASSISTED_CUSTOMER_CHAT_COUNT\": 2.0,\n		\"DEBUG\": true,\n		\"SALE_EXPIRATION\": 2592000000,\n		\"SALE_STATE_CONVERTED\": \"converted\",\n		\"SALE_STATE_ASSISTED\": \"assisted\",\n		\"SALE_STATE_UNSOLD\": \"unsold\",\n		\"SESSION_EXPIRE_TIME\": 1800000,\n		\"INC_GROUP_CONTROL\": \"CONTROL\",\n		\"INC_GROUP_CHAT\": \"CHAT\",\n		\"INC_STATE_ELIGIBLE\": \"ELIGIBLE\",\n		\"INC_STATE_TARGETED\": \"TARGETED\",\n		\"INC_STATE_EXPOSURE_QUALIFIED\": \"EXPOSURE_QUALIFIED\",\n		\"INC_STATE_EXPOSED\": \"EXPOSED\",\n		\"INC_STATE_ENGAGED\": \"ENGAGED\",\n		\"INC_STATE_INTERACTED\": \"INTERACTED\",\n		\"INC_STATE_ASSISTED\": \"ASSISTED\",\n		\"INC_STATE_CONVERTED\": \"CONVERTED\",\n		\"INC_GROUP_DURATION\": 2592000000,\n		\"INC_CONTROL_PERCENT\": 1.0,\n		\"MESSAGE_COUNT_ASSISTED\": 1.0,\n		\"PERSISTENT_ASSISTED\": 6.0,\n		\"UNDEFINED_ASSISTED\": 3.0,\n		\"MAX_LONG\": 9.223372036854776E18,\n		\"BAYNOTE_EVENT_API_URL\": \"http://customerid-code.baynote.net/baynote/eventrest\",\n		\"BAYNOTE_CUSTOMER_ID\": \"\",\n		\"BAYNOTE_CODE\": \"\",\n		\"BAYNOTE_LINGER_DU\": 40000,\n		\"SITE_SEARCH_QUERY_PARAM_NAME\": \"\",\n		\"REMOVE_QUERY_STRING_FROM_TRACKING_URL\": false,\n		\"RECHAT_INTERVAL\": 86400000\n	};\n	var businessConstants = {\n		\"ASSISTED_AGENT_CHAT_COUNT\": 3.0,\n		\"ASSISTED_CUSTOMER_CHAT_COUNT\": 3.0,\n		\"INC_CONTROL_PERCENT\": 5.0,\n		\"INC_GROUP_DURATION\": 2592000000,\n		\"SESSION_EXPIRE_TIME\": 1800000\n	};\n	var constants = MI8.mixAbsorber();\n	constants.absorb(programConstants);\n	constants.absorb(businessConstants);\n\n	function MediaMgr(data) {\n		this._frameworkModule(\"mm\");\n		this.absorb(data);\n		for (var n1 in data) {\n			for (var n2 in data[n1]) {\n				MI8.clonize(data[n1][n2]);\n			}\n		}\n	}\n	MI8.prepare(MediaMgr).im13(MI8.XJA3).im13(MI8.FM2);\n	MediaMgr.prototype.start = MediaMgr.prototype.reset = MediaMgr.prototype.init = function() {};\n	MediaMgr.prototype.getC2CSpec = function(id, subtree) {\n		var val = this[\"c2cSpecs\"][id];\n		if (isNullOrUndefined(val)) {\n			throw (\"MediaMgr-> no c2c spec for id=\" + id);\n		}\n		val = MI8.mixAbsorber(val.clone());\n		if ( !! subtree) val.absorb({\n			c2cTheme: this.getC2CTheme(val['thId']),\n			chatSpec: this.getChatSpec(val['chSpId'], subtree)\n		});\n		return val;\n	};\n	MediaMgr.prototype.getC2CTheme = function(id) {\n		var val = this['c2cThemes'][id];\n		if (isNullOrUndefined(val)) {\n			throw (\"MediaMgr-> no c2c theme for id=\" + id);\n		}\n		return MI8.mixAbsorber(val.clone());\n	};\n	MediaMgr.prototype.getChatSpec = function(id, subtree) {\n		var val = this[\"chatSpecs\"][id];\n		if (isNullOrUndefined(val)) {\n			throw (\"MediaMgr-> no chat spec for id=\" + id);\n		}\n		val = MI8.mixAbsorber(val.clone());\n		if ( !! subtree) val.absorb({\n			chatTheme: this.getChatTheme(val['ctId'])\n		});\n		return val;\n	};\n	MediaMgr.prototype.getChatTheme = function(id) {\n		var val = this['chatThemes'][id];\n		if (isNullOrUndefined(val)) {\n			throw (\"MediaMgr-> no chat theme for id=\" + id);\n		}\n		return MI8.mixAbsorber(val.clone());\n	};\n	MediaMgr.prototype.mergeC2CTheme = function(c2cTheme) {\n		var val = this.getC2CTheme(c2cTheme.id);\n		if ( !! val) {\n			return val.absorb(c2cTheme);\n		}\n		log(\"MediaMgr Error: c2cTheme not found for xml theme id=\" + c2cTheme.id);\n		return null;\n	};\n	MediaMgr.prototype.mergeChatTheme = function(chatTheme) {\n		var val = this.getChatTheme(chatTheme.id);\n		if ( !! val) {\n			for (var n in chatTheme) {\n				val[n] = chatTheme[n];\n			}\n			return val;\n		}\n		log(\"MediaMgr Error: chatTheme not found for xml theme id=\" + c2cTheme.id);\n		return null;\n	};\n	MediaMgr.prototype.mergeChatSpec = function(chatSpec) {\n		var val = this.getChatSpec(chatSpec.id, true);\n		if ( !! val) {\n			if ( !! chatSpec.chatTheme) {\n				val['chatTheme'] = this.mergeChatTheme(chatSpec.chatTheme);\n			}\n			for (var n in chatSpec) {\n				if (n == 'chatTheme') continue;\n				val[n] = chatSpec[n];\n			}\n			return val;\n		}\n		log(\"MediaMgr Error: chatTheme not found for xml theme id=\" + c2cTheme.id);\n		return null;\n	};\n	MediaMgr.prototype.mergeC2CSpec = function(c2cSpec, excludeChatData) {\n		if (!isNullOrUndefined(c2cSpec)) {\n			var val = this.getC2CSpec(c2cSpec.id, true);\n			if ( !! excludeChatData) {\n				delete val.chatSpec;\n			}\n			if ( !! c2cSpec.c2cTheme) {\n				val['c2cTheme'] = this.mergeC2CTheme(c2cSpec.c2cTheme);\n			}\n			if ( !! c2cSpec.chatSpec && !excludeChatData) {\n				val['chatSpec'] = this.mergeChatSpec(c2cSpec.chatSpec);\n			}\n			for (var n in c2cSpec) {\n				if (n == 'c2cTheme' || n == 'chatSpec') continue;\n				val[n] = c2cSpec[n];\n			}\n			return val;\n		} else {\n			log(\"MediaMgr Error: bad c2cSpec passed. Check XML rule actions. ref=\" + c2cSpec)\n		}\n		return null;\n	};\n\n	function URI(uri) {\n		this._uri = uri;\n		this.parseURI();\n	}\n	MI8.prepare(URI).im13(MI8.XJA3);\n	URI.partNames = [\"source\", \"protocol\", \"authority\", \"domain\", \"port\", \"path\", \"dirPath\", \"fileName\", \"query\", \"anchor\"];\n	URI.parseURI = function(_uri) {\n		var obj = {\n			qMap: {}\n		};\n		var uriParts = new RegExp(\"^(?:([^:/?#.]+):)?(?://)?(([^:/?#]*)(?::(\\\\d*))?)?((/(?:[^?#](?![^?#/]*\\\\.[^?#/.]+(?:[\\\\?#]|$)))*/?)?([^?#/]*))?(?:\\\\?([^#]*))?(?:#(.*))?\").exec(_uri);\n		for (var i = 0; i < URI.partNames.length; i++) {\n			obj[URI.partNames[i]] = (uriParts[i] ? uriParts[i] : \"\");\n		}\n		if (obj.dirPath.length > 0) {\n			obj.dirPath = obj.dirPath.replace(/\\/?$/, \"/\");\n		}\n		if (obj.query) {\n			var p = obj.query.split(\"&\");\n			for (var i = 0; i < p.length; ++i) {\n				var kvp = p[i].split(\"=\");\n				obj.qMap[kvp[0]] = (kvp.length > 1) ? unescape(kvp[1]) : \"\";\n			}\n		}\n		if (obj.domain) {\n			obj.rootDomain = obj.domain;\n			var arr = obj.domain.split('.');\n			if (arr.length > 2) {\n				for (var idx = 0; idx < arr.length - 2; idx++) arr.shift();\n				obj.rootDomain = arr.join('.');\n			}\n		}\n		return obj;\n	};\n	URI.prototype.parseURI = function() {\n		this.absorb(URI.parseURI(this._uri));\n	};\n	URI.prototype.getQ = function(q) {\n		var v = this.qMap[q];\n		return (typeof v == \"undefined\" || v == null) ? null : v;\n	};\n\n	function FcnMgr(namedFcns) {\n		this.fcns = namedFcns;\n	}\n	FcnMgr.idx = 0;\n	FcnMgr.prototype.getFcn = function(fcnOrFcnName) {\n		if (!fcnOrFcnName) throw \"function name is null or undefined\";\n		switch (typeof fcnOrFcnName) {\n			case \"string\":\n			case \"function\":\n				break;\n			default:\n				throw \"illegal parameter type: \" + (typeof fcnOrFcnName);\n		}\n		var fcn = (typeof fcnOrFcnName == \"string\") ? this.fcns[fcnOrFcnName] : fcnOrFcnName;\n		if (!fcn) throw \"function is null or undefined\";\n		return fcn;\n	}\n	FcnMgr.prototype.callExternal = function(fcnOrFcnName) {\n		if (!window.self.parent.v3Lander) {\n			logErrorToTagServer(\"window.self.parent.v3Lander is undefined, callExternal returns null\");\n			return null;\n		}\n		var fcn = this.getFcn(fcnOrFcnName);\n		var name = this.publish(fcn);\n		var args = this._normArgs(arguments);\n		var retval = null;\n		try {\n			retval = window.self.parent.v3Lander.FMProxy.getFcn(name).apply(window.self.parent, args);\n		} catch (err) {\n			throw \"function eval failed. err=\" + err.toString();\n		}\n		this.unpublish(name);\n		return retval;\n	};\n	FcnMgr.prototype._normArgs = function(argumnts) {\n		var args = [];\n		if (argumnts.length > 1) {\n			for (var idx = 1; idx < argumnts.length; idx++) {\n				args[idx - 1] = argumnts[idx];\n			}\n		}\n		return args;\n	};\n	FcnMgr.prototype.exec = function(fcnOrFcnName) {\n		var fcn = this.getFcn(fcnOrFcnName);\n		try {\n			return fcn.apply(self, this._normArgs(arguments));\n		} catch (err) {\n			throw \"function eval failed. err=\" + err.toString();\n		}\n	};\n	FcnMgr.prototype.publish = function(fcn, name) {\n		var name = !! name ? name : 'fcn_' + FcnMgr.idx++;\n		window.self.parent.v3Lander.FMProxy.addFcn(name, fcn.toString());\n		return name;\n	};\n	FcnMgr.prototype.unpublish = function(name) {\n		window.self.parent.v3Lander.FMProxy.removeFcn(name);\n	};\n\n	function CM47(id, xd) {\n		this._frameworkModule(id);\n		this.xd = xd;\n		this.cookies = {};\n		this.dsender = new DeltaSender(urls.cookieSetURL);\n		this.JSON = MI8.JSON;\n		this.version = 3;\n		this.initMessagingComplete = false;\n		this.iframeProxyArray = null;\n		this.set3rdPartyCookieBusy = false;\n		this.set3rdPartyCookieQueue = [];\n		this.overflowLogged = false;\n		this.cleanupFailLogged = false;\n	}\n	MI8.prepare(CM47).im13(MI8.FM2).im13(MI8.RC54);\n	CM47.CM = null;\n	CM47.getInstance = function(xd) {\n		if (CM47.CM == null) {\n			CM47.CM = new CM47(\"CM\", xd);\n		}\n		return CM47.CM;\n	};\n	CM47.prototype.init = function() {\n		if (this.initialized) return;\n		this.initialized = true;\n		log(this.getID() + \" initialized.\");\n		this.initMessagingComplete = this.initMessaging();\n	};\n	CM47.prototype.start = function() {\n		if (this.started) return;\n		this.started = true;\n	};\n	CM47.prototype.getPeer = function() {\n		return (isSameOrigin() && isPersistentWindow()) ? window.parent.opener.inqFrame.Inq.CM : null;\n	};\n	CM47.prototype.addValueToCookieCache = function(cName, name, value, isJSON, update) {\n		if (value != undefined) {\n			value = !! isJSON ? MI8.JSON.parse(decodeURIComponent(value)) : value;\n		}\n		if (!update) {\n			if (isPersistentWindow()) {\n				try {\n					var cmPeer = this.getPeer();\n					if ( !! cmPeer) {\n						if (!cmPeer.persistentWindow) {\n							cmPeer.persistentWindow = win;\n						}\n						if (value != undefined) {\n							cmPeer.addValueToCookieCache(cName, name, encodeURIComponent(MI8.JSON.stringify(value)), true, true);\n						} else {\n							cmPeer.addValueToCookieCache(cName, name, null, null, true);\n						}\n					}\n				} catch (err) {\n					log(\"Error propagating value to main window from Cookie manager.\");\n				}\n			} else {\n				try {\n					var persistentWindow = this.persistentWindow;\n					if ( !! persistentWindow) {\n						var cmPersistent = persistentWindow.inqFrame.Inq.CM;\n						if ( !! cmPersistent) {\n							if (value != undefined) {\n								cmPersistent.addValueToCookieCache(cName, name, encodeURIComponent(MI8.JSON.stringify(value)), true, true);\n							} else {\n								cmPersistent.addValueToCookieCache(cName, name, null, null, true);\n							}\n						}\n					}\n				} catch (err) {\n					log(\"Error propagating value to persistent\");\n				}\n			}\n		}\n		if (value == undefined) {\n			if (this.cookies[cName]) {\n				delete this.cookies[cName][name];\n			}\n		} else {\n			if (!this.cookies[cName]) {\n				this.cookies[cName] = {};\n			}\n			this.cookies[cName][name] = value;\n		}\n	};\n	CM47.prototype.write = function(cRes, name, value) {\n		var cObj = null;\n		var cVal = null;\n		var cName = cRes.getName();\n		if (cName != \"pc\" && value != undefined) {\n			var predictedResult = this.predictOverflow(cRes, name, value);\n			if (predictedResult != 0) {\n				var pruneSuccessful = this.pruneCookieOnOverflow(predictedResult);\n				if (!pruneSuccessful) {\n					var msg = \"Cookie overflow! Aborted write of cookie \" + cName + \". \";\n					log(\"ERROR: \" + msg);\n					if (!this.cleanupFailLogged) {\n						msg = prepareLoggingContext(msg);\n						this.send(urls.loggingURL, {\n							level: 'ERROR',\n							line: msg\n						});\n						this.cleanupFailLogged = true;\n					}\n					return;\n				}\n			}\n		}\n		if (this.xd) {\n			var oldValue = this.JSON.stringify(this.cookies[cName]);\n			this.addValueToCookieCache(cName, name, value);\n			if (cRes.getResourceID() == \"vital\") {\n				this.cookies[cName][\"v\"] = this.version;\n			}\n			var newValue = this.JSON.stringify(this.cookies[cName]);\n			if (true || oldValue != newValue) {\n				this.set3rdPartyCookie(\"SCBR3\", siteID, cName, this.cookies[cName], !cRes.getPath() ? null : cRes.getPath(), cRes.getLifetime());\n			}\n		} else {\n			var c = this._getCookie(cName);\n			if (c == null) {\n				cObj = {};\n			} else {\n				try {\n					cObj = this.JSON.parse(c);\n				} catch (e) {\n					cObj = {};\n				}\n			}\n			if (cObj == null) cObj = {};\n			if (value == undefined) {\n				delete cObj[name];\n			} else {\n				cObj[name] = value;\n			}\n			if (cRes.getResourceID() == \"vital\") {\n				cObj[\"v\"] = this.version;\n			}\n			cVal = this.JSON.stringify(cObj);\n			this._setCookie(cRes, cVal);\n		}\n	};\n	CM47.prototype.postToServer = function(action, data) {\n		if (Inq.isNull(data) || Inq.isNull(action)) return;\n		boxID = \"box\" + Math.floor(Math.random() * 1000011);\n		var port = (inqFrame.location.port != \"\") ? \":\" + inqFrame.location.port : \"\";\n		var parentURL = inqFrame.location.protocol + \"//\" + inqFrame.location.hostname + port + inqFrame.location.pathname;\n		var postForm = \"POST||\" + boxID + \"||\" + parentURL + \"||\" + action + \"?\";\n		for (var name in data) {\n			if (typeof data[name] == \"function\") continue;\n			postForm += (name + \"=\" + encodeURIComponent(data[name]) + \"&\");\n		}\n		postForm = postForm.substring(0, postForm.length - 1);\n		this.postRequestToIframeProxy(postForm, boxID);\n	};\n	CM47.prototype.read = function(cRes, name) {\n		var cVal = null;\n		var cName = cRes.getName();\n		if (this.xd) {\n			try {\n				if (!isNullOrUndefined(this.cookies[cName])) {\n					cVal = this.cookies[cName][name];\n				}\n			} catch (e) {\n				log(e);\n			}\n		} else {\n			var c = this._getCookie(cName);\n			var cObj = null;\n			try {\n				if (c) {\n					cObj = this.JSON.parse(c);\n					if (cObj != null) {\n						cVal = cObj[name];\n					}\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n		return cVal;\n	};\n	CM47.prototype.clear = function(cResId) {\n		var cRes = resources[cResId];\n		if (this.xd) {\n			var cName = cRes.getName();\n			delete this.cookies[cName];\n			this.set3rdPartyCookie(\"SCBR3\", siteID, cName, \"\", null, -1 * 86400000);\n			this.send(urls.loggingURL, {\n				level: \"info\",\n				line: (\"clear cookie \" + cName + \", siteID=\" + siteID + \", pageID=\" + LDM.getPageID() + \", custID=\" + Inq.getCustID())\n			});\n		} else {\n			this.expireCookie(cResId);\n		}\n	};\n	CM47.prototype.dump = function() {\n		if (this.xd) {\n			var boxID = \"box\" + Math.floor(Math.random() * 1000011);\n			var port = (inqFrame.location.port != \"\") ? \":\" + inqFrame.location.port : \"\";\n			var parentURL = inqFrame.location.protocol + \"//\" + inqFrame.location.hostname + port + inqFrame.location.pathname;\n			var postCookieRequest = \"DUMP\" + \"||\" + boxID + \"||\" + \"\" + \"||\" + parentURL + \"||\" + encodeURIComponent(urls.loggingURL);\n			this.postRequestToIframeProxy(postCookieRequest, boxID);\n		}\n	};\n	CM47.prototype.predictOverflow = function(cRes, name, value) {\n		var newObj = {};\n		newObj[name] = value;\n		var newObjSize = encodeURIComponent(this.JSON.stringify(newObj)).length;\n		var oldObjSize = 0;\n		var cName = cRes.getName();\n		var cObj = {};\n		if (this.xd) {\n			if (this.cookies[cName]) {\n				cObj = this.cookies[cName];\n			}\n		} else {\n			var c = this._getCookie(cName);\n			if (c) {\n				try {\n					cObj = this.JSON.parse(c);\n				} catch (e) {}\n			}\n		}\n		if (!isNullOrUndefined(cObj[name])) {\n			oldObjSize = encodeURIComponent(this.JSON.stringify(cObj[name])).length;\n		}\n		var predictedDelta = newObjSize - oldObjSize;\n		var result = 0;\n		if (predictedDelta > 0) {\n			var cResSize = this.getCookieSize(cRes);\n			var cookieLimit = getCookieSizeLimit();\n			if (cookieLimit && (cResSize + predictedDelta > cookieLimit)) {\n				result = cResSize + predictedDelta - cookieLimit;\n			} else {\n				var totalSize = this.getCookieSize();\n				var cookieTotalLimit = getCookieTotalSizeLimit();\n				if (cookieTotalLimit && (totalSize + predictedDelta > cookieTotalLimit)) {\n					result = totalSize + predictedDelta - cookieTotalLimit;\n				}\n			}\n		}\n		return result;\n	}\n	CM47.prototype.getCookieSize = function(cRes) {\n		var size = 0;\n		if (!cRes) {\n			if (this.xd) {\n				for (var res in resources) {\n					if (resources[res] && resources[res].getName && resources[res].getPath) {\n						size += this.getCookieSize(resources[res]);\n					}\n				}\n			} else {\n				size = document.cookie.length;\n			}\n		} else {\n			var cName = cRes.getName();\n			var cVal;\n			if (this.xd) {\n				cVal = this.JSON.stringify(this.cookies[cName]);\n			} else {\n				cVal = this._getCookie(cName);\n			}\n			if (cVal) size = cName.length + 1 + encodeURIComponent(cVal).length;\n		}\n		return size;\n	}\n	CM47.prototype.pruneCookieOnOverflow = function(byteCountToFree) {\n		var cookiesToPrune = [];\n		var stateRes = resources[\"state\"];\n		var inqStateSize = this.getCookieSize(stateRes);\n		if (inqStateSize >= byteCountToFree) {\n			cookiesToPrune[0] = stateRes;\n		} else if (!CHM.isChatInProgress()) {\n			var sesRes = resources[\"session\"];\n			var inqSessionSize = this.getCookieSize(sesRes);\n			if (inqStateSize + inqSessionSize >= byteCountToFree) {\n				cookiesToPrune[0] = stateRes;\n				cookiesToPrune[1] = sesRes;\n			}\n		}\n		if (cookiesToPrune.length > 0) {\n			var cookieNames = [];\n			for (var i = 0; i < cookiesToPrune.length; i++) {\n				cookieNames[i] = cookiesToPrune[i].getName();\n			}\n			var msg = \"Cookie overflow! Trying to clear following cookie(s): \" + cookieNames.join() + \". \";\n			log(\"ERROR: \" + msg);\n			if (!this.overflowLogged) {\n				msg = prepareLoggingContext(msg);\n				this.send(urls.loggingURL, {\n					level: 'ERROR',\n					line: msg\n				});\n				this.overflowLogged = true;\n			}\n			for (var i = 0; i < cookiesToPrune.length; i++) {\n				this.clear(cookiesToPrune[i].getResourceID());\n			}\n			return true;\n		} else {\n			return false;\n		}\n	}\n	CM47.prototype._setCookie = function(cRes, cVal, cLifetime) {\n		var name = cRes.getName();\n		var lifetime = cRes.getLifetime();\n		if ( !! cLifetime) lifetime = cLifetime;\n		var path = cRes.getPath();\n		var domain = cRes.getDomain();\n		var secure = cRes.getSecure();\n		var now = new Date();\n		var expires_date = new Date(now.getTime() + lifetime);\n		var update = null;\n		if ((name == \"pc\" || this.isPersistentCookiesAllowed()) && lifetime > 0) {\n			update = name + \"=\" + encodeURIComponent(cVal) + \";expires=\" + expires_date.toGMTString() + ((path) ? \";path=\" + path : \"\") + ((domain) ? \";domain=\" + domain : \"\") + ((secure) ? \";secure\" : \"\");\n		} else {\n			update = name + \"=\" + encodeURIComponent(cVal) + ((path) ? \";path=\" + path : \"\") + ((domain) ? \";domain=\" + domain : \"\") + ((secure) ? \";secure\" : \"\");\n		}\n		document.cookie = update;\n	};\n	CM47.prototype._getCookie = function(cName, data) {\n		var cookies = this._getCookies(data);\n		if ( !! cookies && !! cookies[cName]) {\n			return cookies[cName];\n		}\n		return null;\n	};\n	CM47.prototype._getCookies = function(data) {\n		var a_all_cookies = (isNullOrUndefined(data)) ? document.cookie.split(';') : data.split(';');\n		var a_temp_cookie = '';\n		var cookie_name = '';\n		var cookie_value = null;\n		var retval = null;\n		for (var i = 0; i < a_all_cookies.length; i++) {\n			a_temp_cookie = a_all_cookies[i].split('=');\n			cookie_name = a_temp_cookie[0].replace(/^\\s+|\\s+$/g, '');\n			if (a_temp_cookie.length > 1) {\n				cookie_value = decodeURIComponent(a_temp_cookie[1].replace(/^\\s+|\\s+$/g, ''));\n			}\n			if (retval == null) retval = {};\n			retval[cookie_name] = cookie_value;\n			a_temp_cookie = null;\n			cookie_name = '';\n		}\n		return retval;\n	};\n	CM47.prototype.rol1 = function(cRes) {\n		var clearVal = this.JSON.stringify({});\n		this._setCookie(cRes, clearVal);\n	};\n	CM47.prototype.setXDCookies = function(cookieData) {\n		this.cookies = cookieData;\n	};\n	CM47.prototype.onThirdPartyCookieQueueEmpty = null;\n	CM47.prototype.onThirdPartyCookieQueueEmptyHandlers = [];\n	CM47.prototype.isThirdPartyCookieQueueEmpty = function() {\n		return (0 == this.set3rdPartyCookieQueue.length) && !this.set3rdPartyCookieBusy;\n	};\n	CM47.prototype.set3rdPartyCookie = function(cmd, site, name, delta, path, expiry) {\n		if (!path) path = \"/\";\n		if (!expiry) expiry = \"\";\n		if (isNullOrUndefined(cmd) || isNullOrUndefined(site) || isNullOrUndefined(name)) return;\n		var boxID = \"box\" + Math.floor(Math.random() * 1000011);\n		var port = (inqFrame.location.port != \"\") ? \":\" + inqFrame.location.port : \"\";\n		var parentURL = inqFrame.location.protocol + \"//\" + inqFrame.location.hostname + port + inqFrame.location.pathname;\n		var sDelta = encodeURIComponent(\"\" + this.JSON.stringify(delta));\n		var postCookie = cmd + \"||\" + boxID + \"||\" + site + \"||\" + parentURL + \"||\" + name + \"||\" + sDelta + \"||\" + path + \"||\" + expiry;\n		if (0 == this.set3rdPartyCookieQueue.length) this.set3rdPartyCookieQueue[0] = {\n			name: name,\n			postCookie: postCookie\n		};\n		else {\n			var i = 0;\n			for (i = 0; i < this.set3rdPartyCookieQueue.length; i++) {\n				if (this.set3rdPartyCookieQueue[i].name == name) {\n					this.set3rdPartyCookieQueue[i].postCookie = postCookie;\n					break;\n				}\n			}\n			if (i == this.set3rdPartyCookieQueue.length) {\n				this.set3rdPartyCookieQueue[i] = {\n					name: name,\n					postCookie: postCookie\n				};\n			}\n		}\n		if (this.set3rdPartyCookieBusy) return;\n		this.set3rdPartyCookieBusy = true;\n		this.set3rdPartyCookieFromQueue();\n	};\n	CM47.prototype.set3rdPartyCookieFromQueue = function() {\n		var cookieQItem = null;\n		cookieQItem = this.set3rdPartyCookieQueue.shift();\n		if (!isNullOrUndefined(cookieQItem)) {\n			var items = cookieQItem.postCookie.split(\"||\");\n			this.postRequestToIframeProxy(cookieQItem.postCookie, items[1]);\n		} else {\n			this.set3rdPartyCookieBusy = false;\n			if (this.onThirdPartyCookieQueueEmpty != null) {\n				this.onThirdPartyCookieQueueEmpty();\n			}\n		}\n	};\n	CM47.prototype.whenCookiesCommitted = function(handler) {\n		if (this.xd) {\n			if (this.isThirdPartyCookieQueueEmpty()) handler();\n			else {\n				this.onThirdPartyCookieQueueEmptyHandlers.push(handler);\n				this.onThirdPartyCookieQueueEmpty = function() {\n					(CM).whenCookiesFireHandlers();\n				};\n				if (this.isThirdPartyCookieQueueEmpty()) {\n					this.whenCookiesFireHandlers();\n				}\n			}\n		} else {\n			handler();\n		}\n	};\n	CM47.prototype.whenCookiesFireHandlers = function() {\n		log(\"CM47.whenCookiesFireHandlers() entered: got \" + this.onThirdPartyCookieQueueEmptyHandlers.length + \" handler(s).\");\n		this.onThirdPartyCookieQueueEmpty = null;\n		while (this.onThirdPartyCookieQueueEmptyHandlers.length > 0) {\n			var handlerRoutine = this.onThirdPartyCookieQueueEmptyHandlers.shift();\n			if (handlerRoutine) {\n				try {\n					handlerRoutine();\n				} catch (e) {\n					log(\"exception in whenCookiesFireHandlers(): \" + e.message, \"error\");\n				}\n			}\n		}\n	};\n	CM47.prototype.createIframeProxy = function() {\n		var _win = inqFrame;\n		var boxID = \"iframeProxy\" + Math.floor(Math.random() * 1000011);\n		var port = (inqFrame.location.port != \"\") ? \":\" + inqFrame.location.port : \"\";\n		var parentURL = inqFrame.location.protocol + \"//\" + inqFrame.location.hostname + port + inqFrame.location.pathname;\n		var postListener = \"LISTEN\" + \"||\" + boxID + \"||\" + parentURL + \"||\";\n		this.postRequestToIframeByName(postListener, boxID);\n	};\n	CM47.prototype.postRequestToIframeByName = function(request, frameId) {\n		var div = window.document.getElementById(\"inqPostBox\");\n		if (!div) {\n			div = Inq.createFloatingDiv(\"inqPostBox\", 0, 0, 1, 1, window.inqFrame);\n			div.style.display = \"\";\n			div.style.cssText += \"opacity:0.0;filter:alpha(opacity=0);\";\n			div.style.cssText += \"overflow: hidden;overflow-x: hidden; overflow-y: hidden\";\n		}\n		var divsub = window.document.createElement(\"DIV\");\n		var base = this.getIFrameBaseURL();\n		var frameSrc = base + \"/tagserver/postToServer.htm\";\n		var iframe = \"<IFRAME \" + \"ID=\" + frameId + \" \" + \"STYLE=\\\"overflow: hidden; display: block; border: none; top:0px;left:0px;width: 1px; height: 1px;\\\" \" + \"NAME=\\\"\" + encodeURIComponent(request) + \"\\\" \" + \"SRC=\" + frameSrc + \">\\n</IFRAME>\";\n		divsub.style.cssText = div.style.cssText;\n		divsub.innerHTML = iframe;\n		div.appendChild(divsub);\n	};\n	CM47.prototype.getIFrameBaseURL = function() {\n		if (typeof this._iFrameBaseURL == 'undefined') {\n			this._iFrameBaseURL = Inq.urls.baseURL.split(\"/\", 3).join(\"/\");\n			if ((/safari|firefox/i).test(window.navigator.userAgent) && !(/chrome/i).test(window.navigator.userAgent)) {\n				this._iFrameBaseURL = CM47.secureHTTP(this._iFrameBaseURL);\n			}\n		}\n		return this._iFrameBaseURL;\n	};\n	CM47.secureHTTP = function(httpURL) {\n		return httpURL.replace(/^http:/i, 'https:');\n	};\n	CM47.prototype.postRequestToIframeByMessage = function(request, frameId, frm) {\n		var pattern = \"||\" + frameId + \"||\";\n		var replacement = \"||\" + frm.id + \"||\";\n		request = request.split(pattern).join(replacement);\n		var win = frm.contentWindow;\n		if (win != null && win[\"postMessage\"] != null) win.postMessage(encodeURIComponent(request), \"*\");\n	};\n	CM47.prototype.postRequestToIframeProxy = function(request, frameid) {\n		if ((this.iframeProxyArray == null)) initMessagingComplete = this.initMessaging();\n		if (window[\"postMessage\"] == null || this.iframeProxyArray.length < 1) {\n			this.postRequestToIframeByName(request, frameid);\n		} else {\n			var frm = this.iframeProxyArray.shift();\n			if (frm) {\n				try {\n					this.postRequestToIframeByMessage(request, frameid, frm);\n				} catch (e) {\n					this.postRequestToIframeByName(request, frameid);\n				}\n			} else this.postRequestToIframeByName(request, frameid);\n		}\n	};\n	CM47.prototype.OnMessage = function(event) {\n		return CM.onMessage(event);\n	};\n	CM47.prototype.onMessage = function(e) {\n		var ev = (e) ? e : event;\n		var message = ev.data;\n		var origin = ev.origin.split(\"/\", 3)[2];\n		var base = Inq.urls.baseURL.split(\"/\", 3)[2];\n		origin = origin.split(\".\");\n		base = base.split(\".\");\n		var server = origin.shift();\n		base.shift();\n		origin = origin.join(\".\");\n		base = base.join(\".\");\n		if (origin != base) return false;\n		var items = message.split(\"||\");\n		var data = decodeURIComponent(items[1]);\n		try {\n			window.eval(data);\n		} catch (fault) {\n			ROM.post(urls.loggingURL, {\n				level: 'ERROR',\n				line: ('IFRAME/PROXY: ' + catchFormatter(fault))\n			});\n		}\n		try {\n			var tag = self.document.getElementById(items[0]);\n			if (tag && server != \"cobrowse\") {\n				this.iframeProxyArray.push(tag);\n			}\n		} catch (e) {}\n		return false;\n	};\n	CM47.prototype.requestCookie = function(cmd, site) {\n		var _win = inqFrame;\n		if (isNullOrUndefined(cmd) || isNullOrUndefined(site)) return;\n		var boxID = \"box\" + Math.floor(Math.random() * 1000011);\n		var port = (inqFrame.location.port != \"\") ? \":\" + inqFrame.location.port : \"\";\n		var parentURL = inqFrame.location.protocol + \"//\" + inqFrame.location.hostname + port + inqFrame.location.pathname;\n		var postCookieRequest = cmd + \"||\" + boxID + \"||\" + site + \"||\" + parentURL + \"||\" + \"no action\";\n		this.postRequestToIframeProxy(postCookieRequest, boxID);\n	};\n	CM47.prototype.initMessaging = function() {\n		if (this.initMessagingComplete) return true;\n		Inq[\"proxyError\"] = this.proxyError;\n		if (window[\"postMessage\"] == null) return true;\n		if (window.addEventListener) window.addEventListener(\"message\", this.OnMessage, false);\n		else if (window[\"attachEvent\"]) window.attachEvent(\"onmessage\", this.OnMessage);\n		else window.onmessage = this.OnMessage;\n		if (this.iframeProxyArray == null) {\n			this.iframeProxyArray = [];\n		}\n		return true;\n	};\n	CM47.prototype.proxyError = function(errorText) {\n		this.send(urls.loggingURL, {\n			level: \"INFO\",\n			line: encodeURIComponent(errorText)\n		});\n	};\n	CM47.prototype.onRemoteCallback = function(data) {\n		this.setXDCookies(data);\n	};\n	CM47.prototype.expireCookie = function(cookieResourceId) {\n		log(\"EXPIRING COOKIE \\\"\" + cookieResourceId + \"\\\"\");\n		var cRes = resources[cookieResourceId];\n		this._setCookie(cRes, \"\", -1);\n	};\n	CM47.prototype.convertCookies = function() {\n		var cookiePieces = this._getCookie(resources[\"vital\"].getName());\n		if (cookiePieces == null || cookiePieces.match(/\\\"v\\\":\\d/) || cookiePieces.match(/,v:\\d/)) {\n			return;\n		}\n		cookiePieces = cookiePieces.split(\"^\");\n		this.rol1(resources[\"vital\"]);\n		this.rol1(resources[\"state\"]);\n		this.rol1(resources[\"session\"]);\n		for (var innerIndex = 0; innerIndex < cookiePieces.length; innerIndex++) {\n			if (cookiePieces[innerIndex].match(/^inq\\|/)) {\n				var custObj = this.JSON.parse(cookiePieces[innerIndex].split(\"|\")[1]);\n				this.write(resources[\"vital\"], \"INQ\", {\n					\"custID\": custObj.customerID\n				});\n			} else if (cookiePieces[innerIndex].match(/^saleMgr\\|/)) {\n				var saleObj = this.JSON.parse(cookiePieces[innerIndex].split(\"|\")[1]);\n				if (saleObj.state && saleObj.state === \"QUALIFIED\") {\n					this.write(resources[\"vital\"], \"assistAgt\", saleObj.qDat.agtID);\n					this.write(resources[\"vital\"], \"assistChatID\", saleObj.qDat.chatID ? saleObj.qDat.chatID : \"-1\");\n					this.write(resources[\"vital\"], \"saleState\", getConstant(\"SALE_STATE_ASSISTED\"));\n					this.write(resources[\"vital\"], \"assistDT\", saleObj.qDat.date);\n				} else {\n					this.write(resources[\"vital\"], \"CVM\", {\n						\"state\": saleObj.state\n					});\n				}\n			}\n		}\n	};\n\n	function DeltaSender(uri) {\n		this.waiting = false;\n		this.uri = uri;\n		this._pid = 0;\n		this.dObj = MI8.mixAbsorber();\n		this.isIE = isIE();\n	}\n	MI8.prepare(DeltaSender).im13(MI8.RC54).im13(MI8.FM2).im13(MI8.JSON);\n	DeltaSender.prototype.onRemoteCallback = function() {\n		this.waiting = false;\n		this.send();\n		if (this._pid != 0) {\n			clearInterval(this._pid);\n			this._pid = 0;\n		}\n	};\n	DeltaSender.prototype.send = function(o) {\n		if (o) {\n			this.dObj.absorb(o, true);\n			this.hasData = true;\n		}\n		if (!this.waiting && this.hasData) {\n			this.waiting = true;\n			var data = this.prepareDataToSend(this.dObj);\n			if (this.isIE && ROM.isOversizeRemoteCall(this.uri, data)) {\n				this.sendIEPartData(this.dObj);\n			} else {\n				this.callRemote(this.uri, data);\n				this.dObj = MI8.mixAbsorber();\n				this.hasData = false;\n			}\n			this._pid = setInterval(\"Inq.CM.dsender.send();\", 500);\n		}\n	};\n	DeltaSender.prototype.prepareDataToSend = function(data) {\n		return {\n			siteID: siteID,\n			c: this.stringify(data)\n		};\n	};\n	DeltaSender.prototype.sendIEPartData = function(data) {\n		var partData = {};\n		for (var prop in data) {\n			var part = data[prop];\n			if (typeOf(part) == \"function\") {\n				continue;\n			}\n			if (this.preparePartData(partData, part, prop)) {\n				delete data[prop];\n			} else {\n				break;\n			}\n		}\n		this.callRemote(this.uri, this.prepareDataToSend(partData));\n	};\n	DeltaSender.prototype.preparePartData = function(partData, data, name) {\n		if (!data) {\n			return true;\n		}\n		var dataToSend = {};\n		partData[name] = dataToSend;\n		var anyDataAdded = false;\n		for (var prop in data) {\n			if (typeOf(data[prop]) == \"function\") {\n				continue;\n			}\n			dataToSend[prop] = data[prop];\n			if (ROM.isOversizeRemoteCall(this.uri, this.prepareDataToSend(partData))) {\n				if (anyDataAdded) {\n					delete dataToSend[prop];\n				} else {\n					delete partData[name];\n				}\n				return false;\n			}\n			anyDataAdded = true;\n			delete data[prop];\n		}\n		return true;\n	};\n	CM47.prototype.isPersistentCookiesAllowed = function() {\n		if (isNullOrUndefined(this.isPersistentCookiesEnabled)) {\n			var pcVar = new VBER34(\"pc\", {}, resources[\"pc\"]);\n			pcVar.setValue({});\n			var enabled = !! this.read(resources[\"pc\"], \"pc\");\n			if (enabled) CM.expireCookie(\"pc\");\n			this.isPersistentCookiesEnabled = enabled;\n		}\n		return this.isPersistentCookiesEnabled;\n	};\n	CM47.isSessionCookiesEnabled = null;\n	CM47.isSessionCookiesAllowed = function() {\n		if (CM47.isSessionCookiesEnabled == null) {\n			var c_value = Math.floor(Math.random() * 1001),\n				c_name = 'sPc';\n			CM47.isSessionCookiesEnabled = false;\n			document.cookie = c_name + \"=\" + c_value;\n			if ((document.cookie.indexOf(c_name) != -1) && (document.cookie.indexOf(c_value) != -1)) {\n				CM47.isSessionCookiesEnabled = true;\n				document.cookie = c_name + \"=; expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n			}\n		}\n		return CM47.isSessionCookiesEnabled;\n	};\n\n	function CCD(id, name, path, lifetime, domain, secure, cm) {\n		this._resource(id);\n		this._observable();\n		this.getName = function() {\n			return name;\n		};\n		this.getPath = function() {\n			return path;\n		};\n		this.getLifetime = function() {\n			return lifetime;\n		};\n		this.getDomain = function() {\n			return domain;\n		};\n		this.isSecure = function() {\n			return secure;\n		};\n		this.getSecure = function() {\n			return this.isSecure();\n		};\n		this.cm = cm;\n	}\n	MI8.prepare(CCD).im13(MI8.Resource).im13(MI8.JSON).im13(MI8.Observable);\n	CCD.prototype.setCookieMgr = function(cm) {\n		this.cm = cm;\n	};\n	CCD.prototype.isListener = function(l) {\n		return !!(l && (l.onResourceReset && typeof l.onResourceReset == \"function\"));\n	};\n	CCD.prototype.fireResourceResetEvent = function() {\n		function f(l, evt) {\n			try {\n				if ( !! l.onResourceReset) {\n					l.onResourceReset(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event ResourceReset on \" + l.toString() + \":\" + e);\n			}\n		}\n		var event = {\n			customerID: Inq.getCustID()\n		};\n		this._fireEvt(f, event);\n	};\n	CCD.prototype.write = function(name, value) {\n		if (this.cm) {\n			this.cm.write(this, name, value);\n		}\n	};\n	CCD.prototype.read = function(name) {\n		var value = this.cm.read(this, name);\n		return value;\n	};\n	CCD.prototype._serialize = function(value) {\n		return this.stringify(value);\n	};\n	CCD.prototype._unserialize = function(value) {\n		return this.parse(value);\n	};\n	CCD.prototype.getResourceID = function() {\n		return this._rsrcID;\n	};\n\n	function WebResource(id, url, permissions, method) {\n		this._resource(id);\n		this.url = url;\n		this.permissions = permissions;\n		this.method = method;\n	}\n	MI8.prepare(WebResource).im13(MI8.Resource).im13(MI8.JSON).im13(MI8.RC54);\n	WebResource.prototype.write = function(name, value) {};\n	WebResource.prototype.read = function(name) {};\n	WebResource.prototype._serialize = function(value) {\n		return value;\n	};\n	WebResource.prototype._unserialize = function(value) {\n		return value;\n	};\n\n	function JSResource(id, permissions) {\n		this._resource(id);\n		this.data = [];\n	}\n	MI8.prepare(JSResource).im13(MI8.Resource);\n	JSResource.prototype.write = function(name, value) {\n		this.data[name] = value;\n	};\n	JSResource.prototype.read = function(name) {\n		try {\n			return this.data[name];\n		} catch (e) {}\n		return null;\n	};\n	JSResource.prototype._serialize = function(value) {\n		return value;\n	};\n	JSResource.prototype._unserialize = function(value) {\n		return value;\n	};\n\n	function VBER34(name, dfltValue, resource, shortName, fnCast, fnSer) {\n		this.name = name;\n		this.resource = resource;\n		this.dfltValue = dfltValue;\n		this.shortName = shortName;\n		if (typeof fnCast == \"function\") {\n			this._cast = fnCast;\n		}\n		if (typeof fnSer == \"function\") {\n			this._serialize = fnSer;\n		}\n		if (!isNullOrUndefined(resource) && resource.observable) {\n			resource.addListener(this);\n		}\n	}\n	MI8.prepare(VBER34).im13(MI8.XJA3);\n	VBER34.prototype.onResourceReset = function(evt) {\n		this.init();\n	};\n	VBER34.prototype.getName = function() {\n		return this.name;\n	};\n	VBER34.prototype.getShortName = function() {\n		return this.shortName;\n	};\n	VBER34.prototype.getPersistentName = function() {\n		if (isNullOrUndefined(this.getShortName())) {\n			return this.getName();\n		} else {\n			return this.getShortName();\n		}\n	};\n	VBER34.prototype.getResource = function() {\n		return this.resource;\n	};\n	VBER34.prototype.reset = function() {\n		this.setValue(this.dfltValue);\n	};\n	VBER34.prototype.init = function() {\n		if (this.getValue() == null) {\n			this.setValue(this.dfltValue);\n		}\n	};\n	VBER34.prototype._cast = function(v) {\n		return v;\n	};\n	VBER34.prototype._serialize = function(v) {\n		return v;\n	};\n	VBER34.prototype.getValue = function() {\n		var r = this.getResource();\n		var val = null;\n		if ( !! this.getShortName() && (this.getShortName() != this.getName())) {\n			var valByName = r.read(this.getName());\n			var valByPerName = r.read(this.getShortName());\n			if (!isNullOrUndefined(valByName)) {\n				r.write(this.getName());\n				if (!valByPerName && !(valByPerName === 0)) {\n					r.write(this.getShortName(), valByName);\n					valByPerName = valByName;\n				}\n			}\n			val = valByPerName;\n		} else {\n			val = this.getResource().read(this.getPersistentName());\n		}\n		return ( !! val || val === 0) ? this._cast(val) : null;\n	};\n	VBER34.prototype.setValue = function(newValue) {\n		this.getResource().write(this.getPersistentName(), this._serialize(newValue));\n		return newValue;\n	};\n\n	function ListVariable(name, dfltValue, resource, shortName, maxEntries) {\n		this.name = name;\n		this.dfltValue = dfltValue;\n		this.resource = resource;\n		this.shortName = shortName;\n		if ( !! maxEntries) {\n			this.maxEntries = maxEntries;\n		}\n	}\n	ListVariable.prototype = new VBER34();\n	ListVariable.prototype.constructor = ListVariable;\n	ListVariable.prototype.append = function(arrayParam) {\n		var arr = this.getValue();\n		arr.append(arrayParam);\n		arr.constrain(this.maxEntries);\n		this.setValue(arr);\n	};\n	ListVariable.prototype.prepend = function(arrayParam) {\n		var arr = this.getValue();\n		arr.prepend(arrayParam);\n		arr.constrain(this.maxEntries);\n		this.setValue(arr);\n	};\n\n	function DateVar(name, dfltValue, resource, shortName) {\n		this.name = name;\n		this.dfltValue = dfltValue;\n		this.resource = resource;\n		this.shortName = shortName;\n	}\n	DateVar.prototype = new VBER34();\n	DateVar.prototype.constructor = DateVar;\n	DateVar.prototype._serialize = function(o) {\n		return (o && o.constructor === Date) ? Math.floor(o.getTime()) : o;\n	};\n	DateVar.prototype._cast = function(o) {\n		return (typeOf(o) == \"number\") ? new Date(o) : o;\n	};\n\n	function DateListVar(name, dfltValue, resource, shortName, maxEntries) {\n		this.name = name;\n		this.dfltValue = dfltValue;\n		this.resource = resource;\n		this.shortName = shortName;\n		if ( !! maxEntries) {\n			this.maxEntries = maxEntries;\n		}\n	}\n	DateListVar.prototype = new ListVariable();\n	DateListVar.prototype._serializeElement = DateVar.prototype._serialize;\n	DateListVar.prototype._castElement = DateVar.prototype._cast;\n\n	function MapVariable(name, dfltValue, resource, shortName) {\n		this.name = name;\n		this.dfltValue = dfltValue;\n		this.resource = resource;\n		this.shortName = shortName;\n	}\n	MapVariable.prototype = new VBER34();\n	MapVariable.prototype.constructor = MapVariable;\n	MapVariable.prototype.set = function(key, value) {\n		var map = this.getValue();\n		map.set(key, value);\n		this.setValue(map);\n	};\n	MapVariable.prototype.unset = function(key) {\n		var map = this.getValue();\n		map.unset(key);\n		this.setValue(map);\n	};\n	MapVariable.prototype.clear = function() {\n		var map = this.getValue();\n		map.clear();\n		this.setValue(map);\n	};\n	MapVariable.prototype.each = function(fnc) {\n		var map = this.getValue();\n		map.each(fnc);\n		this.setValue(map);\n	};\n\n	function X4334rtf(id, xd) {\n		this._frameworkModule(id);\n		this.xd = xd;\n		this._observable();\n		this._vartable = {};\n		this.CM = CM47.getInstance(this.xd);\n		this.getVar = function(varName, rule) {\n			var rv = this._vartable[varName + (rule ? (\"_\" + rule.getID()) : \"\")];\n			if (!rv) {\n				rv = this._vartable[varName];\n			}\n			return !!rv ? rv : null;\n		};\n		this.addVars = function(varArr) {\n			for (var i = 0; i < varArr.length; i++) {\n				this.addVar(varArr[i]);\n			}\n		};\n		this.addVar = function(v) {\n			this._vartable[v.getName()] = v;\n		};\n		this.fireDataReady = function() {\n			for (var idx = 0; idx < this._listeners.length; idx++) {\n				try {\n					this._listeners[idx].agrtyer({});\n				} catch (e) {\n					log(e);\n				}\n			}\n		};\n		this.isListener = function(l) {\n			return (l && l.agrtyer) ? true : false;\n		};\n		this.init = function() {\n			if (this.initialized) return;\n			this.initialized = true;\n			for (var aVar in this._vartable) {\n				this._vartable[aVar].init();\n			}\n			log(this.getID() + \" initialized.\");\n		};\n		this.reset = function(resourceID) {\n			if (!isNullOrUndefined(resourceID)) {\n				this.CM.clear(resourceID);\n				var resource = resources[resourceID];\n				if (!isNullOrUndefined(resource)) {\n					resource.fireResourceResetEvent();\n					log(\"resource reset for resourceID : \" + resourceID);\n				}\n			}\n		};\n		this.start = function() {\n			if (this.started) return;\n			this.started = true;\n		};\n		this.getCookieMgr = function() {\n			return this.CM;\n		};\n		this.isCrossDomain = function() {\n			return this.xd;\n		};\n	}\n	X4334rtf.PM = null;\n	X4334rtf.getInstance = function(xd) {\n		if (X4334rtf.PM == null) {\n			X4334rtf.PM = new X4334rtf(\"PM\", xd);\n		}\n		return X4334rtf.PM;\n	};\n	MI8.prepare(X4334rtf).im13(MI8.Observable).im13(MI8.FM2);\n	X4334rtf.im13(MI8.JSON).im13(MI8.XJA3);\n\n	function RemoteOpsMgr(id, data) {\n		this._frameworkModule(id);\n		this.waitingQ = {};\n		this.ch = [];\n		for (var index = 0; index < 50; index++) {\n			this.ch[index] = new Image();\n		}\n		this.i = 0;\n		this.pIdx = 0;\n		this.ridx = 0;\n		this.isIE = isIE();\n		this.absorb(data);\n		this.lastSendTime = new Date();\n		this.postTime = [];\n		this.sendCount = 0;\n		this.rand = function(n) {\n			return (Math.round(Math.random() * 1000000000000)).toString(36);\n		};\n		this.toParamString = function(d, avoidRand) {\n			var rv = \"\";\n			if (!d) return rv;\n			var separator = \"\";\n			if (avoidRand != true) {\n				rv = \"_rand=\" + encodeURIComponent(this.rand());\n				separator = \"&\";\n			}\n			for (var idx in d) {\n				if (typeof d[idx] != \"function\" && d[idx] != null) {\n					rv += (separator + idx + \"=\" + encodeURIComponent(d[idx]));\n					separator = \"&\";\n				}\n			}\n			return rv;\n		};\n		this.sleep = function(mlSec) {\n			var date = new Date();\n			var curDate = null;\n			do {\n				curDate = new Date();\n			} while (curDate - date < mlSec);\n		};\n		this.checkSendTime = function() {\n			var curTime = new Date();\n			if (curTime - this.lastSendTime > 1000) {\n				this.sendCount = 0;\n				this.lastSendTime = curTime;\n				return;\n			}\n			if (this.sendCount < this.ch.length - 1) {\n				this.sendCount++;\n				this.lastSendTime = curTime;\n				return;\n			}\n			this.sleep(this.ch.length * 55);\n			this.sendCount = 0;\n			this.lastSendTime = new Date();\n		};\n		this.isOversizeRemoteCall = function(url, data) {\n			this.prepareDataToSend(data, null);\n			return this.isOversizeCall(url, data);\n		};\n		this.isOversizeCall = function(url, data) {\n			var pstr = this.toParamString(data);\n			pstr = ((pstr && pstr.length > 0) ? \"?\" : \"\") + pstr;\n			var reqURL = url + pstr;\n			return (this.isIE && reqURL.length > 2048);\n		};\n		this.send = function(url, data) {\n			var baseVanity = urls.vanityURL;\n			var isVanity = url.indexOf(baseVanity) == 0;\n			var hasLogdata = url.indexOf(\"/logdata\") != -1;\n			if (isVanity && hasLogdata && (data) && (v3Lander)) {\n				data[\"codeVersion\"] = v3Lander.codeVersion;\n			}\n			if (isVanity && this.isOversizeCall(url, data)) return this.post(url, data);\n			try {\n				this.checkSendTime();\n				if (this.isOversizeCall(url, data)) {\n					this.postToServer(url, data);\n					return;\n				}\n				var idx = this.i++ % this.ch.length;\n				var pstr = (typeof data == \"string\") ? data : this.toParamString(data);\n				this.ch[idx].src = url + \"?\" + pstr;\n			} catch (e) {\n				log(\"SvrCom.sendToServer ERROR:\" + e);\n			}\n		};\n		this.post = function(url, data) {\n			try {\n				var pstr = (typeof data == \"string\") ? data : this.toParamString(data);\n				var boxID = \"box\" + Math.floor(Math.random() * 1000011);\n				var port = (inqFrame.location.port != \"\") ? \":\" + inqFrame.location.port : \"\";\n				var parentURL = inqFrame.location.protocol + \"//\" + inqFrame.location.hostname + port + inqFrame.location.pathname;\n				var postCookieRequest = \"POSTBR30\" + \"||\" + boxID + \"||\" + \"\" + \"||\" + parentURL + \"||\" + encodeURIComponent(url + \"?\" + pstr);\n				(CM).postRequestToIframeProxy(postCookieRequest, boxID);\n			} catch (e) {\n				log(\"SvrCom.sendToServer ERROR:\" + e);\n			}\n		};\n		this.postToServer = function(action, data) {\n			if (isNullOrUndefined(data) || isNullOrUndefined(action)) {\n				return;\n			}\n			var doc_ = document;\n			var div = doc_.getElementById(\"inqPostBox\");\n			if (!div) {\n				div = Inq.createFloatingDiv(\"inqPostBox\", 0, 0, 1, 1);\n				div.style.display = \"\";\n				div.style.opacity = \"0\";\n			}\n			var idx = this.pIdx % 10;\n			this.pIdx++;\n			var iframe = doc_.getElementById(\"box\" + idx);\n			if (iframe) {\n				if (!isNullOrUndefined(this.postTime[idx])) {\n					var curTime = new Date().getTime();\n					var waitTime = 40;\n					if (curTime - this.postTime[idx] < waitTime) {\n						this.sleep(waitTime);\n					}\n				}\n				div.removeChild(iframe);\n			} else {\n				iframe = Inq.createHiddenIFrame(\"box\" + idx, 0, 0, 1, 1);\n			}\n			iframe.style.overflow = \"hidden\";\n			iframe.style.display = \"\";\n			iframe.width = 1;\n			iframe.height = 1;\n			iframe.src = \"javascript://\";\n			iframe.style.border = \"none\";\n			div.appendChild(iframe);\n			var doc = null;\n			if (iframe.contentDocument) {\n				doc = iframe.contentDocument;\n			} else if (iframe.contentWindow) {\n				doc = iframe.contentWindow.document;\n			} else if (iframe.document) {\n				doc = iframe.document;\n			}\n			if (doc != null) {\n				doc.open();\n				doc.write('<form name=\"aform' + idx + '\" id=\"aform' + idx + '\" action=\"' + action + '\" method=\"POST\">');\n				for (var name in data) {\n					if (typeof data[name] == \"function\") continue;\n					doc.write('<textarea name=\"' + name + '\">' + data[name] + '</textarea><br>');\n				}\n				doc.write('</form><br>');\n				doc.close();\n				doc.getElementById(\"aform\" + idx).submit();\n				this.postTime[idx] = new Date().getTime();\n			}\n		};\n		this.composeURL = function(url, data, avoidRand) {\n			var p = this.toParamString(data, avoidRand);\n			var idx = url.indexOf('?');\n			if (p.length > 0) {\n				if (idx < 0) {\n					p = \"?\" + p;\n				} else if (idx < (url.length - 1)) {\n					p = '&' + p;\n				}\n				return url + p;\n			}\n			return url;\n		};\n		this.prepareDataToSend = function(data, caller) {\n			if (isNullOrUndefined(caller)) {\n				data.rid = \"r1234567890\";\n			} else {\n				data.rid = this._queueCaller(caller);\n			}\n		};\n		this.doRemoteCall = function(url, data, caller) {\n			var _win = inqFrame;\n			this.prepareDataToSend(data, caller);\n			var pstr = this.toParamString(data);\n			var pstrFixed = ((pstr && pstr.length > 0) ? \"?\" : \"\") + pstr;\n			var baseVanity = urls.vanityURL;\n			if (this.isOversizeCall(url, data)) {\n				if (url.indexOf(baseVanity) == 0) {\n					this.post(url, pstr);\n				} else {\n					var fault = new Error(\"remote call to non-vanity domain\");\n					ROM.post(urls.loggingURL, {\n						level: 'ERROR',\n						line: ('VANITY DOMAIN ERROR: ' + catchFormatter(fault))\n					});\n				}\n			} else {\n				var s = _win.document.createElement(\"script\");\n				s.setAttribute(\"type\", \"text/javascript\");\n				s.setAttribute(\"language\", \"JavaScript\");\n				s.setAttribute(\"src\", url + pstrFixed);\n				_win.document.getElementsByTagName(\"head\")[0].appendChild(s);\n			}\n		};\n		this.newRID = function() {\n			return \"r\" + (this.ridx++);\n		};\n		this._queueCaller = function(caller) {\n			var rid = this.newRID();\n			if (caller && caller.onRemoteCallback) {\n				this.waitingQ[rid] = caller;\n			} else {\n				throw \"caller null or not an instance of RC54\";\n			}\n			return rid;\n		};\n		this._dequeueCaller = function(rid) {\n			var c = this.waitingQ[rid];\n			if (c) {\n				delete this.waitingQ[rid];\n				return c;\n			}\n			return null;\n		};\n		this.onRemoteCallback = function(rid, data) {\n			if (rid) {\n				var caller = this._dequeueCaller(rid);\n				if (caller != null) {\n					try {\n						caller.onRemoteCallback(data);\n					} catch (err) {\n						log(err);\n					}\n				}\n			}\n		};\n		this.init = function() {\n			if (this.initialized) {\n				return;\n			}\n			this.initialized = true;\n		};\n		this.start = function() {\n			if (this.started) {\n				return;\n			}\n			this.started = true;\n		};\n	}\n	MI8.prepare(RemoteOpsMgr).im13(MI8.XJA3).im13(MI8.FM2);\n\n	function EXCBTT(cEvtData) {\n		this.absorb(cEvtData);\n	}\n	EXCBTT.prototype.supportsListener = function(l) {\n		if (l) {\n			var lFcn = l[\"on\" + this.name];\n			if (lFcn && typeof lFcn == \"function\") {\n				return true;\n			}\n			if (this.aliases && this.aliases.length) {\n				for (var idx = 0; idx < this.aliases.length; idx++) {\n					lFcn = l[this.aliases[idx].name];\n					if (lFcn && typeof lFcn == \"function\") {\n						return true;\n					}\n				}\n			}\n		}\n		return false;\n	};\n	EXCBTT.prototype.getData = function(rule, evt) {\n		var data = this.getEvtData(rule, evt);\n		if (this.evtDataSupplement) {\n			MI8.mixAbsorber(data);\n			data.absorb(this.evtDataSupplement);\n		}\n		return data;\n	}\n	EXCBTT.prototype.invoke = function(l, rule, evt) {\n		if (this.supportsListener(l)) {\n			var lFcn = l[\"on\" + this.name];\n			if (lFcn && typeof lFcn == \"function\") {\n				l[\"on\" + this.name](this.getData(rule, evt));\n			}\n			if (this.aliases) {\n				for (var idx = 0; idx < this.aliases.length; idx++) {\n					var aliasEvt = this.aliases[idx];\n					lFcn = l[aliasEvt.name];\n					if (lFcn && typeof lFcn == \"function\") {\n						try {\n							var s = MI8.JSON.stringify(aliasEvt.getEvtData(rule, evt));\n							var sName = MI8.JSON.stringify(aliasEvt.name);\n							var label4l = \"_inq_el_\" + (Math.round(Math.random() * 982451653)).toString(36);\n							win[label4l] = l;\n							var code = \"(parent).\" + label4l + \"[\" + sName + \"](\" + s + \")\";\n							eval(code);\n							try {\n								win[label4l] = null;\n								delete win[label4l];\n							} catch (e) {}\n						} catch (err) {\n							err[\"within\"] = \"EXCBTT.invoke\";\n							var sErr = catchFormatter(err);\n							log(\"Error while calling the client side listeners\" + decodeURIComponent(sErr));\n							ROM.post(urls.loggingURL, {\n								level: \"info\",\n								line: (\"Failure in EXCBTT invoke \" + sErr)\n							});\n						}\n					}\n				}\n			}\n		}\n	};\n	EXCBTT.prototype.toString = function() {\n		return \"EXCBTT \" + this.name;\n	};\n	MI8.prepare(EXCBTT).im13(MI8.XJA3).im13(MI8.Cloneable);\n	EXCBTT.prototype.clone = function() {\n		return new EXCBTT(this);\n	};\n\n	function EMRTQ5(id) {\n		this._frameworkModule(id);\n		this._observable();\n		this.initialized = false;\n		this.observables = [];\n		this.cEvts = {};\n		this.init = function() {\n			if (!this.initialized) {\n				this.initialized = true;\n			}\n		};\n		this.addObservables = function(o) {\n			if (o) {\n				for (var idx in o) {\n					if (o[idx].observable && o[idx] != this) {\n						this.observables.push(o[idx]);\n					}\n				}\n			}\n		};\n		this.start = function() {\n			if (this.started) {\n				return;\n			}\n			this.started = true;\n		};\n		this.addListeners = function(list) {\n			if (list && list.length) {\n				for (var i = 0; i < list.length; i++) {\n					this.addListener(list[i]);\n				}\n			}\n		};\n		this.isListener = function(l) {\n			for (var cEvtName in this.cEvts) {\n				var cEvt = this.cEvts[cEvtName];\n				if (cEvt.supportsListener(l)) {\n					return true;\n				}\n			}\n			return false;\n		};\n	}\n	EMRTQ5.prototype.addCustomEvent = function(customEvt) {\n		if (customEvt && !this.cEvts[customEvt.name]) {\n			this.cEvts[customEvt.name] = customEvt;\n		}\n	};\n	EMRTQ5.prototype.addCustomEvents = function(customEvtsArr) {\n		if (customEvtsArr) {\n			for (var idx = 0; idx < customEvtsArr.length; idx++) {\n				this.addCustomEvent(customEvtsArr[idx]);\n			}\n		}\n	};\n	EMRTQ5.prototype.getCustomEvent = function(name) {\n		return this.cEvts[name];\n	};\n	EMRTQ5.prototype.removeCustomEvent = function(customEvt) {\n		if (customEvt) delete this.cEvts[customEvt.name];\n	};\n	EMRTQ5.prototype.fireCustomEvent = function(eventName, rule, evt, evtDataSupplementFcn, context) {\n		if ( !! context && CHM.isPersistentWindow()) {\n			try {\n				parent.opener.Inq.fireCustomEvent(eventName, evt, rule);\n			} catch (err) {\n				log(\"failed to fire custom event \\\"\" + eventName + \"\\\" from persistent window: \" + err);\n			}\n		} else {\n			var cEvt = this.cEvts[eventName];\n			if (cEvt) {\n				if (evtDataSupplementFcn) {\n					cEvt = cEvt.clone();\n					if (typeof evtDataSupplementFcn === 'function') {\n						cEvt[\"evtDataSupplement\"] = evtDataSupplementFcn(rule, evt);\n					} else {\n						cEvt[\"evtDataSupplement\"] = eval(\"(\" + evtDataSupplementFcn + \")()\");\n					}\n				}\n				this._fireEvt(function(l, evt) {\n					if (l) {\n						cEvt.invoke(l, rule, evt);\n					}\n				}, evt);\n				return;\n			}\n			throw (\"UnsupportedEventError: \" + eventName);\n		}\n	};\n	EMRTQ5.prototype.fireManualInvocationEvent = function(rule) {\n		BRM.fireManualInvocationEvent(rule);\n	};\n	MI8.prepare(EMRTQ5).im13(MI8.FM2).im13(MI8.Observable);\n	EMRTQ5.prototype.addListener = function(l) {\n		if (l) {\n			for (var i = 0; i < this.observables.length; i++) {\n				this.observables[i].addListener(l);\n			}\n			if (this.isListener(l)) {\n				this._listeners.push(l);\n			}\n		}\n	};\n	EMRTQ5.prototype.toString = function() {\n		return \"EMRTQ5(\\\"\" + this._id + \"\\\")\";\n	};\n\n	function G3RE12(id, data) {\n		this._frameworkModule(id);\n		this._observable();\n		this.initialized = false;\n		this.page = null;\n		this.quickCGIndex = {};\n		var cgIndex = 0;\n		this.reinitialized = false;\n		this.absorb(data);\n		for (var cgId in this.contentGroups) {\n			this.quickCGIndex[cgId] = cgIndex++;\n		}\n	}\n	MI8.prepare(G3RE12).im13(MI8.FM2).im13(MI8.XJA3).im13(MI8.Observable).im13(MI8.Persistable);\n	G3RE12.prototype.init = function(doReinit) {\n		if ( !! doReinit) {\n			this.page = null;\n			this.reinitialized = true;\n		}\n		if (!this.initialized) {\n			this.stateVar = new VBER34(this.getID(), {\n				lh: []\n			}, resources[\"state\"]);\n			this.stateVar.init();\n			this.load();\n		}\n		this.initialized = true;\n		if (this.page == null) {\n			var pages = this.pages;\n			var orID = Inq.overridePageID;\n			if (orID > 0) {\n				this.page = (pages[orID] ? pages[orID] : null);\n			} else {\n				for (var i in pages) {\n					var pageURL = win.document.URL.toString();\n					var r = new RegExp(pages[i].re);\n					var mat = r.exec(pageURL);\n					if (mat && mat[0] == pageURL) {\n						this.page = pages[i];\n						break;\n					}\n				}\n			}\n		}\n		this.pageFound = (this.page != null);\n	};\n	G3RE12.prototype.getCurrentPageURL = function() {\n		try {\n			return CHM.isPersistentWindow() ? top.opener.document.URL : win.document.URL;\n		} catch (e) {\n			return win.document.URL;\n		}\n	};\n	G3RE12.prototype.getCurrentPageURL = function() {\n		try {\n			return CHM.isPersistentWindow() ? top.opener.document.URL : win.document.URL;\n		} catch (e) {\n			return win.document.URL;\n		}\n	};\n	G3RE12.prototype.getPageMarker = function(idx) {\n		var p = CHM.isPersistentWindow() ? window.parent.opener.inqFrame.Inq.LDM.getPage(idx) : this.getPage(idx);\n		return p ? p.mID : \"unmarked page\";\n	};\n	G3RE12.prototype.getPageID = function(idx) {\n		var p = CHM.isPersistentWindow() ? window.parent.opener.inqFrame.Inq.LDM.getPage(idx) : this.getPage(idx);\n		return p ? p.id : -1;\n	};\n	G3RE12.prototype.getPage = function(idx) {\n		try {\n			var page = this.lh[idx ? idx : 0];\n			if (page) {\n				var tempPage = this.pages[page.id];\n				if (!isNullOrUndefined(tempPage)) {\n					return tempPage;\n				} else {\n					return {\n						id: 0,\n						mID: \"unmarked page\",\n						re: \"(.*)\"\n					};\n				}\n			}\n		} catch (err) {}\n		return null;\n	};\n	G3RE12.prototype.nfrt45 = function(evt) {\n		var pageid;\n		var cgIdsArray;\n		if (this.pageFound) {\n			pageid = this.page.id;\n			cgIdsArray = this.findCorrespondedCG(pageid);\n		} else {\n			pageid = -1;\n			cgIdsArray = [];\n		}\n		this.lh.unshift({\n			id: pageid,\n			cg: cgIdsArray\n		});\n		if (this.lh.length > this.qsize) {\n			this.lh.length = this.qsize;\n		}\n		this.save();\n	};\n	G3RE12.prototype.load = function() {\n		this.absorb(this.stateVar.getValue());\n	};\n	G3RE12.prototype.save = function() {\n		this.stateVar.setValue({\n			lh: this.lh\n		});\n	};\n	G3RE12.prototype.getLandingHistory = function() {\n		var retval = [];\n		for (var idx = 0; idx < this.lh.length; idx++) {\n			retval[idx] = this.getPageMarker(idx);\n		}\n		return retval;\n	};\n	G3RE12.prototype.start = function() {\n		this.fireOnPageLandingEvent(this.page);\n	};\n	G3RE12.prototype.pageCheck = function(pageID) {\n		if (isNullOrUndefined(this.page)) {\n			return false;\n		} else {\n			return this.page.id == pageID;\n		}\n	};\n	G3RE12.prototype.reset = function() {};\n	G3RE12.prototype.fireOnPageLandingEvent = function(dat) {\n		function nfrt45(l, evt) {\n			try {\n				if (l.nfrt45) {\n					l.nfrt45(evt);\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n		this._fireEvt(nfrt45, {\n			page: this.page,\n			data: dat,\n			reinitialized: this.reinitialized\n		});\n	};\n	G3RE12.prototype.isListener = function(l) {\n		return (l && l.nfrt45);\n	};\n	G3RE12.prototype.getPersistentID = function() {\n		return this.getID();\n	};\n	G3RE12.prototype.agrtyer = function() {\n		log(\"G3RE12#agrtyer\");\n	};\n	G3RE12.prototype.findCorrespondedCG = function(pgId) {\n		var out = [];\n		var url = this.getCurrentPageURL();\n		var index = 0;\n		for (var cgId in this.contentGroups) {\n			var cg = this.contentGroups[cgId];\n			if (cg.contains(pgId, url, this.contentGroups)) {\n				out[out.length] = index;\n			}\n			index++;\n		}\n		return out;\n	};\n	G3RE12.prototype.checkCG = function(cgID, optPgIdx) {\n		var page = this.lh[optPgIdx && optPgIdx < this.lh.length ? optPgIdx : 0];\n		var cgIndex = this.quickCGIndex[cgID];\n		if (isNullOrUndefined(cgIndex)) {\n			return false;\n		}\n		var passedCG = page.cg;\n		for (var index = 0; index < passedCG.length; index++) {\n			if (passedCG[index] == cgIndex) {\n				return true;\n			}\n		}\n		return false;\n	};\n\n	function G3RE13(id, data) {\n		this._frameworkModule(id);\n		this._observable();\n		var rulesIndexes = {};\n		if (data && data.rules) {\n			for (var i = 0; i < data.rules.length; i++) {\n				var r = data.rules[i];\n				var id = r.getID();\n				var overridableRuleInd = rulesIndexes[id];\n				if (overridableRuleInd == undefined) {\n					rulesIndexes[id] = i;\n				} else {\n					data.rules[overridableRuleInd] = r;\n					data.rules.splice(i, 1);\n					i--;\n				}\n			}\n		}\n		this.absorb(data);\n		this._varTable = {};\n		this._rulesById = {};\n		this._ruleIds = [];\n		this._bActionable = true;\n		if (data && data.rules) {\n			for (var i = 0; i < data.rules.length; i++) {\n				var r = data.rules[i];\n				this._varTable[r.getID()] = r.getVars();\n				this._rulesById[r.getID()] = r;\n				this._ruleIds[i] = r.getID();\n			}\n		}\n		this.addGlobalRuleAttributes = function() {\n			var ruleIdsToProcess = [];\n			if (this.globalRAtts.brIds) {\n				ruleIdsToProcess.append(this.globalRAtts.brIds);\n			} else {\n				if (this.globalRAtts.exclude) {\n					for (var i = 0; i < this._ruleIds.length; i++) {\n						var rId = this._ruleIds[i];\n						if (!this.globalRAtts.exclude.contains(rId)) {\n							ruleIdsToProcess.push(rId);\n						}\n					}\n				} else {\n					ruleIdsToProcess.append(this._ruleIds);\n				}\n			}\n			for (var i = 0; i < ruleIdsToProcess.length; i++) {\n				var rId = ruleIdsToProcess[i];\n				var r = this.getRuleById(rId);\n				if (r && r.addRuleAttributes) {\n					r.addRuleAttributes(this.globalRAtts.atts);\n				}\n			}\n		};\n		if (this.globalRAtts) {\n			this.addGlobalRuleAttributes();\n		}\n		this.getRules = function() {\n			return this.rules;\n		};\n		this.start = function() {\n			if (this.started) {\n				return;\n			}\n			this.started = true;\n		};\n		this.init = function() {\n			if (this.initialized) {\n				return;\n			}\n			for (var i = 0; i < this.getRules().length; i++) {\n				this.getRules()[i].init();\n			}\n			this.initialized = true;\n			log(this.getID() + \" initialized.\");\n		};\n		this.load = function() {};\n		this.save = function() {};\n		this.agrtyer = function() {};\n		this.reset = function() {\n			for (var i = 0; i < this.rules.length; i++) {\n				this.rules[i].reset();\n			}\n		};\n	}\n	MI8.prepare(G3RE13).im13(MI8.Persistable).im13(MI8.XJA3).im13(MI8.FM2);\n	G3RE13.im13(MI8.Observable);\n	G3RE13.prototype.getPersistentID = function() {\n		return this.getID();\n	};\n	G3RE13.prototype.getQDefaults = function(buID) {\n		var qd = this.queueDefaults[buID];\n		return !!qd ? qd : {\n			priority: 0,\n			qt: 1.0\n		};\n	};\n	G3RE13.prototype.getRuleVarTable = function() {\n		return this._varTable;\n	};\n	G3RE13.prototype.getRuleByName = function(ruleName) {\n		var rule = null;\n		for (var i = 0; i < this.rules.length; i++) {\n			if (this.rules[i].getName() === ruleName) {\n				rule = this.rules[i];\n				break;\n			}\n		}\n		return rule;\n	};\n	G3RE13.prototype.getRuleById = function(ruleId) {\n		return this._rulesById[ruleId];\n	};\n	G3RE13.prototype.setActionable = function(bActionable) {\n		this._bActionable = bActionable;\n	};\n	G3RE13.prototype.isControlGroup = function() {\n		return !this._bActionable;\n	};\n	G3RE13.prototype.fireManualInvocationEvent = function(rule) {\n		var evt = {};\n		if (!isNullOrUndefined(rule) && rule.onManualInvocation) {\n			rule.onManualInvocation(evt);\n		}\n	};\n	G3RE13.prototype.fireRuleSatisfiedEvent = function(rule) {\n		var event = {\n			rule: rule\n		};\n\n		function f(l, evt) {\n			try {\n				if (l.onRuleSatisfied) {\n					l.onRuleSatisfied(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event onRuleSatisfied on \" + l.toString() + \": \\n\" + e);\n			}\n		}\n		this._fireEvt(f, event);\n	};\n	G3RE13.prototype.fireServiceInvitationEvent = function(rule, serviceType) {\n		var event = {\n			rule: rule,\n			serviceType: serviceType\n		};\n\n		function f(l, evt) {\n			try {\n				if (l.onServiceInvitation) {\n					l.onServiceInvitation(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event onServiceInvitation on \" + l.toString() + \": \\n\" + e);\n			}\n		}\n		this._fireEvt(f, event);\n	};\n	G3RE13.prototype.fireServiceEngagedEvent = function(eventData) {\n		var outRule = null;\n		try {\n			outRule = this.getRuleById(eventData.brID)\n		} catch (e) {\n			log(\"error \" + e)\n		}\n		if (isNullOrUndefined(outRule)) {\n			outRule = {\n				id: eventData.brID\n			};\n		}\n		var event = {\n			rule: outRule\n		};\n\n		function f(l, evt) {\n			try {\n				if (l.onServiceEngaged) {\n					l.onServiceEngaged(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event onServiceEngaged on \" + l.toString() + \": \\n\" + e);\n			}\n		}\n		this._fireEvt(f, event);\n	};\n	G3RE13.prototype.fireServiceInteractedEvent = function(eventData) {\n		var event = {\n			rule: {\n				id: eventData.brID\n			}\n		};\n\n		function f(l, evt) {\n			try {\n				if (l.onServiceInteracted) {\n					l.onServiceInteracted(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event onServiceInteracted on \" + l.toString() + \": \\n\" + e);\n			}\n		}\n		this._fireEvt(f, event);\n	};\n	G3RE13.prototype.fireServiceMissedEvent = function(rule, serviceType) {\n		var event = {\n			rule: rule,\n			serviceType: serviceType\n		};\n\n		function f(l, evt) {\n			try {\n				if (l.onServiceMissed) {\n					l.onServiceMissed(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event onServiceMissed on \" + l.toString() + \": \\n\" + e);\n			}\n		}\n		this._fireEvt(f, event);\n	};\n	G3RE13.prototype.fireExposureQualifiedEvent = function(eventData) {\n		var event = eventData;\n\n		function f(l, evt) {\n			try {\n				if (l.onExposureQualified) {\n					l.onExposureQualified(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event onExposureQualified on \" + l.toString() + \": \\n\" + e);\n			}\n		}\n		this._fireEvt(f, event);\n	};\n	G3RE13.prototype.isListener = function(l) {\n		var bListener = false;\n		if (l && (l.onRuleSatisfied || l.onServiceInvitation || l.onServiceEngaged || l.onServiceInteracted || l.onServiceMissed || l.onExposureQualified)) {\n			bListener = true;\n		}\n		return bListener;\n	};\n	G3RE13.prototype.EXPOSURE_QUALIFIED_RESULT = {\n		OUT_HOP: \"out_hop,\",\n		NO_AVAILABILITY: \"no_availability\",\n		EXISTING_OFFER: \"existing_offer\",\n		WILL_OFFER: \"will_offer\"\n	};\n\n	function Trigger(id, delayInMS) {\n		this.id = id;\n		this.delayInMS = delayInMS ? delayInMS : null;\n	}\n\n	function Rule(data) {\n		this.constants = {};\n		this.absorbFields(data);\n	}\n	Rule.prototype.absorbFields = function(data) {\n		this.triggerMet = false;\n		this.absorb(data);\n		this.vtable = {};\n		if (data && data.vars) {\n			for (var i = 0; i < data.vars.length; i++) {\n				var v = data.vars[i];\n				this.vtable[v.getName()] = v;\n			}\n		}\n		this.doActions = this.actionFcn;\n	};\n	MI8.prepare(Rule).im13(MI8.JSON).im13(MI8.XJA3);\n	Rule.create = function(data) {\n		return new Rule(data);\n	};\n	Rule.prototype.getID = function() {\n		return this.id;\n	};\n	Rule._delayedRules = {};\n	Rule._timers = [];\n	Rule._TIDX = 0;\n	Rule._setTimeout = function(rule, delayInMS) {\n		var tidx = Rule._TIDX++;\n		Rule._delayedRules[tidx] = rule;\n		this.tidx = tidx;\n		return window.setTimeout(\"Inq.Rule._timerCallback(\" + tidx + \")\", delayInMS);\n	};\n	Rule._timerCallback = function(tidx) {\n		Rule._popDelayedRule(tidx).timerCallback();\n	};\n	Rule._popDelayedRule = function(tidx) {\n		var rule = Rule._delayedRules[tidx];\n		delete Rule._delayedRules[tidx];\n		return (rule ? rule : null);\n	};\n	Rule.prototype.sleep = function(delayInMS) {\n		this.tid = Rule._setTimeout(this, delayInMS);\n	};\n	Rule.prototype.reset = function() {\n		Rule._popDelayedRule(this.tidx);\n	};\n	Rule.prototype.fireRule = function(evt, delayInMS) {\n		this.evt = evt;\n		this.triggerMet = true;\n		if (delayInMS > 0) {\n			this.sleep(delayInMS);\n		} else {\n			this.execute(evt);\n		}\n	};\n	Rule.prototype.getName = function() {\n		return this.name;\n	};\n	Rule.prototype.init = function(data) {\n		if (!this.triggers) {\n			return;\n		} else if (typeOf(this.triggers) == 'function') {\n			this.triggers = this.triggers(this);\n		}\n		for (var idx = 0; idx < this.triggers.length; idx++) {\n			var trig = this.triggers[idx];\n			if (trig.domElementID || trig.domElements) {\n				this._processDomTrigger(trig);\n			} else if (trig.serviceType) {\n				this._processSvcTrigger(trig);\n			} else {\n				this._processStdTrigger(trig);\n			}\n		}\n	};\n	Rule.prototype._processStdTrigger = function(trig) {\n		var atrig = trig;\n		this[trig.id] = function(evt) {\n			this.fireRule(evt, atrig.delayInMS);\n		};\n	};\n	Rule.prototype._processDomTrigger = function(trig) {\n		var elArray = [];\n		if (trig.domElementID) {\n			var el = doc.getElementById(trig.domElementID);\n			if ( !! el) elArray[0] = el;\n		} else if (trig.domElements) {\n			for (var idx = 0; idx < trig.domElements.length; idx++) {\n				elArray.append(trig.domElements[idx]);\n			}\n		}\n		if (elArray.length > 0) {\n			var r = this;\n			for (var i = 0; i < elArray.length; i++) {\n				var el = elArray[i];\n				if (!el) continue;\n				attachListener(el, trig.id, function(evt) {\n					r.fireRule(evt, trig.delayInMS);\n				});\n			}\n		}\n	};\n	Rule.prototype.log = function(msg, e) {\n		log(\"Rule #\" + this.id + \"(\" + this.name + \"): \" + msg + (e ? \"-> error=\" + e : \"\"));\n	};\n	Rule.prototype._processSvcTrigger = function(trig) {\n		var svcTypes = this[trig.id + \"_ServiceTypes\"];\n		var trigServiceType = trig.serviceType;\n		if (isNullOrUndefined(svcTypes)) {\n			svcTypes = this[trig.id + \"_ServiceTypes\"] = [trigServiceType];\n			this[trig.id] = function(evt) {\n				var evtServiceType = evt.chatType;\n				if (svcTypes.contains(evtServiceType) || svcTypes.contains(\"ALL\")) {\n					this.fireRule(evt, trig.delayInMS);\n				}\n			};\n		} else {\n			if (!svcTypes.contains(trigServiceType) && !svcTypes.contains(\"ALL\")) {\n				svcTypes.push(trigServiceType);\n			}\n		}\n	};\n	Rule.prototype.isWithinDateRange = function() {\n		var inRange = true;\n		if ( !! this.dates) {\n			var now = new Date();\n			var start = !! this.dates.start ? this.dates.start : new Date(0);\n			var end = !! this.dates.end ? this.dates.end : new Date(now.getTime() + 1);\n			inRange = now.after(start) && now.before(end);\n		}\n		return inRange;\n	};\n	Rule.prototype.areConditionalsMet = function() {\n		return (this.conditionalFcn(this, this.evt) && this.triggerMet && this.isWithinDateRange());\n	};\n	Rule.prototype.timerCallback = function() {\n		this.execute();\n	};\n	Rule.prototype.getConstant = function(cID) {\n		if (isNullOrUndefined(this.constants[cID])) {\n			return constants[cID];\n		}\n		return this.constants[cID];\n	};\n	Rule.prototype.execute = function() {\n		try {\n			if (this.areConditionalsMet()) {\n				this.doActions(this, this.evt);\n			}\n		} catch (e) {\n			logActionErr(e, this);\n		}\n	};\n	Rule.prototype.assertTrue = function(bfcn, testName, failmsg) {\n		var msg = \"ASSERT: \" + this.getName() + \" - \" + testName + \": \";\n		try {\n			var b = bfcn();\n			msg += b ? \"PASSED\" : (\"FAILED. \" + failmsg);\n			if (!b) {\n				msg = \"*** \" + msg;\n			}\n		} catch (err) {\n			msg += (\"FAULT: \" + err);\n		}\n		ROM.send(urls.loggingURL, {\n			level: \"info\",\n			line: msg\n		});\n		log(msg);\n	};\n	Rule.prototype.getVars = function() {\n		return this.vars;\n	};\n	Rule.prototype.toString = function() {\n		return \"Rule \" + this.getID() + \" \\\"\" + this.name + \"\\\"\";\n	};\n\n	function BusinessRule(data) {\n		this.constants = {};\n		this.absorbFields(data);\n		if ( !! this.ignoreFunnelLevel) {\n			this.constants[\"ifl\"] = true;\n			this.constants[\"fl\"] = Number.NEGATIVE_INFINITY;\n		} else if (!isNullOrUndefined(this.funnelLevel)) {\n			if (isNullOrUndefined(this.constants[\"fl\"])) this.constants[\"fl\"] = this.funnelLevel;\n		}\n	}\n	BusinessRule.prototype = new Rule();\n	BusinessRule.prototype.constructor = BusinessRule;\n	BusinessRule.create = function(data) {\n		return new BusinessRule(data);\n	};\n	BusinessRule.prototype.execute = function() {\n		try {\n			if (this.areConditionalsMet()) {\n				BRM.fireRuleSatisfiedEvent(this);\n				if (!BRM.isControlGroup()) {\n					this.doActions(this, this.evt);\n				}\n			}\n		} catch (e) {\n			logActionErr(e, this);\n		}\n	};\n	BusinessRule.prototype.toString = function() {\n		return \"BusinessRule \" + this.getID() + \" \\\"\" + this.name + \"\\\"\";\n	};\n	Rule.prototype.getBusinessUnitID = function() {\n		var buID;\n		if (!isNullOrUndefined(this._getDynamicBusinessUnitId)) {\n			try {\n				buID = this._getDynamicBusinessUnitId(this);\n			} catch (err) {\n				buID = getDefaultBusinessUnitID();\n			}\n		} else if (!isNullOrUndefined(this.businessUnitID)) {\n			buID = this.businessUnitID;\n		} else buID = getDefaultBusinessUnitID();\n		log(\"Rule#getBusinessUnitId(ruleid=\" + this.getID() + \"): business-unit-id=\" + buID);\n		return buID;\n	};\n	BusinessRule.prototype.attrNamesEqual = function(attr1, attr2) {\n		return (attr1 && attr2 && attr1.name && attr2.name && (attr1.name == attr2.name));\n	};\n	BusinessRule.prototype.getAgentAttributes = function() {\n		return this.getAAtts();\n	};\n	BusinessRule.prototype.setAgentAttributes = function(attribs) {\n		this.aAtts = attribs;\n	};\n	BusinessRule.prototype.containsAgentAttribute = function(attribute) {\n		return this.getAAtts().contains(attribute, BusinessRule.prototype.attrNamesEqual);\n	};\n	BusinessRule.prototype.addAgentAttribute = function(attribute) {\n		var attsArray = this.getAAtts();\n		var isRemove = attribute.value == '';\n		if (isRemove) {\n			this.removeAgentAttribute(attribute);\n			return;\n		}\n		if (!this.containsAgentAttribute(attribute)) {\n			attsArray.append([attribute]);\n		} else {\n			for (var idx = 0; idx < attsArray.length; idx++) {\n				if (this.attrNamesEqual(attsArray[idx], attribute)) {\n					attsArray[idx].value = attribute.value;\n				}\n			}\n		}\n	};\n	BusinessRule.prototype.removeAgentAttribute = function(attribute) {\n		var attsArray = this.getAAtts();\n		if (this.containsAgentAttribute(attribute)) {\n			for (var idx = 0; idx < attsArray.length; idx++) {\n				if (this.attrNamesEqual(attsArray[idx], attribute)) {\n					attsArray.remove(idx);\n					break;\n				}\n			}\n		}\n	};\n	BusinessRule.prototype.addAgentAttributes = function(attributes) {\n		for (var idx = 0; idx < attributes.length; idx++) {\n			this.addAgentAttribute(attributes[idx]);\n		}\n	};\n	BusinessRule.prototype.getAgentAttributesAsString = function() {\n		if (!this.getAgentAttributes) {\n			log(\"Only BusinessRule can have agent attributes.\");\n			return null;\n		}\n		var data = this.getAgentAttributes();\n		if (isNullOrUndefined(data)) {\n			return null;\n		}\n		var out = \"\";\n		for (var index = 0; index < data.length; index++) {\n			if (index > 0) {\n				out += \";\";\n			}\n			out += data[index].name + \",\" + data[index].value;\n		}\n		return out;\n	};\n	BusinessRule.prototype.getRuleAttributesAsString = function() {\n		if (!this.getRuleAttributes) {\n			log(\"Only BusinessRule can have rule attributes.\");\n			return null;\n		}\n		var data = this.getRuleAttributes();\n		if (isNullOrUndefined(data)) {\n			return null;\n		}\n		var out = \"\";\n		for (var index = 0; index < data.length; index++) {\n			if (index > 0) {\n				out += \";\";\n			}\n			out += data[index].name + \",\" + data[index].value;\n		}\n		return out;\n	};\n	BusinessRule.prototype.getRuleAttributes = function() {\n		return this.getRAtts();\n	};\n	BusinessRule.prototype.setRuleAttributes = function(attribs) {\n		this.rAtts = attribs;\n	};\n	BusinessRule.prototype.getRuleAttributesAsArray = function() {\n		return this.rAtts;\n	};\n	BusinessRule.prototype.containsRuleAttribute = function(attribute) {\n		return this.getRuleAttributesAsArray().contains(attribute, BusinessRule.prototype.attrNamesEqual);\n	};\n	BusinessRule.prototype.addRuleAttribute = function(attribute) {\n		if (!this.rAtts) this.rAtts = [];\n		var attsArray = this.getRuleAttributesAsArray();\n		if (!this.containsRuleAttribute(attribute)) {\n			attsArray.append([attribute]);\n		} else {\n			for (var idx = 0; idx < attsArray.length; idx++) {\n				if (this.attrNamesEqual(attsArray[idx], attribute)) {\n					attsArray[idx].value = attribute.value;\n				}\n			}\n		}\n	};\n	BusinessRule.prototype.addRuleAttributes = function(attributes) {\n		for (var idx = 0; idx < attributes.length; idx++) {\n			this.addRuleAttribute(attributes[idx]);\n		}\n	};\n	BusinessRule.prototype.getPriority = function() {\n		return isNullOrUndefined(this.priority) ? BRM.getQDefaults(this.getBusinessUnitID()).priority : this.priority;\n	};\n	BusinessRule.prototype.getQueueThreshold = function() {\n		return isNullOrUndefined(this.qt) ? BRM.getQDefaults(this.getBusinessUnitID()).qt : this.qt;\n	};\n	BusinessRule.prototype.getStartDate = function() {\n		var start = null;\n		if (this.dates && this.dates.start) {\n			start = this.dates.start;\n		}\n		return start;\n	};\n	BusinessRule.prototype.getEndDate = function() {\n		var end = null;\n		if (this.dates && this.dates.end) {\n			end = this.dates.end;\n		}\n		return end;\n	};\n	BusinessRule.prototype.getLanguage = function() {\n		var language;\n		if (!isNullOrUndefined(this._getLanguage)) {\n			try {\n				language = this._getLanguage(this);\n			} catch (e) {\n				language = getDefaultLanguage();\n				log(\"Error while getting language from the given Rule: \\n\" + e + \"\\n\");\n			}\n		} else {\n			language = getDefaultLanguage();\n		}\n		return language;\n	};\n	BusinessRule.prototype.getAgentGroupID = function() {\n		return this.agID;\n	};\n\n	function Schedule(id, periodStart, periodEnd, startTime, endTime, days) {\n		this.id = id;\n		this.periodStart = periodStart;\n		this.periodEnd = periodEnd;\n		this.startTime = startTime;\n		this.endTime = endTime;\n		this.days = days;\n	}\n	Schedule.prototype.isScheduleMet = function(dt, clientTimeLag, siteTzOfstMillis) {\n		var result = true;\n		if (clientTimeLag) dt.roll(clientTimeLag);\n		if (this.periodStart) result = dt.after(this.periodStart) || dt.equals(this.periodStart);\n		if (result && this.periodEnd) result = dt.before(this.periodEnd) || dt.equals(this.periodEnd);\n		if (result && this.days && !this.days.isEmpty()) {\n			if (!siteTzOfstMillis) siteTzOfstMillis = 0;\n			var dtToGetSiteDay = new Date(dt.getTime() + dt.getTimezoneOffset() * 60000 - siteTzOfstMillis);\n			var currentDayAtSite = dtToGetSiteDay.getDay();\n			result = this.days.contains(currentDayAtSite);\n		}\n		if (result && (this.startTime || this.endTime)) {\n			var DAY_MILLISEC = 24 * 60 * 60 * 1000;\n			var msSinceBOD, dtSrvTime = dt.getTime();\n			if (!siteTzOfstMillis) {\n				siteTzOfstMillis = 0;\n			}\n			if (!this.startTime) {\n				this.startTime = new Date(siteTzOfstMillis);\n			}\n			if (!this.endTime) {\n				this.endTime = new Date(this.startTime.getTime() + DAY_MILLISEC - siteTzOfstMillis);\n			}\n			msSinceBOD = dtSrvTime % DAY_MILLISEC;\n			if (this.endTime.getTime() > DAY_MILLISEC) {\n				if (msSinceBOD <= (this.endTime.getTime() - DAY_MILLISEC)) {\n					msSinceBOD += DAY_MILLISEC;\n				}\n			}\n			if (this.startTime) result = msSinceBOD >= this.startTime.getTime();\n			if (result && this.endTime) result = msSinceBOD <= this.endTime.getTime();\n		}\n		return result;\n	};\n\n	function C2C(mgr, rule, chatType, specDataFcn, c2p) {\n		this._mgr = mgr;\n		this._rule = rule;\n		this.chatType = chatType;\n		this.c2cSpec = MM.mergeC2CSpec(specDataFcn(rule));\n		this.specDataFcn = specDataFcn;\n		EVM.addListener(this);\n		this.idx = C2C.IDX++;\n		this.clicked = false;\n		this.c2p = c2p;\n	}\n	MI8.prepare(C2C).im13(MI8.XJA3).im13(MI8.RC54);\n	C2C.IDX = 0;\n	C2C.c2CPageElementIDs = [];\n	C2C.prototype.getIdx = function() {\n		return this.idx;\n	};\n	C2C.prototype.getXmlChatSpec = function() {\n		if (isNullOrUndefined(this._rule)) {\n			throw \"C2C not ready: rule is undefined\";\n		}\n		var xmlC2cSpec = this.specDataFcn(this._rule);\n		if ( !! xmlC2cSpec.chatSpec) {\n			return xmlC2cSpec.chatSpec;\n		}\n		var c2cSpec = MM.mergeC2CSpec(xmlC2cSpec);\n		return {\n			id: c2cSpec.chatSpec.id\n		};\n	};\n	C2C.prototype.onRemoteCallback = function(ser) {\n		var dat = MI8.JSON.parse(ser);\n		var exposureData = {\n			siteID: Inq.getSiteID(),\n			pageID: isNullOrUndefined(LDM.getPageID()) ? -1 : LDM.getPageID(),\n			customerID: Inq.getCustID(),\n			incrementalityID: getIncAssignmentID(),\n			sessionID: getSessionID(),\n			brID: this._rule.getID(),\n			group: PM.getVar(\"incGroup\").getValue(),\n			buID: this._rule.getBusinessUnitID(),\n			channelID: this._rule.getBusinessUnitID(),\n			result: dat.result,\n			rule: this._rule\n		};\n		BRM.fireExposureQualifiedEvent(exposureData);\n		this.absorb(dat);\n		this.show();\n		if (this.optDataPass && !this.optDataPassListening) {\n			EVM.addListener({\n				source: this,\n				onAgentAssigned: this.optDataPass\n			});\n			this.optDataPassListening = true;\n		}\n		if (this.serviceMissedEvent) {\n			BRM.fireServiceMissedEvent(this._rule, CHM.CHAT_TYPES.C2C);\n		}\n		this._mgr.nextRequest(this);\n	};\n	C2C.prototype.showAgentsBusyIcon = function() {\n		this.showImg(this.busyURL);\n	};\n	C2C.prototype.showImg = function(img, clickable) {\n		var div = this.getDiv(),\n			func = null;\n		try {\n			func = div[\"setSource\"];\n		} catch (e) {\n			func = null\n		};\n		var eventName = (isIE() && getBrowserMajorVer() <= 7) ? 'onmouseup' : 'onclick';\n		var onclicktxt = clickable ? (eventName + '=\\\"' + 'inqFrame.Inq.C2CM.agrty(' + this.idx + '); return false;\\\" onmouseover=\\\"this.style.cursor=\\'pointer\\'\\\"') : '';\n		if ( !! func) {\n			var domain = div[\"iframeDomain\"];\n			onclicktxt = 'top.top.inqFrame.Inq.C2CM.agrty(' + this.idx + '); return false;';\n			var mapAttributes = {};\n			mapAttributes[\"style\"] = \"border-style: none; border-width: 0px;\";\n			if (clickable) {\n				mapAttributes[\"style\"] = \"border-style: none; border-width: 0px; cursor: pointer;\";\n				mapAttributes[\"onclick\"] = onclicktxt;\n			}\n			mapAttributes[\"src\"] = urls.mediaSiteURL + '/images/' + this.c2cSpec.c2cTheme[img];\n			func(mapAttributes, domain);\n		} else if (this.c2p) {\n			div.innerHTML = '<input type=\"image\" alt=\"\" src=\\\"' + urls.mediaSiteURL + '/images/' + this.c2cSpec.c2cTheme[img] + '\\\"' + onclicktxt + '/>';\n		} else {\n			div.innerHTML = '<img src=\\\"' + urls.mediaSiteURL + '/images/' + this.c2cSpec.c2cTheme[img] + '\\\"' + onclicktxt + '/>';\n		}\n	};\n	C2C.prototype.showClickToCallHtml = function(urlHtml) {\n		var div = this.getDiv();\n		var target = urls.mediaSiteURL + '/images/' + this.c2cSpec.c2cTheme[\"r\"];\n		if (div != null && target == div.firstChild[\"src\"]) {\n			var frameSource = window.location.protocol + \"//\" + window.location.host + ((window.location.port == \"\") ? \"\" : \":\" + window.location.port) + inqFrame.Inq.v3framesrc;\n			if (inqFrame.Inq.FlashPeer[\"showCallButton\"] == null) {\n				inqFrame.Inq.FlashPeer.showCallButton = function(indx, source, left, top, number, show, giveFocus, title) {\n					(inqFrame.Inq.C2CM).showCallButton(indx, source, left, top, number, show, giveFocus, title);\n				};\n			}\n			var iframeName = encodeURIComponent('{id: \"' + this.idx + '\", clientHtml: \"' + frameSource + '\"}');\n			div.innerHTML = '<iframe width=\"100%\" height=\"100%\" ' + 'name=\"' + iframeName + '\" ' + 'border=\"0\" ' + 'allowTransparency=\"true\" ' + 'frameborder=\"0\" scrolling=\"no\" ' + 'src=\"' + urlHtml + '\" ' + '></iframe><input type=\"image\" style=\"display: none;\"></input>';\n		}\n	};\n	C2C.prototype.showCallButton = function(source, left, top, number, showButton, giveFocus, title) {\n		var callBtnId = \"tcCallButton\";\n		if (giveFocus == null) giveFocus = true;\n		if (title == null) title = \"Call \" + number;\n		if (giveFocus == null) giveFocus = false;\n		if (showButton == null) showButton = true;\n		var div = this.getDiv();\n		div.style.position = \"relative\";\n		var form = document.createElement(\"form\");\n		var inputImage = null;\n		var haveBtn = true;\n		if (inputImage == null & showButton == false) return;\n		var inputImages = div.getElementsByTagName(\"INPUT\");\n		if (inputImages != null && inputImages.length > 0) inputImage = inputImages[0];\n		var whenClicked = '(inqFrame.Inq.C2CM).agrty(' + this.idx + ',' + number + '); return false;';\n		inputImage.id = callBtnId;\n		inputImage.src = source;\n		inputImage.idx = this.idx;\n		inputImage.fone = number;\n		inputImage.title = title;\n		inputImage.style.cssText = \"display: \" + ((showButton) ? \"\" : \"none\") + \";position: absolute; left: \" + left + \"px; top: \" + top + \"px;\";\n		inputImage.onClick = inputImage.onclick = function() {\n			var indx = this.idx;\n			var fon = this.fone;\n			(inqFrame.Inq.C2CM).agrty(indx, fon);\n			return false;\n		};\n		if (giveFocus && showButton) {\n			if (inputImage[\"focus\"] != null) {\n				try {\n					inputImage.focus();\n				} catch (e) {}\n			}\n		}\n	};\n	C2C.prototype.setClicked = function(isClicked) {\n		this.clicked = isClicked;\n	};\n	C2C.prototype.isClicked = function() {\n		return this.clicked;\n	};\n	C2C.prototype.forceGetDiv = function() {\n		if (!isNullOrUndefined(this.c2cSpec.div)) {\n			return this.c2cSpec.div;\n		}\n		this.pageElementID = !! this.c2cSpec.peId ? this.c2cSpec.peId : C2C.c2CPageElementIDs[this.id];\n		var divId = this.pageElementID;\n		return win.document.getElementById(divId);\n	};\n	C2C.prototype.isDivOccupied = function() {\n		var adiv = this.forceGetDiv();\n		if (!adiv) {\n			return false;\n		}\n		return ( !! adiv.occupied);\n	};\n	C2C.prototype.getDiv = function() {\n		var div = this.forceGetDiv();\n		return ( !! div && (!div.occupied || div.ruleID == this._rule.getID())) ? div : null;\n	};\n	C2C.prototype.clear = function() {\n		var div = this.getDiv();\n		if (div) {\n			div.occupied = false;\n			div.innerHTML = \"\";\n		}\n	};\n	C2C.prototype.reset = function() {\n		this.clear();\n	};\n	C2C.prototype.show = function() {\n		var div = this.getDiv();\n		if ( !! this.c2cSpec.abs) {\n			div.style.position = \"absolute\";\n			div.style.top = this.c2cSpec.abs.y;\n			div.style.left = this.c2cSpec.abs.x;\n		}\n		var image = this.image;\n		if (CHM.isChatInProgress()) {\n			this.launchable = false;\n			image = this._mgr.IMAGETYPES.disabled;\n		}\n		if ( !! div) {\n			div.occupied = true;\n			div.ruleID = this._rule.getID();\n			div.idx = this.idx;\n			this.showImg(image, this.launchable);\n			if (this.launchable) {\n				C2CM.fireC2CDisplayed({\n					c2c: this,\n					rule: this._rule,\n					data: this.data\n				});\n				BRM.fireServiceInvitationEvent(this._rule, CHM.CHAT_TYPES.C2C);\n			}\n		}\n		this.runC2CAgentCheckTimer();\n	};\n	C2C.prototype.onChatLaunched = function(evt) {\n		this.stopC2CAgentCheckTimer();\n		this.showImg(this._mgr.IMAGETYPES.disabled, false);\n	};\n	C2C.prototype.onChatClosed = function(evt) {\n		this.absorb(this.specDataFcn());\n		this.clear();\n		if (evt.evtType === Inq.CHM.EVTS.CLOSED) {\n			this.request();\n		}\n		this.setClicked(false);\n	};\n	C2C.prototype.request = function() {\n		if (C2CM.isBlocked(this.getChatType())) {\n			this.reset();\n			return;\n		}\n		var rule = this.getRule();\n		var data = {\n			siteID: siteID,\n			brID: rule.getID(),\n			brn: rule.getName(),\n			pageID: LDM.getPageID(),\n			chatType: this.chatType,\n			priority: rule.getPriority(),\n			qt: rule.getQueueThreshold(),\n			buID: rule.getBusinessUnitID(),\n			custID: Inq.getCustID()\n		};\n		if (isNullOrUndefined(data.pageID)) {\n			data.pageID = -1;\n		}\n		if (!isNullOrUndefined(this.c2cSpec.igaa)) {\n			data.igaa = this.c2cSpec.igaa;\n		}\n		if (!isNullOrUndefined(this._rule.getRuleAttributes())) {\n			data.rAtts = this._rule.getRuleAttributes();\n		}\n		if (!isNullOrUndefined(this._rule.getAgentAttributes())) {\n			data.aAtts = this._rule.getAgentAttributes();\n		}\n		if ( !! this.c2cSpec.chatSpec && !isNullOrUndefined(this.c2cSpec.chatSpec.ignHOP)) {\n			data.ignHOP = this.c2cSpec.chatSpec.ignHOP;\n		}\n		if (CHM.isCallServiceType(this.chatType) && CHM.getLastCallID()) {\n			data.lastCallId = CHM.getLastCallID();\n		}\n		var sData = MI8.JSON.stringify(data);\n		this.callRemote(urls.requestC2CImageURL, {\n			d: sData,\n			xd: Inq.xd\n		});\n	};\n	C2C.prototype.getID = function() {\n		return this.id;\n	};\n	C2C.prototype.getC2cTheme = function() {\n		return this.c2cSpec.c2cTheme;\n	};\n	C2C.prototype.getChatSpec = function() {\n		return this.c2cSpec.chatSpec;\n	};\n	C2C.prototype.hasAbsolutePosition = function() {\n		return !!this.c2cSpec.abs;\n	};\n	C2C.prototype.getPosition = function() {\n		return this.c2cSpec.position;\n	};\n	C2C.prototype.getRule = function() {\n		return this._rule;\n	};\n	C2C.prototype.getChatType = function() {\n		return this.chatType;\n	};\n	C2C.prototype.runC2CAgentCheckTimer = function() {\n		if (!this.c2cSpec.igaa && this.c2cSpec.aaci && (this.c2cSpec.aaci > 0)) {\n			this.timeout_id = window.setTimeout(\"Inq.C2CM.getC2C(\" + this.getIdx() + \").request()\", this.c2cSpec.aaci);\n		}\n	};\n	C2C.prototype.stopC2CAgentCheckTimer = function() {\n		if (this.timeout_id) window.clearTimeout(this.timeout_id);\n	};\n	C2C.setC2CPageElementIDs = function(pageElementIDs) {\n		C2C.c2CPageElementIDs = pageElementIDs;\n	};\n\n	function GR34(id, data) {\n		this._className = \"GR34\";\n		this._frameworkModule(id);\n		this._observable();\n		this.pmor = false;\n		this.absorb(data);\n		this.popoutWindow = null;\n		this.persisentWindow = null;\n		this.chat = null;\n		this._init = false;\n		this.chatRequestQ = [];\n		this.requestInProgress = false;\n		this.hasEngaged = false;\n		this.dataLoaded = false;\n		this.evtIdx = 0;\n		this.lpt = 0;\n		this.earlyPopout = null;\n		this.lastChat = {};\n		this.lastCallId = 0;\n		this._flashvarFcns = [];\n		this._closeRetries = 0;\n		this.retryTimeout = null;\n	}\n	GR34.CHM = null;\n	GR34.persistentTarget = \"_inqPersistentChat\";\n	GR34.prototype.getInstance = GR34.getInstance = function(data) {\n		if (isNullOrUndefined(GR34.CHM)) {\n			GR34.CHM = new GR34(\"CHM\", data);\n		}\n		return GR34.CHM;\n	};\n	GR34.prototype.RegisterChatFromPersistent = GR34.RegisterChatFromPersistent = function(chatID) {\n		(GR34.getInstance()).registerChatFromPersistent();\n	};\n	MI8.prepare(GR34).im13(MI8.FM2).im13(MI8.Observable).im13(MI8.XJA3).im13(MI8.Persistable).im13(MI8.RC54);\n	GR34.prototype.log = function(msg) {\n		log(\"CHM: \" + msg);\n	};\n	GR34.prototype.drainRequestQ = function() {\n		for (var i = 0; i < this.chatRequestQ.length; i++) {\n			var reqDat = this.chatRequestQ[i];\n			var exposureData = {\n				siteID: Inq.getSiteID(),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				brID: reqDat.rule.id,\n				group: PM.getVar(\"incGroup\").getValue(),\n				businessUnitID: reqDat.rule.getBusinessUnitID(),\n				result: \"existing_offer\",\n				rule: reqDat.rule\n			};\n			BRM.fireExposureQualifiedEvent(exposureData);\n		}\n		this.chatRequestQ = [];\n	};\n	GR34.prototype.request = function(rule, chatType, xmlSpec, phoneNumber, c2cPersistent) {\n		var dat;\n		if (!rule && this.chatRequestQ.length > 0) {\n			dat = this.chatRequestQ.shift();\n			rule = dat.rule;\n			chatType = dat.chatType;\n			xmlSpec = dat.xmlSpec;\n			phoneNumber = dat.phoneNumber;\n			this.log(\"De-queued data for \" + rule);\n		}\n		if (this.isChatInProgress()) {\n			this.log(\"Chat already in progress... rule chat request ignored. rule=\" + rule.toString());\n			dat = !! dat ? dat : {\n				rule: rule,\n				chatType: chatType,\n				xmlSpec: xmlSpec,\n				phoneNumber: phoneNumber\n			};\n			this.chatRequestQ.push(dat);\n			this.drainRequestQ();\n			this.requestInProgress = false;\n			return;\n		}\n		if (this.requestInProgress) {\n			this.chatRequestQ.push({\n				rule: rule,\n				chatType: chatType,\n				xmlSpec: xmlSpec,\n				phoneNumber: phoneNumber\n			});\n			this.log(\"CHAT REQUEST ALREADY IN PROGRESS... waiting \" + rule.toString());\n			return;\n		}\n		this.requestInProgress = true;\n		this.log(\"Requesting chat for rule: \" + rule.toString());\n		var c2cToPersistent = c2cPersistent ? c2cPersistent : isC2cPersistent();\n		this.chatData = {\n			ruleID: rule.getID(),\n			chatType: chatType,\n			xmlSpec: xmlSpec,\n			pn: phoneNumber,\n			pC: false,\n			ci: {},\n			aMsgCnt: 0,\n			cMsgCnt: 0,\n			c2cToPersistent: c2cToPersistent,\n			buID: -1\n		};\n		if (this.isBlocked(chatType)) {\n			return;\n		}\n		this.rule = rule;\n		if ( !! phoneNumber) this.rule[\"phoneNumber\"] = phoneNumber;\n		this.xmlSpec = xmlSpec;\n		var incGroup = PM.getVar(\"incGroup\").getValue();\n		this.chatType = chatType;\n		var data = {\n			p: (GR34.persistentTarget == window.parent.name),\n			xd: PM.isCrossDomain(),\n			siteID: siteID,\n			pageID: LDM.getPageID(),\n			custID: Inq.getCustID(),\n			chatSpec: MM.mergeChatSpec(xmlSpec),\n			chatType: chatType,\n			pmor: this.pmor,\n			rule: {\n				id: rule.getID(),\n				name: rule.getName(),\n				priority: rule.getPriority(),\n				aAtts: rule.getAgentAttributes(),\n				ruleAttributes: rule.getRuleAttributes(),\n				qt: rule.getQueueThreshold(),\n				phoneNumber: phoneNumber,\n				buID: rule.getBusinessUnitID()\n			},\n			incAssignmentID: getIncAssignmentID(),\n			sessionID: getSessionID(),\n			incGroup: incGroup\n		};\n		if (this.isCallServiceType(chatType) && this.getLastCallID()) {\n			data.lastCallId = this.getLastCallID();\n		}\n		this.fireChatRequested(this, data);\n		var sData = MI8.JSON.stringify(data);\n		try {\n			this.callRemote(urls.requestChatLaunchURL, {\n				d: sData\n			});\n		} catch (e) {}\n	};\n	GR34.prototype.init = function() {\n		if (this._init) {\n			return;\n		}\n		this.vitalVar = new VBER34(this.getID(), {}, resources[\"vital\"]);\n		this.stateVar = new VBER34(this.getID(), {}, resources[\"state\"]);\n		this.sessionVar = new VBER34(this.getID(), {}, resources[\"session\"]);\n		this._init = true;\n		return this;\n	};\n	GR34.prototype.getChatRouterURL = function() {\n		return urls.chatRouterVanityDomain;\n	};\n	GR34.prototype.ask = function(url, dataJSON, bust) {\n		var rand = (Math.round(Math.random() * 1000000000123)).toString(36);\n		var crHost = this.getChatRouterURL() + url + \"?\";\n		for (name in dataJSON) {\n			crHost += ((crHost.indexOf(\"?\") == -1) ? \"?\" : \"&\") + name + \"=\" + dataJSON[name];\n		}\n		if (bust) crHost += \"&z=\" + rand;\n		var s = window.document.createElement(\"sc\" + \"ript\");\n		s.setAttribute(\"type\", \"text/javascript\");\n		s.setAttribute(\"language\", \"JavaScript\");\n		s.setAttribute(\"src\", crHost);\n		window.document.getElementsByTagName(\"body\")[0].appendChild(s);\n	};\n	GR34.prototype.askForActive = function(chatID) {\n		this.ask(\"/chatrouter/chat/isChatActive\", {\n			chatId: chatID\n		}, true);\n	};\n	GR34.prototype.getPersistentID = function() {};\n	GR34.prototype.agrtyer = function() {\n		if (this.dataLoaded) {\n			return;\n		}\n		this.dataLoaded = true;\n		this.init();\n		this.load();\n		if (this.isPersistentWindow()) {\n			this.setPersistentChatSetting(true);\n		}\n		this.resetStateAfterPersistentChat();\n		if (this.isPersistentWindow()) {\n			var o = getOpener();\n			try {\n				o.setTimeout(o.inqFrame.Inq.GR34.RegisterChatFromPersistent, 1);\n			} catch (e) {\n				log(e + \" RegisterChatFromPersistent\");\n			};\n		}\n	};\n	GR34.prototype.urtvd3 = function(isPersistent, protoDomain, transferURL, needNewOpener) {\n		var instance = inqFrame.Inq.GR34.getInstance();\n		if (isPersistent) {\n			var myProtoDomain = window.location.protocol + \"//\" + window.location.hostname;\n			if (myProtoDomain != protoDomain) {\n				if (Inq.multiHost) {\n					var myHash = transferURL.split(\"#\");\n					myHash.shift();\n					transferURL = myProtoDomain + \"/\" + window.location.pathname + \"#\" + myHash.join(\"#\");\n				}\n				this.againPopoutChat(transferURL, true, false);\n			}\n			if (needNewOpener && (myProtoDomain == protoDomain)) {\n				this.againPopoutChat(transferURL, false, false);\n			}\n			return;\n		} else {\n			instance.setPersistentChatSetting(false)\n		}\n		instance.testForContinueChatting();\n	};\n	GR34.prototype.isPersistentChatMaybeActive = function() {\n		return this.getPersistentChatSetting();\n	};\n	GR34.prototype.onRemoteCallback = function(data) {\n		this.requestInProgress = false;\n		try {\n			this.log(\"Request callback for rule: \" + this.rule.toString());\n			var chatData = MI8.JSON.parse(data);\n			if (this.isPersistentWindow()) {\n				if (!this.chat.pC) {\n					var fault = new Error(\"chatData incorrect\");\n					fault.name = \"Launch Error\";\n					fault.funcName = \"onRemoteCallback\";\n					ROM.post(urls.loggingURL, {\n						level: \"info\",\n						line: (\"Failure to Launch: \" + catchFormatter(fault))\n					});\n				}\n			}\n			var incGroup = PM.getVar(\"incGroup\").getValue();\n			this.pmor = chatData.pmor;\n			if (this.chatType == this.CHAT_TYPES.POPUP || this.chatType == this.CHAT_TYPES.POPUP_CALL) {\n				var exposureData = {\n					siteID: Inq.getSiteID(),\n					customerID: Inq.getCustID(),\n					incrementalityID: getIncAssignmentID(),\n					sessionID: getSessionID(),\n					brID: this.rule.id,\n					group: incGroup,\n					businessUnitID: this.rule.getBusinessUnitID(),\n					result: chatData.result,\n					rule: this.rule\n				};\n				BRM.fireExposureQualifiedEvent(exposureData);\n			}\n			if (isNullOrUndefined(chatData.chatID)) {\n				if (chatData.serviceMissedEvent) {\n					BRM.fireServiceMissedEvent(this.rule, this.chatData.chatType);\n				}\n				this.save();\n				return;\n			}\n			this.chatData['id'] = chatData.chatID;\n			this.chat = Chat.unmarshal(this.chatData).load();\n			var launchTime = new Date();\n			if (this.isImagePosition) {\n				chatData.chatSpec.chatTheme.pos = \"CENTER\";\n				chatData.chatSpec.chatTheme.lx = 0;\n				chatData.chatSpec.chatTheme.ly = 0;\n			}\n			var chatParams = {\n				id: chatData.chatID,\n				rule: this.rule,\n				chatType: this.chatType,\n				timestamp: launchTime,\n				persistentChat: !! chatData.persistentChat\n			};\n			this.lastChat = {\n				id: this.getChatID(),\n				chatType: this.chat.getChatType(),\n				timestamp: launchTime,\n				businessUnitID: this.rule.getBusinessUnitID(),\n				brID: this.rule.id\n			};\n			if (this.isCallServiceType(this.getChatType())) {\n				this.lastCallId = this.getChatID();\n			}\n			if (this.getChatType() == this.CHAT_TYPES.POPUP) {\n				this.lpt = new Date().getTime();\n			}\n			this.chat.inHOP = chatData.inHOP;\n			this.launchChat(this.chat);\n			if (this.getChatType() == this.CHAT_TYPES.MONITOR) {\n				this.closeChat();\n			}\n			this.save();\n			if (this.getChatType() == this.CHAT_TYPES.C2C || this.getChatType() == this.CHAT_TYPES.C2CALL) {\n				BRM.fireServiceEngagedEvent({\n					brID: this.rule.id\n				});\n			}\n		} catch (e) {\n			ROM.post(urls.loggingURL, {\n				level: \"info\",\n				line: (\"Failure to Launch: \" + catchFormatter(e))\n			});\n			log(\"Error parsing Chat Data: \\n\" + e + \"\\n\" + data);\n			if (this.earlyPopout) {\n				try {\n					this.earlyPopout.close();\n				} catch (e) {}\n			}\n		} finally {\n			if (this.chatRequestQ.length > 0) {\n				this.request();\n			}\n		}\n	};\n	GR34.prototype.resetStateAfterPersistentChat = function() {\n		if (!this.isPersistentChat()) {\n			return;\n		}\n		if (!this.isPersistentChatInProgress()) {\n			this.chat.close();\n			delete this.chat;\n			this.save();\n		}\n	};\n	GR34.prototype.nfrt45 = function(evt) {\n		try {\n			if ( !! evt.reinitialized && this.isChatInProgress()) return;\n			if (this.getPersistentChatSetting()) {\n				this.setPersistentWindowActive(true);\n				var o = getOpener();\n				try {\n					o.setTimeout(\"inqFrame.Inq.FlashPeer.setPersistentWindowActive(true);\", 1);\n				} catch (e) {}\n			}\n			if (!this.isPersistentChat()) {\n				if (this.isV3Continue()) {\n					var now = (new Date()).getTime();\n					var then = this.getChatInterfaceData().lt;\n					if (CM.xd) {\n						var unloadTime = CM.cookies[\"inqLT\"];\n						if (unloadTime && then && unloadTime > then) {\n							then = unloadTime;\n						}\n					}\n					then = (then) ? (then + (1000 * Inq.v3TO)) : null;\n					if (then != null && then < now) {\n						this.setChatInterfaceData({});\n						this.chat = null;\n						this.save();\n					}\n				} else if (this.chat != null) {\n					this.chat.close();\n					delete this.chat;\n					this.save();\n				}\n			}\n			this.testForPersistentChat();\n		} catch (e) {\n			ROM.post(urls.loggingURL, {\n				level: \"ERROR\",\n				line: (\"CHM failure on nfrt45: \" + catchFormatter(e))\n			});\n		}\n	};\n	GR34.prototype.start = function() {\n		if (this.started) {\n			return;\n		}\n		this.started = true;\n	};\n	GR34.prototype.getOpenerChatFrame = function() {\n		try {\n			if (this.isPersistentWindow() && Inq.isSameOrigin()) {\n				return Inq.parent.opener.inqFrame;\n			}\n		} catch (err) {\n			ROM.post(urls.loggingURL, {\n				level: \"info\",\n				line: (\"Failure to Launch: \" + catchFormatter(err))\n			});\n		}\n		return null;\n	};\n	GR34.prototype.persistentRefresh = null;\n	GR34.prototype.setPersistentRefresh = function(refreshData) {\n		var ptrn = \"tcRefresh=\";\n		document.cookie = ptrn + refreshData + \";\";\n		this.persistentRefresh = refreshData;\n	};\n	GR34.prototype.r23ertd = function() {\n		var refresh = null;\n		if (!Inq.CHM.isPersistentWindow()) return null;\n		if (Inq.CHM.persistentRefresh != null) return Inq.CHM.persistentRefresh;\n		var _opener = null;\n		try {\n			_opener = Inq.CHM.getOpenerChatFrame();\n		} catch (e) {\n			_opener = null;\n		}\n		if (_opener && !_opener.closed && opener.Inq.CHM[\"persistentRefresh\"] != null) {\n			return _opener.Inq.CHM.persistentRefresh;\n		}\n		if (document.cookie.length < 1) return refresh;\n		var ptrn = \"tcRefresh=\";\n		var cookies = document.cookie.split(\";\");\n		for (var ix = 0; ix < cookies.length; ix++) {\n			var ck = cookies[ix];\n			while (ck.substr(0, 1) == \" \") ck = ck.substr(1);\n			if (ck.indexOf(ptrn) == 0) {\n				ck = unescape(ck.substr(ptrn.length));\n				refresh = Inq.CHM.persistentRefresh = (ck.length > 0) ? ck : null;\n				return (refresh);\n			}\n		}\n		return refresh;\n	};\n	GR34.prototype.load = function() {\n		function fixBlockedServicesData() {\n			var blocked = {};\n			var sessionServices = sessionData[\"blocked\"];\n			if ( !! sessionServices) {\n				for (var service in sessionServices) {\n					blocked[service] = sessionServices[service];\n				}\n			}\n			var stateServices = stateData[\"blocked\"];\n			if ( !! stateServices) {\n				for (var service in stateServices) {\n					blocked[service] = stateServices[service];\n				}\n			}\n			return blocked;\n		}\n		this.absorb(this.vitalVar.getValue());\n		this.absorb(this.stateVar.getValue());\n		this.absorb(this.sessionVar.getValue());\n		this.chat = Chat.unmarshal().load();\n		if ( !! this.chat) {\n			this.rule = this.chat.getRule();\n		}\n		if ( !! this.blocked) {\n			this.blocked = fixBlockedServicesData();\n		}\n		if (this.getLastChat() && this.getLastChat().svyPrms) {\n			MI8.mixAbsorber(this.getLastChat().svyPrms);\n		}\n		return this;\n	};\n	GR34.prototype.save = function() {\n		function prepareBlockedServicesData(services) {\n			for (var service in services) {\n				if (services[service] == 0) {\n					if (!sessionData.blocked) {\n						sessionData.blocked = {};\n					}\n					sessionData.blocked[service] = services[service];\n				} else if (services[service] == -2) {} else {\n					if (!stateData.blocked) {\n						stateData.blocked = {};\n					}\n					stateData.blocked[service] = services[service];\n				}\n			}\n		}\n		var sessionData = {\n			pmor: this.pmor,\n			cb: this.cb\n		};\n		if (this.chat != null) {\n			this.chat.save();\n			sessionData.chat = {\n				id: this.chat.getChatID(),\n				ruleID: this.rule ? this.rule.getID() : this.chat.getRuleId(),\n				aid: this.chat.getAgentID(),\n				pC: this.chat.isPersistent()\n			};\n		}\n		var vitalData = {\n			lpt: this.lpt,\n			lastChat: this.lastChat,\n			lastCallId: this.lastCallId\n		};\n		var stateData = {};\n		if ( !! this.blocked) {\n			prepareBlockedServicesData(this.blocked);\n		}\n		try {\n			this.vitalVar.setValue(vitalData);\n		} catch (e) {\n			log(\"GR34.save sessionData: \" + e, e);\n		}\n		try {\n			this.stateVar.setValue(stateData);\n		} catch (e) {\n			log(\"GR34.save sessionData: \" + e, e);\n		}\n		try {\n			this.sessionVar.setValue(sessionData);\n		} catch (e) {\n			log(\"GR34.save sessionData: \" + e, e);\n		}\n	};\n	GR34.prototype.isListener = function(l) {\n		if (l && (l.onChatRequested || l.onChatLaunched || l.onChatClosed || l.onPersistentPush || l.onAgentMsg || l.onCustomerMsg || l.onAgentAssigned || l.onChatEngagedEvent || l.onChatEvent)) return true;\n		return false;\n	};\n	GR34.prototype.cloneChatInterfaceData = function(srcobj) {\n		if (srcobj == null || typeof(srcobj) != 'object') return srcobj;\n		var newobj = new srcobj.constructor();\n		for (var key in srcobj)\n		newobj[key] = this.cloneChatInterfaceData(srcobj[key]);\n		return newobj;\n	};\n	GR34.prototype.getChatInterfaceData = function() {\n		return !!this.chat ? this.chat.getCiData() : {};\n	};\n	GR34.prototype.setChatInterfaceData = function(data) {\n		if (!this.chat) return;\n		this.chat.setCiData(data);\n	};\n	GR34.prototype.wecv56 = function(cT) {\n		var winTest = null;\n		var url = \"\",\n			target = GR34.persistentTarget;\n		var tools = \"toolbar=no,location=no,menubar=no,status=no,scrollbars=no\" + \",top=\" + cT.py + \",left=\" + cT.px + \",width=\" + cT.pw + \",height=\" + cT.ph + \",resizable=1\";\n		try {\n			winTest = window.parent.top.open(url, target, tools);\n		} catch (e) {\n			winTest = null;\n		}\n		this.earlyPopout = winTest;\n	};\n	GR34.prototype.engagePersistentChat = function(xfr) {\n		var chatID = this.getChatID();\n		var myProtoDomain = window.location.protocol + \"//\" + window.location.hostname;\n		try {\n			this.ask(\"/chatrouter/chat/isPersistentActive\", {\n				chatId: chatID,\n				pd: myProtoDomain,\n				xfr: (xfr) ? xfr : false\n			}, true);\n		} catch (e) {\n			log(\"GR34.proto.engagePersistentChat: 524: ERROR\" + e, e);\n		}\n		return;\n	};\n	GR34.prototype.CloseChatFromPersistent = function() {\n		GR34.getInstance().r345jjm();\n	};\n	GR34.prototype.againPopupChatUrl = \"\";\n	GR34.prototype.againPopoutChatRetry = function() {\n		var inst = Inq.CHM;\n		inst.againPopoutChat(inst.againPopupChatUrl, true, true);\n	};\n	GR34.prototype.__againGetPersistentWindow = function() {\n		var winTest = null;\n		var tools = \"toolbar=no,location=no,menubar=no,status=no,scrollbars=no\" + \",top=\" + \"-500\" + \",left=\" + \"-500\" + \",width=\" + \"0\" + \",height=\" + \"0\" + \"\";\n		try {\n			winTest = win.open(\"\", GR34.persistentTarget, tools);\n			if (winTest != null) {\n				var loc = \"err\";\n				try {\n					loc = winTest.location.href;\n				} catch (e) {\n					loc = \"err\";\n				}\n				if (\"about:blank\" == loc) {\n					winTest.close();\n					winTest = null;\n				} else if (loc != \"err\" && loc != undefined) {\n					if ( !! winTest.document && !! winTest.document.body) {\n						if (\"\" == winTest.document.body.innerHTML) {\n							winTest.close();\n							winTest = null;\n						}\n					} else {\n						winTest.close();\n						winTest = null;\n					}\n				}\n				if (winTest == top || winTest == self) return null;\n			}\n		} catch (e) {};\n		return winTest;\n	};\n	GR34.prototype.againPopoutChat = function(transferURL, differentDomains, retry) {\n		var persistentFocus = true;\n		var winTest = null;\n		if (isChrome()) return;\n		var url, target;\n		var port = (window.parent.document.location.port == \"\") ? \"\" : (\":\" + window.parent.document.location.port);\n		url = (Inq.v3framesrc.indexOf(\"/\") == 0) ? window.parent.document.location.protocol + \"//\" + window.parent.document.location.hostname + port + Inq.v3framesrc : Inq.v3framesrc;\n		var ix = transferURL.indexOf(\"#\");\n		var extra = \"\";\n		if (ix >= 0) {\n			url = transferURL.substr(0, ix);\n			extra = transferURL.substr(ix + 1);\n			this.setPersistentRefresh(extra);\n		} else {\n			url = transferURL;\n		}\n		target = GR34.persistentTarget;\n		var tools = \"toolbar=no,location=no,menubar=no,status=no,scrollbars=no\" + \",top=\" + \"-500\" + \",left=\" + \"-500\" + \",width=\" + \"0\" + \",height=\" + \"0\" + \"\";\n		winTest = this.__againGetPersistentWindow();\n		if (winTest != null) try {\n			if (!retry && differentDomains) {\n				window.Inq.isChatRefresh = true;\n			}\n			try {\n				winTest = window.parent.open(url, target, tools);\n			} catch (e) {\n				winTest = Inq.win.open(url, target, tools);\n			}\n			if (!winTest) {\n				log(\"pop up blocker\");\n			} else if (false || isChrome()) {\n				if (!retry && differentDomains) {\n					this.engagePersistentChat(url);\n					this.againPopupChatUrl = transferURL;\n					try {\n						window.setTimeout(this.againPopoutChatRetry, 2000);\n					} catch (erz) {}\n					return;\n				} else if (\"about:blank\" == winTest.location.href) {\n					return;\n				} else if (retry) {\n					winTest.opener = window.parent;\n				} else log(\"InqChatMgr.againPopoutChat: how did I get here?: \" + winTest.location.href);\n			}\n			if (\"\" != url) {\n				if (winTest == top) winTest = null;\n			} else {\n				var newdoc = null;\n				if (winTest) {\n					try {\n						newdoc = winTest[\"document\"];\n					} catch (e) {}\n					if (newdoc == null) try {\n						newdoc = winTest.document;\n					} catch (e) {}\n				}\n				if (newdoc) {\n					var scriptz = document.getElementsByTagName(\"SC\" + \"RIPT\");\n					var scrp = null;\n					for (ix = 0; ix < scriptz.length; ix++) {\n						if (scriptz[ix].src.indexOf(\"/inqChatLaunch\") >= 0) {\n							scr = '<script type=\"text/javascript\" src=\"' + scriptz[ix].src + '\"/></script>';\n							break;\n						}\n					}\n					if (scrp) newdoc.write(scrp);\n					else newdoc.close();\n				}\n			}\n		} catch (e) {\n			log(\"throw: \" + e);\n			winTest = null;\n		}\n		this.persisentWindow = winTest;\n		if (winTest) {\n			if (winTest.focus) try {\n				winTest.focus();\n			} catch (e) {}\n			return true;\n		} else return false;\n	};\n	GR34.prototype.getPersistentChatSetting = function() {\n		var pc;\n		var pcVar = Inq.PM.getVar(\"pc\");\n		if (pcVar == null) {\n			pcVar = (new VBER34(\"pc\", (pc = \"\" + (GR34.persistentTarget == window.parent.name)), resources[\"session\"]));\n			pcVar.init();\n			pcVar.getValue();\n			Inq.PM.addVar(pcVar);\n		}\n		try {\n			pc = pcVar.getValue();\n		} catch (e) {\n			log(\"GR34.getPersistentChatSetting ERROR:\" + e, e);\n		}\n		return (pc == \"true\");\n	};\n	GR34.prototype.setPersistentChatSetting = function(pc) {\n		pc = \"\" + pc;\n		var pcVar = Inq.PM.getVar(\"pc\");\n		if (pcVar == null) {\n			pcVar = (new VBER34(\"pc\", pc, resources[\"session\"]));\n			pcVar.init();\n			pcVar.setValue(pc);\n			Inq.PM.addVar(pcVar);\n			return;\n		}\n		pcVar.setValue(pc);\n	};\n	GR34.prototype.setPersistentWindowActive = function(status) {\n		try {\n			if (status == null) return;\n			if (GR34.persistentTarget == win.name && Inq.isSameOrigin()) {\n				if ( !! this.chat) this.chat.pC = status;\n				this.save();\n				var o = (win.opener && win.opener.inqFrame) ? win.opener.inqFrame : ((window.opener) ? window.opener : null);\n				o.setTimeout('Inq.CHM.setPersistentWindowActive(' + status + ')', 0);\n			} else if (!isNullOrUndefined(this.chat) && this.chat.pC != status) {\n				this.chat.pC = status;\n			}\n		} catch (e) {\n			ROM.post(urls.loggingURL, {\n				level: \"info\",\n				line: (\"Failure on setPersistentWindowActive: \" + catchFormatter(e))\n			});\n		}\n	};\n	GR34.prototype.isPersistentWindowActive = function() {\n		return (null != this.r11rbbv());\n	};\n	GR34.prototype.isPersistentChatActive = function() {\n		return this.isPersistentChatMaybeActive();\n	};\n	GR34.prototype.isPersistentChatInProgress = function() {\n		return this.isPersistentChatActive();\n	};\n	GR34.prototype.isPersistentChat = function() {\n		if (this.chat && this.chat.pC) {\n			return true;\n		} else {\n			return false;\n		}\n	};\n	GR34.prototype.r11rbbv = function() {\n		var winTest = null;\n		var strWidth;\n		var strHeight = 300;\n		var sLeft = 0;\n		var sTop = 0;\n		strWidth = 0;\n		if (GR34.persistentTarget == win.name) return true;\n		var toolsForTest = \"toolbar=no,location=no,menubar=no,status=no,scrollbars=no\" + \",top=\" + \"-500\" + \",left=\" + \"-500\" + \",width=\" + \"0\" + \",height=\" + \"0\" + \"\";\n		try {\n			if (this.popoutWindow != null && this.popoutWindow != false && this.popoutWindow != true && typeof(this.popoutWindow) == \"object\") {\n				if (this.popoutWindow.closed) {\n					this.popoutWindow = null;\n					return null;\n				}\n			}\n			if (this.chat.popoutWindow == false) return null;\n			if (this.earlyPopout) return null;\n			winTest = win.open(\"\", GR34.persistentTarget, toolsForTest);\n			if (winTest != null) {\n				if (\"about:blank\" == winTest.location.href) {\n					winTest.close();\n					winTest = null;\n				} else {\n					if (winTest.document && winTest.document.body) {\n						if (\"\" == winTest.document.body.innerHTML) {\n							winTest.close();\n							winTest = null;\n						}\n					} else {\n						winTest.close();\n						winTest = null;\n					}\n				}\n				if (winTest == top || winTest == self) winTest = null;\n			}\n			this.popoutWindow = winTest;\n		} catch (e) {\n			winTest = null;\n		}\n		return (winTest);\n	};\n	GR34.prototype.testForPersistentChat = function() {\n		if (!this.isPersistentWindow() && this.isPersistentChatMaybeActive()) {\n			if (!isChrome()) this.engagePersistentChat(false);\n			return;\n		}\n		this.testForContinueChatting();\n	};\n	GR34.prototype.testForContinueChatting = function() {\n		var isV3Continue = this.isV3Continue();\n		var isPersistentWindow = this.isPersistentWindow();\n		if (isV3Continue && (isPersistentWindow || (!this.isV3Active() && !this.isPersistentChatActive()))) {\n			this.continueChatting();\n		} else if (isPersistentWindow) {\n			var o = getOpener();\n			var c = (o.Inq.CHM.chat == null) ? Inq.CHM.chat : o.Inq.CHM.chat;\n			if (c == null) {\n				var fault = new Error(\"Missing Chat Object\");\n				fault.name = \"Persistent Fault:\";\n				fault.func = \"testForContinueChatting\";\n				ROM.post(urls.loggingURL, {\n					level: \"info\",\n					line: (\"Failure to Launch: \" + catchFormatter(fault))\n				});\n				window.parent.close();\n			}\n			var cd = MI8.JSON.clone(c.cd);\n			this.chat = Chat.unmarshal(cd).load();\n			this.chat.show();\n		}\n	};\n	GR34.prototype.continueChatting = function() {\n		this.chat.chatMgr = this;\n		this.chat.show();\n	};\n	GR34.prototype.nnm89 = function(chatID) {\n		try {\n			var crHost = this.getChatRouterURL();\n			var exitChat = crHost + \"/chatrouter/chat/exitChat\";\n			ROM.send(exitChat, {\n				chatId: chatID\n			});\n		} catch (e) {}\n	};\n	GR34.prototype.r345jjm = function() {\n		try {\n			if (!this.isMobile() || this._closeRetries++ < 20) {\n				var pw = inqFrame[\"persistentChatWindow\"];\n				if (pw != null && !pw.closed) {\n					this.retryTimeout = window.setTimeout('inqFrame.Inq.FlashPeer.CloseChatFromPersistent()', 50);\n					return;\n				} else {\n					this.retryTimeout = null;\n				}\n			} else {\n				this._closeRetries = 0;\n			}\n		} catch (e) {\n			log(\"Error in GR34.r345jjm: \" + e);\n		}\n		if (this.chat) {\n			this.chat.persistentChat = false;\n		}\n		if (CM.persistentWindow) {\n			CM.persistentWindow = null;\n		}\n		this.setPersistentChatSetting(false);\n		try {\n			this._postSurveyListener();\n		} catch (e) {}\n		this.setChatInterfaceData({});\n		try {\n			var crHost = this.getChatRouterURL();\n			var exitChat = crHost + \"/chatrouter/chat/exitChat\";\n			ROM.send(exitChat, {\n				chatId: this.getChatID()\n			});\n		} catch (e) {}\n		this.fireChatClosed();\n		if (this.chat) {\n			this.chat.close();\n		}\n		this.setPersistentWindowActive(false);\n		delete this.chat;\n		this.save();\n	};\n	GR34.prototype.registerChatFromPersistent = function() {\n		if (this.retryTimeout != null) {\n			window.clearTimeout(this.retryTimeout);\n			this.retryTimeout = null;\n		}\n		this.setPersistentChatSetting(true);\n		this.save();\n	};\n	GR34.prototype.getSurveyData = function() {\n		return this.getChatData() != null ? this.getChatData().survey : null;\n	};\n	GR34.prototype.setSurveyData = function(sdat) {\n		this.getChatData().survey = sdat;\n	};\n	GR34.prototype.setSurveyAuxParams = function(params) {\n		if (this.getLastChat()) {\n			var svyPrms = this.getLastChat().svyPrms;\n			if (!svyPrms) {\n				svyPrms = this.getLastChat().svyPrms = MI8.mixAbsorber({});\n			}\n			svyPrms.absorb(params);\n			this.save();\n		} else {\n			log(\"Warning: setting survey params failed - last chat data object doesn't exist.\");\n		}\n	};\n	GR34.prototype.getSurveyAuxParams = function() {\n		if (this.getLastChat()) {\n			return this.getLastChat().svyPrms;\n		} else {\n			return null;\n		}\n	};\n	GR34.prototype.setClickStreamSent = function(isSent) {\n		if (this.getLastChat()) {\n			this.getLastChat().clkstr = isSent;\n			this.save();\n		} else {\n			log(\"Warning: setting ClickStreamSent flag failed - last chat data object doesn't exist.\");\n		}\n	};\n	GR34.prototype.isClickStreamSent = function() {\n		if (this.getLastChat()) {\n			return this.getLastChat().clkstr;\n		} else {\n			return null;\n		}\n	};\n	GR34.prototype._postSurveyListener = function() {\n		var sdat = this.getSurveyData();\n		if (sdat) {\n			if (this.surveyRegistered) return;\n			this.surveyRegistered = true;\n		}\n	};\n	GR34.prototype.closePersistent = function() {\n		var chatID = this.getChatID();\n		if (!Inq.isSameOrigin()) {\n			this.nnm89(chatID);\n			this._postSurveyListener();\n		} else {\n			try {\n				var o = getOpener();\n				o.inqFrame[\"persistentChatWindow\"] = window.parent;\n				inqFrame.Inq.MSG.closePersistent(o);\n			} catch (err) {\n				this.nnm89(chatID);\n			}\n		}\n	};\n	GR34.prototype.inactivateChat = function() {\n		if (this.chat == null) return;\n		this.chat.setVisible(false);\n		var app = window[\"Application\"];\n		if (app && app.application && app.application.close) try {\n			app.application.close();\n		} catch (e) {}\n	};\n	GR34.prototype.closeChat = function(_src, _data, _reason, _closeConnection) {\n		if (this.isPersistentWindow()) {\n			this.closePersistent();\n		} else {\n			this._postSurveyListener();\n			if (!this.persistentChat) {\n				this.fireChatClosed();\n			}\n			this.chat.close();\n			this.chat = null;\n			this.save();\n		}\n	};\n	GR34.prototype._assertChatInProgress = function(_inProgress) {\n		if (this.chat == null) {\n			if (_inProgress) throw Error(\"Chat \" + (_inProgress ? \"not \" : \"\") + \"in progress\");\n		} else if (this.chat.isVisible() || this.isPersistentChatInProgress()) {\n			if (!_inProgress) throw Error(\"Chat \" + (_inProgress ? \"not \" : \"\") + \"in progress\");\n		}\n	};\n	GR34.prototype.setOpacity = function(opac) {\n		if (this.chat) this.chat.setOpacity(opac);\n	};\n	GR34.prototype.showPersistentButton = function(x, y, w, h) {\n		this.chat.pb.setPosition(x, y, w, h);\n		this.chat.pb.setVisible(true);\n	};\n	GR34.prototype.showTextInput = function(bShow, y, x, w, h) {\n		var o, offsetY;\n		offsetY = this.chat.chatSpec.chatTheme.tbh;\n		o = win.document.getElementById(\"inqInput4Chat\");\n		if (o) {\n			o.style.display = (bShow) ? \"\" : \"none\";\n			o.style.top = (y + offsetY) + \"px\";\n			o.style.left = x + \"px\";\n			o.style.width = w + \"px\";\n			o.style.height = h + \"px\";\n		}\n	};\n	GR34.prototype.hidePersistentButton = function() {\n		this.chat.pb.setVisible(false);\n	};\n	GR34.prototype.setPersistentButtonDebugActive = function(active) {\n		this.chat.pb.setDebugActive(active);\n	};\n	GR34.prototype._resetChat = function() {\n		this._assertChatInProgress(true);\n		win.document.body.removeChild(this.chat.container);\n		this.chat.close();\n		this.chat = null;\n		this.thankYouShown = !this.displayTYImage;\n		this.setChatInterfaceData({});\n		this.save();\n	};\n	GR34.prototype.setChatVisible = function(_vis) {\n		this.chat.setVisible(_vis);\n	};\n	GR34.prototype.launchChat = function(chat) {\n		try {\n			var refresh = this.r23ertd();\n			this._assertChatInProgress(false);\n			if (this.chat != chat) {\n				this.chat = chat;\n			}\n			if (!(this.getChatType() == this.CHAT_TYPES.MONITOR)) {\n				this._postSurveyListener();\n				this.chat.show();\n			}\n			this.fireChatLaunched(this.chat.getChatData());\n			if (this.getChatType() == GR34.CHM.CHAT_TYPES.POPUP || this.getChatType() == GR34.CHM.CHAT_TYPES.POPUP_CALL) {\n				BRM.fireServiceInvitationEvent(this.chat.getRule(), this.getChatType());\n			}\n		} catch (e) {\n			ROM.post(urls.loggingURL, {\n				level: \"info\",\n				line: (\"Failure to Launch: \" + catchFormatter(e))\n			});\n		}\n	};\n	GR34.prototype.getAgentID = function() {\n		return (this.chat) ? this.chat.getAgentID() : null;\n	};\n	GR34.prototype.getAgentName = function() {\n		return (this.chat) ? this.chat.getAgentName() : null;\n	};\n	GR34.prototype.getCustomerName = function() {\n		return (this.chat) ? this.chat.getCustomerName() : null;\n	};\n	GR34.prototype.isPersistentWindow = function() {\n		return isPersistentWindow();\n	};\n	GR34.prototype.getChat = function() {\n		return this.chat ? this.chat : null;\n	};\n	GR34.prototype.getLastChat = function() {\n		return this.lastChat ? this.lastChat : null;\n	};\n	GR34.prototype.getEmailSpecId = function() {\n		var emailSpecId = 0;\n		var chat = this.getChat();\n		if ( !! chat) {\n			emailSpecId = chat.chatSpec.emSpId;\n		}\n		return emailSpecId;\n	};\n	GR34.prototype.getChatID = function() {\n		var id = 0;\n		if ( !! this.chat) {\n			try {\n				id = this.chat.getChatID();\n			} catch (e) {}\n		}\n		return id;\n	};\n	GR34.prototype.getLastChatID = function() {\n		var id = 0;\n		if ( !! this.lastChat && !! this.lastChat.id) {\n			id = this.lastChat.id;\n		}\n		return id;\n	};\n	GR34.prototype.getLastCallID = function() {\n		return this.lastCallId;\n	};\n	GR34.prototype.getChatType = function() {\n		return this.chat ? this.chat.getChatType() : null;\n	};\n	GR34.prototype.getLastChatType = function() {\n		return this.lastChat ? this.lastChat.chatType : null;\n	};\n	GR34.prototype.tryue = function(serviceType, period) {\n		if (serviceType != GR34.CHM.CHAT_TYPES.POPUP && serviceType != GR34.CHM.CHAT_TYPES.POPUP_CALL) {\n			return;\n		}\n		if (isNullOrUndefined(this.blocked)) {\n			this.blocked = {};\n		}\n		if (isNullOrUndefined(this.blocked[serviceType]) || (!isNullOrUndefined(this.blocked[serviceType]) && this.blocked[serviceType] < (new Date).getTime())) {\n			if (period > 0) {\n				var now = new Date();\n				period += now.getTime();\n			}\n			this.blocked[serviceType] = period;\n			this.save();\n		}\n	};\n	GR34.prototype.unblockService = function(serviceType) {\n		if (serviceType != GR34.CHM.CHAT_TYPES.POPUP && serviceType != GR34.CHM.CHAT_TYPES.POPUP_CALL) {\n			return;\n		}\n		if (!isNullOrUndefined(this.blocked) && !isNullOrUndefined(this.blocked[serviceType])) {\n			delete this.blocked[serviceType];\n		}\n		this.save();\n	};\n	GR34.prototype.setCobrowseFlag = function(flag) {\n		var val = (flag) ? 1 : 0;\n		if (this.cb != val) {\n			this.cb = val;\n			this.save();\n		}\n	};\n	GR34.prototype.getCobrowseFlag = function() {\n		return ( !! this.cb) ? true : false;\n	};\n	GR34.prototype.isBlocked = function(serviceType) {\n		var blockedValue = false;\n		if (!isNullOrUndefined(this.blocked) && !isNullOrUndefined(this.blocked[serviceType])) {\n			var now = new Date();\n			var toDate = this.blocked[serviceType];\n			if (toDate <= 0) {\n				blockedValue = true;\n			} else {\n				blockedValue = toDate >= now.getTime();\n			}\n		}\n		return blockedValue;\n	};\n	GR34.prototype.isAnyBlocked = function() {\n		if (isNullOrUndefined(this.blocked)) {\n			return false;\n		}\n		for (var prop in this.blocked) {\n			return true;\n		}\n		return false;\n	};\n	GR34.prototype.isProactiveExpired = function() {\n		if (!this.lpt) return false;\n		var expireTime = new Date(this.lpt).getTime() + Inq.rechatInterval * 24 * 60 * 60 * 1000;\n		var now = new Date().getTime();\n		return now > expireTime;\n	};\n	GR34.prototype.isMobile = function() {\n		var deviceType = getDeviceType();\n		return (deviceType === 'Phone' || deviceType === 'Tablet');\n	}\n	GR34.prototype.popOutChat = function(transition) {\n		if (!this.isPersistentChatActive()) this._firePersistentPushEvt({});\n		if (CM.xd && !this.isMobile()) {\n			if (null == this.earlyPopout || this.earlyPopout.closed) {\n				this.wecv56(this.chat.chatSpec.chatTheme);\n			}\n			if (transition) this.chat.transitionMessage();\n			CM.dump();\n			CM.whenCookiesCommitted(function() {\n				(inqFrame.Inq.CHM).relocateToHostedPage(5);\n			});\n			return true;\n		}\n		if (this.isMobile()) {\n			inqFrame.Inq.FlashPeer.closePopupChat();\n		}\n		return this.chat.popOutChat(transition);\n	};\n	GR34.prototype.relocateToHostedPage = function(retryCnt) {\n		try {\n			this.popoutWindow = this.earlyPopout;\n			this.popoutWindow.location.href = Inq.v3framesrc;\n			this.chat.persistentChat = true;\n			this.earlyPopout = null;\n		} catch (err) {\n			err[\"this\"] = this;\n			err[\"popoutWindow\"] = (this.popoutWindow) ? this.popoutWindow : \"undefined\";\n			err[\"earlyPopout\"] = (this.earlyPopout) ? this.earlyPopout : \"undefined\";\n			err[\"popoutWindow_location\"] = (this.popoutWindow.location) ? this.popoutWindow.location : \"undefined\";\n			if (retryCnt == 0) err[\"PersistentFailure\"] = \"Persistent Popout failed, all retries exhausted\";\n			ROM.post(urls.loggingURL, {\n				level: \"info\",\n				line: (\"Failure to relocateToHostedPage(\" + retryCnt + \"): \" + catchFormatter(err))\n			});\n			if (retryCnt > 0) {\n				inqFrame.Inq.FlashPeer[\"__relocateToHostedPage\"] = function(retryCnt) {\n					(inqFrame.Inq.CHM).relocateToHostedPage(retryCnt);\n				};\n				inqFrame.setTimeout('inqFrame.Inq.FlashPeer.__relocateToHostedPage(' + (--retryCnt) + ');', 50);\n			} else {\n				var wins = [this.earlyPopout, this.popoutWindow];\n				while (wins.length) {\n					w = wins.shift()\n					if (w) {\n						try {\n							if (!w.closed) w.close();\n						} catch (e) {}\n					}\n				}\n				this.earlyPopout = this.popoutWindow = null;\n			}\n		}\n	};\n	GR34.prototype.reset = function() {};\n	GR34.prototype.sendMsg = function(_msgData, _src) {\n		ROM.send(Inq.urls.sendToAgentURL, {\n			chatID: _msgData.chatID,\n			msg: escape(_msgData.msg)\n		});\n	};\n	GR34.prototype.closeConnection = function() {};\n	GR34.prototype.toString = function() {\n		return \"GR34: \" + MI8.JSON.stringify(this);\n	};\n	GR34.prototype._addListener = function(_l, _lArr) {\n		if (!_l.id) _l.id = Math.random();\n		_lArr.push(_l);\n	};\n	GR34.prototype.hasAlreadyChatted = function(chatData) {\n		if (!this.lastChat) return false;\n		var lastChatTimeMS = new Date(this.lastChat.time).getTime();\n		var nowMS = (new Date()).getTime();\n		var reChatTimeMS = lastChatTimeMS + Inq.rechatInterval * (24 * 60 * 60 * 1000);\n		return (reChatTimeMS >= nowMS);\n	};\n	GR34.prototype.clearAllChatListeners = function() {\n		this._listeners = [];\n	};\n	GR34.prototype.assignAgent = function(aid, noSave, cobrowseEnabled, eventData, buID) {\n		log(\"Agent Assigned: GR34.assignAgent(\" + aid + \")\");\n		try {\n			this.chat.setAgentID(aid, buID);\n			if (!noSave) {\n				this.save();\n			}\n			this.fireAgentAssigned(aid, cobrowseEnabled, eventData);\n			if (this.isPersistentWindow() && Inq.isSameOrigin()) {\n				var delayedCommand = 'inqFrame.Inq.CHM.assignAgent(\"' + aid + '\", true,' + cobrowseEnabled + ',' + eventData + ',' + buID + ')';\n				win.opener.inqFrame.setTimeout(delayedCommand, 50);\n			}\n		} catch (er) {\n			log(\"FAILED ATTEMPT TO SET AGENT ID FROM FLASH: \" + er);\n		}\n	};\n	GR34.prototype.isV3Continue = function() {\n		var ciData = this.getChatInterfaceData();\n		return ciData ? ciData.c == 1 : false;\n	};\n	GR34.prototype.isV3Active = function() {\n		if (CM.xd) {\n			try {\n				var activeFlag = CM.cookies[\"inqCA\"];\n				var activeCount = 0,\n					e = null;\n				if (activeFlag == null) return false;\n				if (isNaN(activeCount = parseInt(activeFlag))) {\n					return false;\n				}\n				if (activeCount <= 0) return false;\n				return true;\n			} catch (e) {\n				log(\"Error detecting isV3Active:\" + e);\n				return false;\n			}\n		} else {\n			var ciData = this.getChatInterfaceData();\n			if ( !! ciData) try {\n				return (ciData.a == true);\n			} catch (err) {}\n			return false;\n		}\n	};\n	GR34.prototype.isChatInProgress = function() {\n		if (this.isPersistentChat()) {\n			if (this.isPersistentChatInProgress()) {\n				return true;\n			} else {\n				this.resetStateAfterPersistentChat();\n				return false;\n			}\n		} else {\n			return this.isV3Continue() || this.isInlineChatInProgress();\n		}\n	};\n	GR34.prototype.isInlineChatInProgress = function() {\n		return ( !! this.chat && this.chat.isVisible());\n	};\n	GR34.prototype.isThankYouEnabled = function() {\n		return this.thankYouEnabled;\n	};\n	GR34.prototype.getChatData = function() {\n		return !!this.chat ? this.chat : null;\n	};\n	GR34.prototype.onChatLaunched = function(evt) {\n		if (!CM.isPersistentCookiesAllowed() && isIE()) {\n			var sesOnlyCookieMsg = \"Only Session Cookies are allowed for this chatID. \" + this.getChatID();\n			if (!JSLoggingDisabled) {\n				log(\"\" + sesOnlyCookieMsg);\n				ROM.post(urls.loggingURL, {\n					level: \"info\",\n					line: sesOnlyCookieMsg\n				});\n			}\n		}\n	};\n	GR34.prototype._fireChatEvt = function(evt) {\n		this._fireEvt(function(l, evt) {\n			if (l.onChatEvent) l.onChatEvent(evt);\n		}, evt);\n	};\n	GR34.prototype.fireAgentMsgEvent = function() {\n		if (isNullOrUndefined(this.chat)) {\n			return;\n		}\n		this.chat.bumpAgtMsgCount();\n		var event = {\n			customerID: Inq.getCustID(),\n			chatID: this.chat.getChatID(),\n			custMsgCnt: this.chat.getCustMsgCnt(),\n			agtMsgCnt: this.chat.getAgentMsgCnt()\n		};\n		this._fireEvt(function(l, event) {\n			try {\n				if (typeof l.onAgentMsg == \"function\") l.onAgentMsg(event);\n				if (typeof l.onChatEvent == \"function\") l.onChatEvent(event);\n			} catch (e) {\n				log(\"Error firing event onAgentMsg on \" + l.toString() + \": \\n\" + e);\n			}\n		}, event);\n		if (!this.isPersistentWindow() || !isIE()) this.chat.save();\n	};\n	GR34.prototype.fireCustomerMsgEvent = function(evt) {\n		if (isNullOrUndefined(this.chat)) {\n			return;\n		}\n		this.chat.bumpCustMsgCount();\n		var event = MI8.mixAbsorber({\n			customerID: Inq.getCustID(),\n			chatID: this.chat.id,\n			custMsgCnt: this.chat.getCustMsgCnt(),\n			agtMsgCnt: this.chat.getAgentMsgCnt(),\n			textLine: evt.textLine.substring(0, 50)\n		});\n		this._fireEvt(function(l, event) {\n			try {\n				if (typeof l.onCustomerMsg == \"function\") l.onCustomerMsg(event);\n				if (typeof l.onChatEvent == \"function\") l.onChatEvent(event);\n			} catch (e) {\n				log(\"Error firing event onCustomerMsg on \" + l.toString() + \": \\n\" + e);\n			}\n		}, event);\n		if (!this.isPersistentWindow() || !isIE()) this.chat.save();\n	};\n	GR34.prototype.fireChatRequested = function(src, evtData) {\n		var evt = MI8.mixAbsorber({});\n		evt.absorb(evtData);\n		evt.id = this.evtIdx++;\n		evt.evtType = this.EVTS.REQUESTED;\n		evt.timestamp = new Date();\n		evt.src = src;\n		this._fireEvt(function(l, evt) {\n			if (typeof l.onChatRequested == \"function\") l.onChatRequested(evt);\n		}, evt);\n	};\n	GR34.prototype.fireChatLaunched = function(chatData) {\n		if (chatData == null) chatData = this.chat.getChatData();\n		var evt = MI8.mixAbsorber({\n			id: this.evtIdx++,\n			evtType: this.EVTS.LAUNCHED,\n			src: this,\n			chatID: chatData.id\n		});\n		evt.absorb(chatData).absorb({\n			\"customerID\": Inq.getCustID(),\n			rule: this.rule\n		});\n		if (this.chat) evt.inHOP = this.chat.inHOP;\n		var custEvt = {\n			customerID: Inq.getCustID(),\n			chatID: chatData.id,\n			evtType: this.EVTS.LAUNCHED,\n			chatType: this.getChatType()\n		};\n		this._fireEvt(function(l, evt) {\n			var event = isNullOrUndefined(l.custApi) ? evt : custEvt;\n			try {\n				if (typeof l.onChatLaunched == \"function\") l.onChatLaunched(event);\n				if (typeof l.onChatEvent == \"function\") l.onChatEvent(event);\n			} catch (e) {\n				log(\"Error firing event onChatLaunched on \" + l.toString() + \": \\n\" + e);\n			}\n		}, evt);\n		if (window.parent.name == GR34.persistentTarget) {\n			var o = getOpener();\n			if (o || Inq.isSameOrigin()) {\n				o.setTimeout('Inq.CHM.fireChatLaunched(null)', 0);\n			}\n		}\n	};\n	GR34.prototype.fireChatClosed = function(chatData) {\n		try {\n			if (chatData == null) chatData = this.chat.getChatData();\n			this.hasEngaged = false;\n			if (chatData.buID != -1) {\n				this.lastChat.businessUnitID = chatData.buID;\n			}\n			var evt = MI8.mixAbsorber({\n				id: this.evtIdx++,\n				chatID: chatData.id,\n				evtType: this.EVTS.CLOSED,\n				timestamp: new Date(),\n				rule: this.rule,\n				src: this\n			});\n			evt.absorb(chatData).absorb({\n				\"customerID\": Inq.getCustID(),\n				\"agentID\": this.getAgentID()\n			});\n			var custEvt = {\n				customerID: Inq.getCustID(),\n				chatID: chatData.id,\n				agentID: this.getAgentID()\n			};\n			this._fireEvt(function(l, evt) {\n				var event = isNullOrUndefined(l.custApi) ? evt : custEvt;\n				try {\n					if (typeof l.onChatClosed == \"function\") l.onChatClosed(event);\n					if (typeof l.onChatEvent == \"function\") l.onChatEvent(event);\n				} catch (e) {\n					log(\"Error firing event onChatClosed on \" + l.toString() + \": \\n\" + e);\n				}\n			}, evt);\n		} catch (e) {\n			ROM.post(urls.loggingURL, {\n				level: \"info\",\n				line: (\"Failure to fireChatClosed: \" + catchFormatter(e))\n			});\n		}\n	};\n	GR34.prototype.fireChatEngaged = function(_src) {\n		if (this.hasEngaged) {\n			return;\n		}\n		this.hasEngaged = true;\n		var evt = MI8.mixAbsorber({\n			evtType: this.EVTS.ENGAGED,\n			timestamp: new Date(),\n			src: _src,\n			chat: this.getChatData()\n		});\n		var chatData = this.getChatData();\n		evt.absorb(chatData).absorb({\n			\"chatID\": chatData.id,\n			\"chatType\": this.getChatType(),\n			\"customerID\": Inq.getCustID(),\n			\"agentID\": this.getAgentID(),\n			chatID: this.getChatID()\n		});\n		this._fireEvt(function(l, evt) {\n			if (typeof l.onChatEngagedEvent == \"function\") l.onChatEngagedEvent(evt);\n			if (typeof l.onChatEvent == \"function\") l.onChatEvent(evt);\n		}, evt);\n	};\n	GR34.prototype.firePersistentChatClosed = function(_src) {\n		this.fireChatClosed(undefined, _src);\n	};\n	GR34.prototype.firePersistentChatLanding = function() {\n		this._firePersistentLandingEvt(this.getChatData());\n	};\n	GR34.prototype.firePersistentPush = function() {\n		this._fireChatEvt({\n			id: ++this.evtIdx,\n			chatType: this.chat.getChatType(),\n			evtType: this.EVTS.PERSISTENT_PUSH,\n			chat: this.getChatData(),\n			timestamp: new Date()\n		});\n	};\n	GR34.prototype.firePendingEvents = function() {\n		if (this.isPersistentChat() || this.isV3Continue()) {\n			this.firePersistentChatLanding();\n		}\n	};\n	GR34.prototype._firePersistentPushEvt = function(evt) {\n		var chatData = null;\n		var inh = null;\n		if (this.chat) {\n			inh = this.chat.inHOP;\n			chatData = this.chat.getChatData();\n		}\n		evt = MI8.mixAbsorber({\n			id: this.evtIdx++,\n			evtType: this.EVTS.PERSISTENT_PUSH,\n			src: this,\n			chatID: (chatData ? chatData.id : null),\n			inHOP: inh\n		});\n		evt.absorb(chatData).absorb({\n			\"customerID\": Inq.getCustID(),\n			rule: this.rule\n		});\n		this._fireEvt(function(l, _evt) {\n			if (l.onPersistentPush) l.onPersistentPush(_evt);\n		}, evt);\n	};\n	GR34.prototype._firePersistentLandingEvt = function(evt) {\n		this._fireEvt(function(l, _evt) {\n			if (l.onPersistentChatLanding) l.onPersistentChatLanding(_evt);\n		}, evt);\n	};\n	GR34.prototype.fireAgentAssigned = function(_agtID, _cobrowseEnabled, eventData) {\n		this.evtIdx++;\n		var evt = MI8.mixAbsorber({\n			id: this.evtIdx,\n			agentID: _agtID,\n			cobrowseEnabled: !! _cobrowseEnabled,\n			ruleID: this.chat.getRule().getID(),\n			chatID: this.getChatID(),\n			timestamp: new Date()\n		});\n		if (typeof(eventData) == \"object\") {\n			evt.absorb(eventData);\n		} else if (typeof(eventData) == \"string\") {\n			evt.absorb(MI8.JSON.parse(eventData));\n		}\n		this._fireEvt(function(l, evt) {\n			if (l && typeof l.onAgentAssigned == \"function\") {\n				l.onAgentAssigned(evt);\n			}\n		}, evt);\n	};\n	GR34.prototype.isServiceSupported = function(chatType) {\n		return !!this.CHAT_TYPES[chatType];\n	};\n	GR34.prototype.isCallServiceType = function(chatType) {\n		return (this.CHAT_TYPES.C2CALL == chatType || this.CHAT_TYPES.POPUP_CALL == chatType);\n	};\n	GR34.prototype.getConversionType = function() {\n		if ( !! this.chat) {\n			return this.isCallServiceType(this.getChatType()) ? \"call\" : \"chat\";\n		} else {\n			return null;\n		}\n	};\n	GR34.prototype.isServiceInProgress = function(chatType) {\n		var inProgress = false;\n		if ( !! this.chat) {\n			var thisChatType = this.chat.getChatType();\n			if (chatType == \"ANY\") {\n				return !isNullOrUndefined(thisChatType);\n			}\n			if (!this.isServiceSupported(chatType)) {\n				throw \"ServiceTypeNotRecognized - not supported chat type provided: '\" + chatType + \"'\";\n			}\n			if (!isNullOrUndefined(chatType)) {\n				if (this.isPersistentWindow() && chatType == this.CHAT_TYPES.PERSISTENT) {\n					inProgress = true;\n				} else {\n					inProgress = (chatType == thisChatType);\n				}\n			}\n		}\n		return inProgress;\n	};\n	GR34.prototype.registerFlashvarFcn = function(fcn) {\n		this._flashvarFcns.push(fcn);\n	};\n	GR34.prototype.getCobrowseBannerText = function() {\n		return !!this.chat ? this.chat.getCobrowseBannerText() : \"\";\n	};\n	GR34.prototype.endCobrowseSessionFromBanner = function() {\n		try {\n			var parentRef = window.parent;\n			if (!this.isChatInProgress()) {\n				parentRef = this.r11rbbv();\n			}\n			parentRef.inqFrame.Application.application.customerEndsCobrowse();\n		} catch (e) {\n			log(\"We have a cobrowse error\" + e);\n		}\n	};\n	GR34.prototype.getFlashVarData = function() {\n		var retval = null;\n		if (this._flashvarFcns.length > 0) {\n			retval = MI8.mixAbsorber({});\n			for (var idx = 0; idx < this._flashvarFcns.length; idx++) {\n				retval.absorb(this._flashvarFcns[idx]());\n			}\n		}\n		return retval;\n	}\n	GR34.prototype.EVTS = {\n		LAUNCHED: \"LAUNCHED\",\n		PERSISTENT_PUSH: \"PERSISTENT_PUSH\",\n		CLOSED: \"CLOSED\",\n		REQUESTED: \"REQUESTED\",\n		SHOWN: \"SHOWN\",\n		ENGAGED: \"ENGAGED\"\n	};\n\n	function X43(id, data) {\n		this._observable();\n		this._frameworkModule(id);\n		this.absorb(data);\n		this._c2cList = [];\n		this.stateVar = null;\n		this.sessionVar = null;\n		this.requestInProgress = false;\n	}\n	MI8.prepare(X43).im13(MI8.XJA3).im13(MI8.FM2).im13(MI8.Persistable).im13(MI8.Observable);\n	X43.prototype.getPersistentID = function() {\n		return this.getID();\n	};\n	X43.prototype.init = X43.prototype.start = function() {};\n	X43.prototype.reset = function() {\n		for (var i = 0; i < this._c2cList.length; i++) {\n			if (typeof this._c2cList[i] !== \"undefined\") {\n				this._c2cList[i].reset();\n			}\n		}\n	};\n	X43.prototype.load = function() {\n		function fixBlockedServicesData() {\n			var blocked = {};\n			var sessionServices = sessionData[\"blocked\"];\n			if ( !! sessionServices) {\n				for (var service in sessionServices) {\n					blocked[service] = sessionServices[service];\n				}\n			}\n			var stateServices = stateData[\"blocked\"];\n			if ( !! stateServices) {\n				for (var service in stateServices) {\n					blocked[service] = stateServices[service];\n				}\n			}\n			return blocked;\n		}\n		this.stateVar = new VBER34(this.getID(), {}, resources[\"state\"]);\n		this.sessionVar = new VBER34(this.getID(), {}, resources[\"session\"]);\n		var stateData = this.stateVar.getValue();\n		this.absorb(stateData);\n		var sessionData = this.sessionVar.getValue();\n		this.absorb(sessionData);\n		if ( !! this.blocked) {\n			this.blocked = fixBlockedServicesData();\n		}\n	};\n	X43.prototype.save = function() {\n		function prepareBlockedServicesData(services) {\n			for (var service in services) {\n				if (services[service] == 0) {\n					if (!sessionData.blocked) {\n						sessionData.blocked = {};\n					}\n					sessionData.blocked[service] = services[service];\n				} else if (services[service] == -2) {} else {\n					if (!stateData.blocked) {\n						stateData.blocked = {};\n					}\n					stateData.blocked[service] = services[service];\n				}\n			}\n		}\n		var stateData = {};\n		var sessionData = {};\n		if ( !! this.blocked) {\n			prepareBlockedServicesData(this.blocked);\n		}\n		this.stateVar.setValue(stateData);\n		this.sessionVar.setValue(sessionData);\n	};\n	X43.prototype.agrtyer = function() {\n		this.load();\n	};\n	X43.prototype.tryue = function(serviceType, period) {\n		if (serviceType != GR34.CHM.CHAT_TYPES.C2C && serviceType != GR34.CHM.CHAT_TYPES.C2CALL) {\n			return;\n		}\n		if (isNullOrUndefined(this.blocked)) {\n			this.blocked = {};\n		}\n		if (isNullOrUndefined(this.blocked[serviceType]) || (!isNullOrUndefined(this.blocked[serviceType]) && this.blocked[serviceType] < (new Date).getTime())) {\n			if (period > 0) {\n				var now = new Date();\n				period += now.getTime();\n			}\n			this.blocked[serviceType] = period;\n			this.save();\n		}\n	};\n	X43.prototype.unblockService = function(serviceType) {\n		if (serviceType != GR34.CHM.CHAT_TYPES.C2C && serviceType != GR34.CHM.CHAT_TYPES.C2CALL) {\n			return;\n		}\n		if (!isNullOrUndefined(this.blocked) && !isNullOrUndefined(this.blocked[serviceType])) {\n			delete this.blocked[serviceType];\n		}\n		this.save();\n	};\n	X43.prototype.isBlocked = function(serviceType) {\n		var blockedValue = false;\n		if (!isNullOrUndefined(this.blocked) && !isNullOrUndefined(this.blocked[serviceType])) {\n			var now = new Date();\n			var toDate = this.blocked[serviceType];\n			if (toDate <= 0) {\n				blockedValue = true;\n			} else {\n				blockedValue = toDate >= now.getTime();\n			}\n		}\n		return blockedValue;\n	};\n	X43.prototype.isAnyBlocked = function() {\n		if (isNullOrUndefined(this.blocked)) {\n			return false;\n		}\n		for (var prop in this.blocked) {\n			return true;\n		}\n		return false;\n	};\n	X43.prototype.agrty = function(idx, callThisNumber) {\n		var c2c = this.getC2C(idx);\n		if (!c2c) {\n			log(\"can't find c2c \" + idx);\n			return;\n		}\n		if (c2c.c2p || (callThisNumber != null && (!c2c.isClicked()))) {\n			CHM.wecv56(c2c.c2cSpec.chatSpec.chatTheme);\n		}\n		if (!c2c.isClicked()) {\n			this.fireC2CClicked(c2c);\n			CHM.request(c2c.getRule(), c2c.getChatType(), c2c.getXmlChatSpec(), (( !! callThisNumber) ? callThisNumber : null), c2c.c2p);\n			c2c.setClicked(true);\n		} else {\n			log(\"Ignored C2C double click\");\n		}\n	};\n	X43.prototype.getC2C = function(idx) {\n		return this._c2cList[idx];\n	};\n	X43.prototype.request = function(rule, chatType, dataFcn, clickToPersistent) {\n		if (this.isBlocked(chatType)) {\n			return;\n		}\n		var c2c = new C2C(this, rule, chatType, dataFcn, clickToPersistent ? clickToPersistent : isC2cPersistent());\n		if (c2c.getDiv()) {\n			this._c2cList[c2c.getIdx()] = c2c;\n			if (!this.requestInProgress) {\n				this.requestInProgress = true;\n				c2c.request();\n			}\n			log('X43 request: {ruleName: \\\"' + rule.getName() + '\\\"}');\n		} else {\n			C2C.IDX--;\n			if (c2c.isDivOccupied()) {\n				var exposureData = {\n					siteID: Inq.getSiteID(),\n					customerID: Inq.getCustID(),\n					incrementalityID: getIncAssignmentID(),\n					sessionID: getSessionID(),\n					brID: rule.id,\n					group: PM.getVar(\"incGroup\").getValue(),\n					businessUnitID: rule.getBusinessUnitID(),\n					result: \"existing_offer\",\n					rule: rule\n				};\n				BRM.fireExposureQualifiedEvent(exposureData);\n				log(\"C2C div already occupied: \" + rule.getName());\n			} else {\n				log(\"C2C div not found for \" + rule.getName());\n			}\n		}\n	};\n	X43.prototype.nextRequest = function(completedC2C) {\n		log(\"C2C request complete for \" + completedC2C.getRule().getName());\n		this.requestInProgress = false;\n		var nextIdx = completedC2C.getIdx() + 1;\n		var nextC2C = this._c2cList[nextIdx];\n		if ( !! nextC2C) {\n			log(\"Issuing next C2C request for \" + nextC2C.getRule().getName());\n			this.requestInProgress = true;\n			nextC2C.request();\n		}\n	};\n	X43.prototype.showCallButton = function(indx, source, left, top, number, show, giveFocus, title) {\n		var c2c = this.getC2C(indx);\n		if (c2c != null) c2c.showCallButton(source, left, top, number, show, giveFocus, title);\n	};\n	X43.prototype.isListener = function(l) {\n		return !!(l && (l.onC2CDisplayed || l.onC2CClicked));\n	};\n	X43.prototype.onChatClosed = function() {\n		this.clicked = false;\n	};\n	X43.prototype.fireC2CDisplayed = function(data) {\n		var evt = {\n			c2c: data.c2c,\n			rule: data.rule,\n			serviceType: CHM.CHAT_TYPES.C2C,\n			customerID: Inq.getCustID(),\n			data: data.data\n		};\n\n		function f(l, evt) {\n			try {\n				if ( !! l.onC2CDisplayed) {\n					l.onC2CDisplayed(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event C2CDisplayed on \" + l.toString() + \":\" + e);\n			}\n		}\n		this._fireEvt(f, evt);\n	};\n	X43.prototype.fireC2CClicked = function(c2c) {\n		var evt = {\n			c2c: c2c,\n			rule: c2c.getRule(),\n			serviceType: CHM.CHAT_TYPES.C2C,\n			customerID: Inq.getCustID()\n		};\n\n		function f(l, evt) {\n			try {\n				if ( !! l.onC2CClicked) {\n					l.onC2CClicked(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event C2CClicked on \" + l.toString() + \":\" + e);\n			}\n		}\n		this._fireEvt(f, evt);\n	};\n	X43.prototype.IMAGETYPES = {\n		disabled: \"d\",\n		busy: \"b\",\n		afterHours: \"ah\",\n		ready: \"r\"\n	};\n\n	function Chat(chatData) {\n		this.sesVar = new VBER34(\"chat\", {}, resources[\"session\"]);\n		this._className = \"Chat\";\n		this._stage = window.parent.document.getElementById(\"inqChatStage\");\n		this.intervalId = 0;\n		this._isVisible = false;\n		this.dragHandleID = \"inqTitleBar\";\n		this.cd = MI8.clonize(chatData);\n		this.rule = null;\n		this.BOXID_CHATACTIVE = \"CHATACTIVE\";\n	}\n	MI8.prepare(Chat).im13(MI8.XJA3);\n	Chat.prototype.setSurvey = function(sdat) {\n		if ( !! sdat && sdat.id > 0) {\n			this.cd.sid = sdat.id;\n			this.save();\n		} else {\n			log(\"chat.setSurvey(): Survey data set failed. sdat undefined or invalid sid\" + sdat);\n		}\n	};\n	Chat.prototype.load = function() {\n		var cd = this.cd;\n		if (isNullOrUndefined(cd)) {\n			cd = MI8.clonize(this.sesVar.getValue());\n			if (isNullOrUndefined(cd)) {\n				return null;\n			}\n		}\n		if (!isNullOrUndefined(cd)) {\n			cd.aMsgCnt = (isNullOrUndefined(cd.aMsgCnt)) ? 0 : cd.aMsgCnt;\n			cd.cMsgCnt = (isNullOrUndefined(cd.cMsgCnt)) ? 0 : cd.cMsgCnt;\n		}\n		Chat.validate(cd);\n		this.cd = cd;\n		this.chatSpec = MM.mergeChatSpec(cd.xmlSpec);\n		this.rule = BRM.getRuleById(cd.ruleID);\n		return this;\n	};\n	Chat.prototype.getCiData = function() {\n		return !!this.cd ? this.cd.ci : {};\n	};\n	Chat.prototype.setCiData = function(dat, doNotSave) {\n		if (this.cd) {\n			this.cd.ci = dat;\n			if (!doNotSave) this.save();\n		}\n	};\n	Chat.unmarshal = function(chatData) {\n		return new Chat(chatData);\n	};\n	Chat.prototype.bumpAgtMsgCount = function() {\n		if ( !! this.cd) this.cd.aMsgCnt += 1;\n	};\n	Chat.prototype.bumpCustMsgCount = function() {\n		if ( !! this.cd) this.cd.cMsgCnt += 1;\n	};\n	Chat.prototype.getCustMsgCnt = function() {\n		if ( !! this.cd) return this.cd.cMsgCnt;\n		return 0;\n	};\n	Chat.prototype.getChatData = function() {\n		try {\n			return !!this.cd ? this.cd.clone() : null;\n		} catch (err) {\n			MI8.clonize(this.cd);\n			return this.cd.clone();\n		}\n	};\n	Chat.prototype.getAgentMsgCnt = function() {\n		if ( !! this.cd) return this.cd.aMsgCnt;\n		return 0;\n	};\n	Chat.prototype.save = function() {\n		this.sesVar.setValue(this.cd);\n	};\n	Chat.prototype.getCustID = function() {\n		return Inq.custID;\n	};\n	Chat.prototype.getChatID = function() {\n		if ( !! this.cd) return this.cd.id;\n		return null;\n	};\n	Chat.prototype.getChatType = function() {\n		return this.cd.chatType;\n	};\n	Chat.prototype.isC2cToPersistent = function() {\n		return this.cd.c2cToPersistent;\n	};\n	Chat.prototype.getLanguage = function() {\n		var language;\n		try {\n			language = this.getRule().getLanguage();\n		} catch (e) {\n			log(\"Error while getting language from Rule: \\n\" + e + \"\\n\");\n		}\n		if (!language) {\n			language = getDefaultLanguage();\n		}\n		return language;\n	};\n	Chat.prototype.isC2cToPersistent = function() {\n		return this.cd.c2cToPersistent;\n	};\n	Chat.prototype.getLanguage = function() {\n		var language;\n		try {\n			language = this.getRule().getLanguage();\n		} catch (e) {\n			log(\"Error while getting language from Rule: \\n\" + e + \"\\n\");\n		}\n		if (!language) {\n			language = getDefaultLanguage();\n		}\n		return language;\n	};\n	Chat.prototype.onLocalCallback = function() {\n		try {\n			this.show();\n		} catch (e) {\n			log(\"Error in above code: \\n\" + e + \"\\n\" + data);\n		}\n	};\n	Chat.prototype.getRule = function() {\n		return this.rule;\n	};\n	Chat.prototype.getRuleId = function() {\n		var ruleID = this.rule.getID();\n		return !!ruleID ? ruleID : \"\";\n	};\n	Chat.prototype.getRuleName = function() {\n		return this.rule.getName();\n	};\n	Chat.prototype.monitorChatActive = function() {\n		if (!(CM.xd)) return;\n		this.closeChatMonitor();\n		var request = \"CHATACTIVE||CHATACTIVE||\" + Inq.siteID;\n		CM.postRequestToIframeByName(request, this.BOXID_CHATACTIVE);\n	};\n	Chat.prototype.closeChatMonitor = function() {\n		if (!(CM.xd)) return;\n		var cmon = document.getElementById(\"CHATACTIVE\");\n		if (cmon) {\n			cmon.parentNode.removeChild(cmon);\n		}\n		var request = \"CHATACTIVE||CHATDEACTIVATE||\" + Inq.siteID;\n		CM.postRequestToIframeByName(request, this.BOXID_CHATACTIVE);\n	};\n	Chat.prototype.show = function() {\n		var type = this.getChatType();\n		if (this.chatSpec != null && ((type == CHM.CHAT_TYPES.C2C) || (type == CHM.CHAT_TYPES.PERSISTENT)) && this.isC2cToPersistent()) {\n			if (!CHM.r11rbbv()) {\n				CHM.popOutChat(true);\n				return;\n			}\n		}\n		this.preloadChat();\n		this.monitorChatActive();\n		this.setVisible(true);\n		if (window[\"Application\"] == null || typeof window.Application.application == \"undefined\" || window.Application.application.initialized == false) {\n			window.launchWhenReady = true;\n		} else {\n			Application.main();\n		}\n	};\n	Chat.prototype.close = function() {\n		this.setVisible(false);\n		this.closeChatMonitor();\n		var app = window[\"Application\"];\n		if (app && app.application && app.application.close) {\n			try {\n				app.application.close();\n			} catch (e) {}\n		}\n		this.closed = true;\n		this.sesVar.setValue(null);\n		this.endCobrowseSession();\n	};\n	Chat.prototype.isClosed = function() {\n		return !!(this.closed);\n	};\n	Chat.prototype.isVisible = function() {\n		return this._isVisible;\n	};\n	Chat.prototype.setVisible = function(vis) {\n		this._isVisible = vis;\n		var _corner = window.parent.document.getElementById(\"inqDivResizeCorner\");\n		var _title = window.parent.document.getElementById(\"inqTitleBar\");\n		var _stage = window.parent.document.getElementById(\"inqChatStage\");\n		_stage.style.display = (vis) ? \"\" : \"none\";\n		if (_corner) _corner.style.display = (vis) ? \"\" : \"none\";\n		if (_title) _title.style.display = (vis) ? \"\" : \"none\";\n		try {\n			Inq.FlashPeer.setVisible(vis);\n		} catch (e) {\n			log(\"Error attempting to hide chat div: \" + e);\n		}\n	};\n	Chat.prototype.getDragHandle = function() {\n		return this.dragHandleID;\n	};\n	Chat.prototype.setDragHandle = function(handleElementID) {\n		this.dragHandleID = handleElementID;\n	};\n	Chat.prototype.setResizable = function() {\n		if (this._stage == null) this._stage = window.parent.document.getElementById(\"inqChatStage\");\n		var resizeHandleElem = window.parent.document.getElementById(\"inqDivResizeCorner\");\n		if (typeof Inq.Resize != \"undefined\" && resizeHandleElem) {\n			Inq.Resize.__init(resizeHandleElem, this._stage);\n		}\n	};\n	Chat.prototype.setDragable = function() {\n		if (this._stage == null) this._stage = window.parent.document.getElementById(\"inqChatStage\");\n		var dragHandleElem = window.parent.document.getElementById(\"inqTitleBar\");\n		try {\n			if (typeof Inq.Drag != \"undefined\" && dragHandleElem) Inq.Drag.__init(dragHandleElem, this._stage);\n		} catch (e) {}\n	};\n	Chat.prototype.transitionMessage = function() {\n		var params = {\n			agentID: CHM.getAgentID(),\n			chatID: CHM.getChatID(),\n			transitioning: \"persistent\"\n		};\n		Inq.ROM.send(Inq.urls.baseURL + \"/tracking/persistentMsg.js\", params);\n	};\n	Chat.prototype.popOutChat = function(transition, top, left, bottom, right) {\n		if (transition) this.transitionMessage();\n		CHM.setPersistentChatSetting(\"true\");\n		var persistentFocus = true;\n		var winTest = null;\n		var sHeight = 300;\n		var sWidth = 400;\n		var sLeft = 40;\n		var sTop = 20;\n		var cdata = this.chatSpec;\n		if (cdata && cdata.chatTheme) {\n			sHeight = cdata.chatTheme.ph;\n			sWidth = cdata.chatTheme.pw;\n			sLeft = cdata.chatTheme.px;\n			sTop = cdata.chatTheme.py;\n		}\n		var url, target;\n		url = Inq.v3framesrc;\n		target = \"_inqPersistentChat\";\n		winTest = CHM.earlyPopout;\n		if (winTest != null && winTest.closed == false) {\n			CHM.earlyPopout = null;\n			winTest.location = url;\n		} else {\n			CHM.earlyPopout = null;\n			var tools = \"toolbar=no,location=no,menubar=no,status=no,scrollbars=no\" + \",top=\" + sTop + \",left=\" + sLeft + \",width=\" + sWidth + \",height=\" + sHeight + \",resizable=1\";\n			try {\n				winTest = window.parent.top.open(url, target, tools);\n				if (!winTest) {\n					CHM.sendMsg({\n						chatID: this.getChatID(),\n						msg: MI8.JSON.stringify({\n							PopupBlocker: \"<b>Persistent Chat Push: FAILED</b>\"\n						})\n					});\n				}\n				if (\"\" != url) {\n					if (winTest == top) winTest = null;\n				} else {\n					var newdoc = null;\n					if (winTest) {\n						try {\n							newdoc = winTest[\"document\"];\n						} catch (e) {}\n						if (newdoc == null) try {\n							newdoc = winTest.document;\n						} catch (e) {}\n					}\n					if (newdoc) {\n						var scriptz = document.getElementsByTagName(\"SC\" + \"RIPT\");\n						var scrp = null;\n						for (ix = 0; ix < scriptz.length; ix++) {\n							if (scriptz[ix].src.indexOf(\"/inqChatLaunch\") >= 0) {\n								scr = '<script type=\"text/javascript\" src=\"' + scriptz[ix].src + '\"/></script>';\n								break;\n							}\n						}\n						if (scrp) newdoc.write(scrp);\n						else newdoc.close();\n					}\n				}\n				cdata.pC = null != winTest;\n			} catch (e) {\n				winTest = null;\n			}\n		}\n		CHM.popoutWindow = winTest;\n		if (winTest) {\n			if (winTest.focus && !CHM.isMobile()) {\n				try {\n					winTest.focus();\n				} catch (e) {}\n			}\n			cdata.pC = true;\n			return true;\n		} else return false;\n	};\n	Chat.prototype.toString = function() {\n		var val = 'Chat: ';\n		for (var n in this) {\n			val += \"\" + n + \"=\" + this[n] + \",\";\n		}\n		return val;\n	}\n	Chat.prototype.getFlashVars = function() {\n		var sesVar = PM.getVar(\"sesID\");\n		var incVar = PM.getVar(\"incID\");\n		var visitorAttributes = VAM.getCopyAsArray().join(';');\n		var flashvars = 'continued=' + (CHM.isV3Continue() ? '1' : '0') + '&sessionID=' + (sesVar ? sesVar.getValue() : 123456) + '&incAssignmentID=' + (incVar ? incVar.getValue() : 123456) + '&businessUnitID=' + this.getBusinessUnitID() + '&chatID=' + this.getChatID() + '&customerID=' + this.getCustID() + '&agentName=' + encodeURIComponent(this.getAgentName()) + '&scriptID=' + this.getScriptID() + '&agentExitLine=' + this.getAgentExitLine() + '&siteID=' + Inq.siteID + '&openerID=' + this.getOpenerID() + '&userName=' + this.getCustomerName() + '&agent' + '&newFramework=1' + '&title=foo' + '&chatTitle=' + this.rule.name + '&crHost=' + CHM.getChatRouterURL() + '&submitURL=' + CHM.getChatRouterURL() + '&tagServerBaseURL=' + Inq.urls.vanityURL + '&commTypes=http' + '&brID=' + this.rule.id + '&agentAttributes=' + this.getAgentAttributesAsString() + '&ruleAttributes=' + this.getRuleAttributesAsString() + '&deviceType=' + getDeviceType() + '&browserType=' + getClientBrowserType() + '&browserVersion=' + getClientBrowserVersion() + '&operatingSystemType=' + getOSType() + '&visitorAttributes=' + visitorAttributes + '&launchType=' + this.getChatType() + '&language=' + this.getLanguage() + '&launchPage=' + LDM.getPageMarker();\n		if (this.rule[\"phoneNumber\"] != null) flashvars += '&clickToPhone=' + this.rule.phoneNumber;\n		if (this.pC || CHM.isPersistentWindow()) flashvars += \"&PersistentFrame=1\";\n		var automatonId = this.getAutomatonId();\n		if (!isNullOrUndefined(automatonId)) {\n			flashvars += '&automatonId=' + automatonId;\n		}\n		var flashvarFcnsData = decodeURIComponent(Inq.ROM.toParamString(CHM.getFlashVarData()));\n		if (flashvarFcnsData && flashvarFcnsData.length > 0) {\n			flashvars += \"&\" + flashvarFcnsData;\n		}\n		flashvars = this._fixFlashVars(flashvars);\n		return flashvars;\n	};\n	Chat.prototype.getAgentAttributesAsString = function() {\n		try {\n			return this.getRule().getAgentAttributesAsString();\n		} catch (e) {\n			log(\"Error getAgentAttributes \" + e);\n		}\n		return null;\n	};\n	Chat.prototype.getRuleAttributesAsString = function() {\n		try {\n			return this.getRule().getRuleAttributesAsString();\n		} catch (e) {\n			log(\"Error getting rule attributes \" + e);\n		}\n		return null;\n	};\n	Chat.prototype.getSkin = function() {\n		return Inq.urls.mediaSiteURL.split(Inq.urls.mediaBaseURL).join(Inq.urls.baseURL) + \"/flash/\" + this.chatSpec.chatTheme.fn.replace(/\\.(mxml|zip)$/, \"\") + \".skin\";\n	};\n	Chat.prototype.preloadChat = function() {\n		var ix;\n		if (window[\"Application\"] != null) return;\n		var scrpt = document.createElement(\"SC\" + \"RIPT\");\n		scrpt.type = \"text/javascript\";\n		scrpt.language = \"javascript\";\n		scrpt.setAttribute(\"language\", \"javascript\");\n		scrpt.setAttribute(\"type\", \"text/javascript\");\n		scrpt.charset = \"utf-8\";\n		this.jsDebugMode = true;\n		scrpt.src = Inq.urls.mediaRootURL + \"/flash/\" + (this.jsDebugMode ? \"\" : \"obf/\") + \"InqFramework.js?codeVersion=\" + ((v3Lander) ? encodeURIComponent(v3Lander.codeVersion) : \"undefined\");\n		scrpt.id = \"inqChatJs\";\n		window.document.getElementsByTagName(\"body\")[0].appendChild(scrpt);\n	};\n	Chat.prototype._fixFlashVars = function(fv) {\n		if (undefined == fv) return \"\";\n		if (fv.indexOf(\"&clickStream=\") >= 0) return fv;\n		var extraFlashVars = \"\";\n		var clickStreamData = null;\n		try {\n			var obj = (CHM.isPersistentWindow()) ? window.parent.opener.inqFrame.Inq.FlashPeer.getAgentData() : Inq.FlashPeer.getAgentData();\n			clickStreamData = unescape(Inq.ROM.toParamString(obj, true));\n		} catch (e) {\n			log(e);\n		}\n		if (clickStreamData != null && clickStreamData != \"\") extraFlashVars += \"&clickStream=\" + escape(clickStreamData);\n		if (navigator.userAgent) extraFlashVars += \"&userAgent=\" + escape(navigator.userAgent);\n		return (fv + extraFlashVars);\n	};\n	Chat.prototype.isPersistent = function() {\n		return this.pC;\n	};\n	Chat.prototype.getBusinessUnitID = function() {\n		var businessUnitID;\n		try {\n			businessUnitID = this.getRule().getBusinessUnitID();\n		} catch (e) {\n			log(\"Error getting chat business unit id: \\n\" + e + \"\\n\");\n		}\n		if (isNullOrUndefined(businessUnitID)) {\n			businessUnitID = getDefaultBusinessUnitID();\n		}\n		return businessUnitID;\n	};\n	Chat.prototype.getAgentName = function() {\n		var agentName = \"\";\n		try {\n			agentName = this.chatSpec.chatTheme.an;\n		} catch (e) {}\n		return agentName;\n	};\n	Chat.prototype.getAgentID = function() {\n		return isNullOrUndefined(this.cd.aid) ? \"\" : this.cd.aid;\n	};\n	Chat.prototype.setAgentID = function(aid, buID) {\n		this.cd.aid = isNullOrUndefined(aid) ? \"\" : aid;\n		this.cd.buID = buID;\n	};\n	Chat.prototype.getChatBusinessUnitID = function() {\n		return isNullOrUndefined(this.cd.buID) ? -1 : this.cd.buID;\n	};\n	Chat.prototype.getChatBusinessUnitID = function() {\n		return isNullOrUndefined(this.cd.buID) ? -1 : this.cd.buID;\n	};\n	Chat.prototype.getScriptID = function() {\n		var id = 0;\n		try {\n			id = this.chatSpec.stId;\n		} catch (e) {}\n		return id;\n	};\n	Chat.prototype.getAgentExitLine = function() {\n		var line = \"\";\n		try {\n			line = this.chatSpec.ael;\n		} catch (e) {}\n		return line;\n	};\n	Chat.prototype.getOpenerID = function() {\n		var opener = 0;\n		try {\n			opener = this.chatSpec.oId;\n		} catch (e) {}\n		return opener;\n	};\n	Chat.prototype.getCustomerName = function() {\n		var name = \"\";\n		try {\n			name = this.chatSpec.chatTheme.cn;\n		} catch (e) {}\n		return name;\n	};\n	Chat.prototype.getChatSpec = function() {\n		var spec = null;\n		try {\n			spec = this.chatSpec;\n		} catch (e) {}\n		return spec;\n	};\n	Chat.prototype.getAutomatonId = function() {\n		try {\n			if (!isNullOrUndefined(this.chatSpec.aId)) {\n				return this.chatSpec.aId;\n			}\n		} catch (e) {}\n		return null;\n	};\n	Chat.prototype.endCobrowseSession = function() {\n		if (Inq[\"CBC\"]) Inq.CBC.stop();\n	};\n	Chat.prototype.getCobrowseBannerText = function() {\n		if (Inq[\"CBC\"]) return Inq.CBC.getCobrowseBannerText();\n		return \"\";\n	};\n	Chat.validate = function(data) {\n		var inou = isNullOrUndefined;\n		var cerr = \"Chat.constructor Err: \";\n		if (inou(data)) throw (cerr + \"chatData empty\");\n		if (!data.chatType) throw (cerr + \"chat type missing\");\n		if (!data.xmlSpec) throw (cerr + \"chat xml data missing\");\n		if (!data.ruleID) throw (cerr + \"ruleID missing\");\n		if (!data.id) throw (cerr + \"chatID missing\");\n		if (inou(data.pC)) throw (cerr + \"persistent chat boolean missing\");\n		if (inou(data.aMsgCnt) || data.aMsgCnt < 0 || inou(data.cMsgCnt) || data.cMsgCnt < 0) {\n			throw (cerr + \"agt/cust msg cnt not properly initialized\");\n		}\n		if (inou(data.ci)) {\n			throw (cerr + \"ci data missing\");\n		}\n	};\n\n	function FlashPeer(id, data) {\n		function isV3C2CPersistent() {\n			return !!v3C2cPersistent;\n		}\n\n		function closePopupChat() {\n			CHM.inactivateChat();\n		}\n\n		function setData(data) {\n			FlashPeer.data = data;\n		}\n\n		function fireCustomEvent(eventName, rule, evt, evtDataSupplementFcn) {\n			if (typeof evtDataSupplementFcn === 'string' && evtDataSupplementFcn.indexOf('function(') == -1) {\n				evtDataSupplementFcn = \"function() { return \" + evtDataSupplementFcn + \"}\";\n			}\n			EVM.fireCustomEvent(eventName, rule, evt, evtDataSupplementFcn);\n		}\n\n		function fireCustomEvt(eventName, jsonData, dataFcn) {\n			var evt = null;\n			if (typeof jsonData == \"string\") {\n				evt = MI8.JSON.parse(jsonData);\n			}\n			if (typeof dataFcn === 'string' && dataFcn.indexOf('function(') == -1) {\n				dataFcn = \"function() { return \" + dataFcn + \";}\";\n			}\n			EVM.fireCustomEvent(eventName, null, evt, dataFcn);\n		}\n\n		function set3rdPartyCookieFromQueue() {\n			var obj = CM;\n			obj.set3rdPartyCookieFromQueue();\n		}\n\n		function closeChat(_doSoftKill) {\n			Inq.log(\"closeChat(\" + _doSoftKill + \")\");\n			if (_doSoftKill) {\n				CHM.softKill(this, null, \"Flash closed\");\n			} else {\n				CHM.closeChat(this, null, \"Flash closed\");\n			}\n		}\n\n		function setSurveyAuxParams(surveyParams) {\n			CHM.setSurveyAuxParams(surveyParams);\n		}\n\n		function getSurveyAuxParams() {\n			return CHM.getSurveyAuxParams();\n		}\n\n		function setClickStreamSent(isSent) {\n			CHM.setClickStreamSent(isSent);\n		}\n\n		function isClickStreamSent() {\n			return CHM.isClickStreamSent();\n		}\n\n		function agentSurveyCall(specID) {\n			SVYM.showSurvey(specID, \"\", CHM.getSurveyAuxParams());\n		}\n\n		function showTextInput(bShow, y, x, w, h) {\n			CHM.showTextInput(bShow, y, x, w, h);\n		}\n\n		function showPersistentButton(x, y, w, h) {}\n\n		function setPersistentButtonDebugActive(active) {\n			log(\"setPersistentButtonDebugActive()\");\n			CHM.setPersistentButtonDebugActive(active);\n		}\n\n		function hidePersistentButton() {\n			log(\"hidePersistentButton()\");\n			CHM.hidePersistentButton();\n		}\n\n		function showThankyou() {\n			log(\"showThankyou()\");\n			try {\n				CHM.closeChat(this, null, \"Flash thankyou.\");\n				return true;\n			} catch (e) {\n				log(e);\n			}\n			return false;\n		}\n\n		function hideFramesetChat() {\n			CHM.closeChat();\n		}\n\n		function setChatBanished() {}\n\n		function setAgentID(_agentID, cobrowseEnabled, eventDataStr, buID) {\n			CHM.assignAgent(_agentID, false, cobrowseEnabled, eventDataStr, buID);\n		}\n\n		function getAgentData() {\n			var params = MI8.mixAbsorber({});\n			try {\n				if (typeof self.inqAgentData != \"undefined\") {\n					params.absorb(self.inqAgentData);\n				}\n				if (!isNullOrUndefined(self.inqData)) {\n					if (self.inqData instanceof Array) {\n						for (var i = 0; i < self.inqData.length; i++) {\n							params[\"data\" + i] = self.inqData[i];\n						}\n					} else if (self.inqData instanceof Object) {\n						params.absorb(self.inqData);\n					}\n				}\n				params[\"markerHistory\"] = LDM.getLandingHistory().join(\"<br>\");\n			} catch (e) {}\n			return params;\n		}\n\n		function onEngaged(event) {\n			Inq.CHM.fireChatEngaged(event);\n			BRM.fireServiceEngagedEvent(event);\n		}\n\n		function onInteracted(event) {\n			BRM.fireServiceInteractedEvent(event);\n		}\n\n		function onCustomerMsg(eventData) {\n			CHM.fireCustomerMsgEvent(eventData);\n		}\n\n		function onAgentMsg() {\n			CHM.fireAgentMsgEvent();\n		}\n\n		function onAssisted() {}\n\n		function PushToFrameset(_sUrl, _sTarget, _fromClick) {\n			if (_fromClick && (_sTarget != \"_self\") && (_sTarget != \"_top\") && (_sTarget != \"_parent\")) {\n				if (!(CM).isThirdPartyCookieQueueEmpty()) {\n					var winTarget = null;\n					var tools = \"left=0,top=0,toolbar=1,location=1,menubar=1,status=1,scrollbars=1\";\n					winTarget = window.parent.top.open(\"about:blank\", _sTarget, tools);\n					if (null == winTarget) {\n						winTarget = window.parent.top.open(\"about:blank\", _sTarget);\n					}\n				}\n			}\n			CM.whenCookiesCommitted(new Function(\"inqFrame.Inq.FlashPeer.doPushToFrameset(\" + toJsString(_sUrl, '\"') + \",\" + toJsString(_sTarget, '\"') + \");\"));\n		}\n\n		function doPushToFrameset(_sUrl, _sTarget) {\n			try {\n				if (\"_inqPersistentChat\" == top.name) {\n					if (\"_self\" == _sTarget) {\n						getOpener().top.document.location.href = _sUrl;\n					} else {\n						var winTarget = null;\n						var tools = \"left=0,top=0,toolbar=1,location=1,menubar=1,status=1,scrollbars=1\";\n						winTarget = window.parent.top.open(_sUrl, _sTarget, tools);\n						if (null == winTarget) {\n							winTarget = window.parent.top.open(_sUrl, _sTarget);\n						}\n					}\n				} else {\n					if (\"_self\" == _sTarget) {\n						window.parent.top.document.location.href = _sUrl;\n					} else {\n						var winTarget = null;\n						winTarget = window.parent.top.open(_sUrl, _sTarget, \"top=0;left=0\");\n						if (null == winTarget) {\n							winTarget = window.parent.top.open(_sUrl, _sTarget);\n						}\n					}\n				}\n			} catch (e) {}\n		}\n\n		function browserHasFlash() {\n			var flash_version;\n			if (navigator.plugins && typeof navigator.plugins[\"Shockwave Flash\"] == \"object\") {\n				var desc = navigator.plugins[\"Shockwave Flash\"].description;\n				if (desc) {\n					var versionStr = desc.replace(/^.*\\s+(\\S+\\s+\\S+$)/, \"$1\");\n					var major = parseInt(versionStr.replace(/^(.*)\\..*$/, \"$1\"));\n					var build = parseInt(versionStr.replace(/^.*r(.*)$/, \"$1\"));\n					flash_version = parseFloat(major + \".\" + build);\n				}\n			} else if (window.ActiveXObject) {\n				try {\n					var flashObj = new ActiveXObject(\"ShockwaveFlash.ShockwaveFlash\");\n					var desc = flashObj.GetVariable(\"$version\");\n					if (desc) {\n						var versionArr = desc.replace(/^\\S+\\s+(.*)$/, \"$1\").split(\",\");\n						var major = parseInt(versionArr[0]);\n						var build = parseInt(versionArr[2]);\n						flash_version = parseFloat(major + \".\" + build);\n					}\n				} catch (e) {}\n			}\n			if (typeof flash_version != \"undefined\") {\n				return (flash_version >= Inq.requiredFlashVersion);\n			}\n			return false;\n		}\n\n		function ForceFocus() {\n			try {\n				try {\n					document.createElement(\"object\").setAttribute(\"type\", \"application/x-shockwave-flash\");\n				} catch (er) {}\n				var clnt = self.document.getElementById(\"client\");\n				var nclnt = self.document.getElementById(\"notclient\");\n				if (clnt) {\n					self.focus();\n					clnt.focus();\n					if (nclnt) {\n						nclnt.focus();\n					}\n				}\n			} catch (e) {}\n		}\n\n		function requestTranscript(_emailAddress) {\n			var url = urls.vanityURL + \"/tagserver/transcriptrequest/logTranscriptRequest\";\n			var _chatID = CHM.getChatID();\n			var _emailSpecID = CHM.getEmailSpecId();\n			var _agentName = CHM.getAgentName();\n			var _customerName = CHM.getCustomerName();\n			var map = {\n				chatID: _chatID,\n				emailAddress: _emailAddress,\n				emailSpecID: _emailSpecID,\n				agentName: _agentName,\n				customerName: _customerName\n			};\n			ROM.send(url, map);\n		}\n\n		function captureEmailAddress(_emailAddress) {\n			var map = {\n				custID: Inq.getCustID(),\n				chatID: CHM.getChatID(),\n				emailAddress: _emailAddress\n			};\n			ROM.send(urls.vanityURL + \"/tagserver/emailrequest/logEmailAddressCapture\", map);\n		}\n\n		function startLaunches(isActive) {\n			if (!isActive) {\n				Inq.CHM.continueChatting();\n			}\n		}\n\n		function setDragable() {\n			if (Inq.CHM.chat != null) Inq.CHM.chat.setDragable();\n		}\n\n		function setResizable() {\n			if (Inq.CHM.chat != null) Inq.CHM.chat.setResizable();\n		}\n\n		function setV3Data(dictionary) {\n			Inq.CHM.setChatInterfaceData(dictionary);\n		}\n\n		function getV3Data() {\n			return CHM.getChatInterfaceData();\n		}\n\n		function popOutChat(b, resizable) {\n			return Inq.CHM.popOutChat(b, resizable);\n		}\n\n		function getBaseURL() {\n			return window.Inq.urls.baseURL;\n		}\n\n		function getMediaBaseURL() {\n			return window.Inq.urls.mediaBaseURL;\n		}\n\n		function getXFormsDomain() {\n			return window.Inq.urls.xFormsDomain;\n		}\n\n		function getVanityUrl() {\n			return window.Inq.urls.vanityURL;\n		}\n\n		function getChatRouterVanityUrl() {\n			return window.Inq.urls.chatRouterVanityDomain;\n		}\n\n		function getTitleBarHeight() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.tbh;\n			} catch (e) {}\n			return 50;\n		}\n\n		function getPopupCloserWidth() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.ciw;\n			} catch (e) {}\n			return 50;\n		}\n\n		function getSkinLocation() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.pos;\n			} catch (e) {}\n			return \"UPPER_LEFT\";\n		}\n\n		function getSkinHeight() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.dh;\n			} catch (e) {}\n			return 300;\n		}\n\n		function getSkinWidth() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.dw;\n			} catch (e) {}\n			return 400;\n		}\n\n		function getSkinLeft() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.lx;\n			} catch (e) {}\n			return 0;\n		}\n\n		function getSkinTop() {\n			try {\n				return Inq.CHM.chat.chatSpec.chatTheme.ly;\n			} catch (e) {}\n			return 0;\n		}\n\n		function getFlashVars() {\n			try {\n				return Inq.CHM.chat.getFlashVars();\n			} catch (e) {\n				log(\"Error obtaining flashvars from Chat object: \" + e);\n			}\n			return \"\";\n		}\n\n		function getSkin() {\n			try {\n				return Inq.CHM.chat.getSkin();\n			} catch (e) {}\n			return \"TouchCommerce.skin\";\n		}\n\n		function getV3TimeOut() {\n			return Inq.v3TO\n		}\n\n		function setSessionParam(key, val) {}\n\n		function closePersistent() {\n			window.Inq.CHM.closePersistent();\n		}\n\n		function isThankYouEnabled() {\n			return window.Inq.CHM.thankYouEnabled;\n		}\n\n		function isThankYouEnabled() {\n			return window.Inq.CHM.thankYouEnabled;\n		}\n\n		function tryue(blockDetails) {\n			var serviceType = \"ALL\";\n			var period = -1;\n			if (!isNullOrUndefined(blockDetails)) {\n				if ((blockDetails.charAt(0) == '(') && (blockDetails.charAt(blockDetails.length - 1) == ')')) {\n					blockDetails = blockDetails.substr(1, blockDetails.length - 2);\n				}\n				var blockParams = MI8.JSON.parse(blockDetails);\n				serviceType = blockParams.serviceType;\n				period = blockParams.period;\n			}\n			window.Inq.tryue(serviceType, period);\n		}\n\n		function wasSaleAction() {\n			return window.Inq.wasSaleAction();\n		}\n\n		function setVisible(visible) {\n			try {\n				var app = window[\"Application\"];\n				if (app && app.application && app.application.setVisible) {\n					app.application.setVisible(visible);\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n\n		function sendDTEvent(eventName, data) {\n			try {\n				var app = window[\"Application\"];\n				if (app && app.application && app.application.sendDTEvent) {\n					app.application.sendDTEvent(eventName, data);\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n\n		function _executeCustomCommand(params) {\n			executeCustomCommand(params);\n		}\n\n		function urtvd3(isPersistent, protoDomain, transferURL, needNewOpener) {\n			var inst = GR34.getInstance();\n			inst.urtvd3(isPersistent, protoDomain, transferURL, needNewOpener);\n		}\n\n		function registerPersistentWindow() {\n			try {\n				var opener = window.parent.opener.inqFrame;\n				opener.Inq.CHM.persisentWindow = window.parent;\n				return true;\n			} catch (e) {}\n			return false;\n		}\n\n		function setPersistentWindowActive(state) {\n			var inst = GR34.getInstance();\n			inst.setPersistentWindowActive(state);\n		}\n\n		function CloseChatFromPersistent() {\n			log(\"@@@CloseChatFromPersistent\");\n			window.inqFrame.Inq.CHM.CloseChatFromPersistent();\n		}\n\n		function bind(handler) {\n			var handlerContext = {\n				obj: this,\n				method: handler,\n				safeFunc: function() {\n					var closure = arguments.callee.closure;\n					return closure.method.apply(closure.obj, arguments);\n				}\n			};\n			handlerContext.safeFunc.closure = handlerContext\n			return handlerContext.safeFunc;\n		}\n\n		function getCBC() {\n			if (CHM.isPersistentWindow() && (window.parent.opener) && (window.parent.opener.inqFrame) && (window.parent.opener.inqFrame.Inq) && (window.parent.opener.inqFrame.Inq[\"CBC\"])) {\n				return window.parent.opener.inqFrame.Inq[\"CBC\"];\n			}\n			return window.Inq[\"CBC\"];\n		}\n\n		function acceptCobrowseInvitation() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					cbc.accept();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n		}\n\n		function acceptCobrowseShareControl() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					cbc.acceptShare();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n		}\n\n		function endCobrowseSession() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					cbc.stopQuiet();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n		}\n\n		function acceptCobAndShare() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					cbc.accept();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n		}\n\n		function isCobrowseEngaged() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					return cbc.isCobrowseEngaged();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n			return false;\n		}\n\n		function isSharedControl() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					return cbc.isSharedControl();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n			return false;\n		}\n\n		function isCobrowseEnded() {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					return cbc.isCobrowseEnded();\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n			return true;\n		}\n\n		function isLoggingDisabled() {\n			return JSLoggingDisabled;\n		}\n\n		function setCobrowseBannerText(bannerText) {\n			try {\n				var cbc = getCBC();\n				if ( !! cbc) {\n					return cbc.setCobrowseBannerText(bannerText);\n				}\n			} catch (e) {\n				log(\"CBC ERROR:\" + e.message);\n			}\n			return true;\n		}\n\n		function createXFrame(div, url, businessUnitID, scrolling, data) {\n			var ldr = new XFormsLoader();\n			return ldr.createXFrame(div, url, businessUnitID, scrolling, data);\n		}\n\n		function getClientPageURL() {\n			return win.location.href;\n		}\n\n		function updateXFrameFromBizRule(layerID, url, businessUnitID) {\n			try {\n				var app = window[\"Application\"];\n				if (app && app.application && app.application.updateXFrameFromBizRule) {\n					app.application.updateXFrameFromBizRule(layerID, url, businessUnitID);\n				} else {\n					log(\"ERROR: update-xframe failed for layer [\" + layerID + \"]: app.application is not initialized\");\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n\n		function isRefreshRequired() {\n			var o = getOpener();\n			if (o && o.Inq.isChatRefresh) {\n				return o.Inq.isChatRefresh;\n			}\n			return false;\n		}\n\n		function resetRefreshFlag() {\n			var o = getOpener();\n			if (o && o.Inq.isChatRefresh) {\n				o.Inq.isChatRefresh = false;\n			}\n		}\n\n		function parseXFrameUrl(url) {\n			var pattern = new RegExp(/(^.*)(forms(v3)?\\.inq\\.com)/);\n			url = url.search(pattern) != -1 ? url.replace(pattern, getXFormsDomain()) : getXFormsDomain() + url;\n			var res = url.split('?');\n			var params = {};\n			if (res[1] != null) {\n				var oldParams = res[1].split('&');\n				for (var i = 0; i < oldParams.length; i++) {\n					var nameValue = oldParams[i].split('=');\n					params[nameValue[0]] = nameValue[1];\n				}\n			}\n			return {\n				url: res[0],\n				params: params\n			};\n		}\n\n		function getPageID() {\n			return Inq.LDM.getPageID();\n		}\n\n		function isPortal() {\n			return true;\n		}\n\n		function getBusinessUnitID() {\n			return (CHM.getChat()) ? CHM.getChat().getBusinessUnitID() : getDefaultBusinessUnitID();\n		}\n\n		function getCustID() {\n			return Inq.getCustID();\n		}\n\n		function getSesID() {\n			return getSessionID();\n		}\n\n		function getIncAsID() {\n			return getIncAssignmentID();\n		}\n\n		function getPageMarker() {\n			return LDM.getPageMarker();\n		}\n\n		function getAutomatonDataMap() {\n			var automatonDataMap = PM.getVar(\"automatonDataMap\");\n			return ((automatonDataMap) ? automatonDataMap.getValue() : \"\");\n		}\n\n		function getBrID() {\n			return CHM.getChat().getRule().getID();\n		}\n\n		function getBrName() {\n			return CHM.getChat().getRule().getName();\n		}\n\n		function getAgentID() {\n			return CHM.getAgentID();\n		}\n\n		function onCookiesCommitted(handler) {\n			var closure = (typeof handler == \"string\") ? new Function(handler) : handler;\n			CM.whenCookiesCommitted(closure);\n		}\n\n		function _getDeviceType() {\n			var deviceType = \"Other\";\n			try {\n				deviceType = getDeviceType();\n			} catch (e) {\n				log(\"Error in getDeviceType: \" + e);\n			}\n			return deviceType;\n		}\n\n		function closePersistentWindowIfOpen() {\n			if (!isNullOrUndefined(CHM.earlyPopout)) {\n				CHM.earlyPopout.close();\n			}\n			if (!isNullOrUndefined(CHM.popoutWindow)) {\n				CHM.popoutWindow.close();\n			}\n		}\n\n		function getBuRuleAgentGroupID(brID) {\n			return BRM.getRuleById(brID).getAgentGroupID();\n		}\n		return {\n			getBrID: getBrID,\n			getBrName: getBrName,\n			getAutomatonDataMap: getAutomatonDataMap,\n			getPageMarker: getPageMarker,\n			getIncAssignmentID: getIncAsID,\n			getSessionID: getSesID,\n			getCustID: getCustID,\n			getAgentID: getAgentID,\n			isPortal: isPortal,\n			setCobBan: setCobrowseBannerText,\n			acceptCobAndShare: acceptCobAndShare,\n			isCobEnded: isCobrowseEnded,\n			isCobEngaged: isCobrowseEngaged,\n			isCobShared: isSharedControl,\n			acceptCob: acceptCobrowseInvitation,\n			acceptCobShare: acceptCobrowseShareControl,\n			endCob: endCobrowseSession,\n			isV3C2CPersistent: isV3C2CPersistent,\n			closePopupChat: closePopupChat,\n			setData: setData,\n			closeChat: closeChat,\n			showTextInput: showTextInput,\n			showPersistentButton: showPersistentButton,\n			setPersistentButtonDebugActive: setPersistentButtonDebugActive,\n			hidePersistentButton: hidePersistentButton,\n			showThankyou: showThankyou,\n			hideFramesetChat: hideFramesetChat,\n			setChatBanished: setChatBanished,\n			setAgentID: setAgentID,\n			getAgentData: getAgentData,\n			onEngaged: onEngaged,\n			onInteracted: onInteracted,\n			onCustomerMsg: onCustomerMsg,\n			onAgentMsg: onAgentMsg,\n			onAssisted: onAssisted,\n			PushToFrameset: PushToFrameset,\n			doPushToFrameset: doPushToFrameset,\n			browserHasFlash: browserHasFlash,\n			ForceFocus: ForceFocus,\n			requestTranscript: requestTranscript,\n			captureEmailAddress: captureEmailAddress,\n			startLaunches: startLaunches,\n			setDragable: setDragable,\n			setResizable: setResizable,\n			setV3Data: setV3Data,\n			set3rdPartyCookieFromQueue: set3rdPartyCookieFromQueue,\n			getV3Data: getV3Data,\n			popOutChat: popOutChat,\n			getBaseURL: getBaseURL,\n			getMediaBaseURL: getMediaBaseURL,\n			getTitleBarHeight: getTitleBarHeight,\n			getPopupCloserWidth: getPopupCloserWidth,\n			getSkinLocation: getSkinLocation,\n			getSkinHeight: getSkinHeight,\n			getSkinWidth: getSkinWidth,\n			getSkinLeft: getSkinLeft,\n			getSkinTop: getSkinTop,\n			getFlashVars: getFlashVars,\n			getSkin: getSkin,\n			getV3TimeOut: getV3TimeOut,\n			setSessionParam: setSessionParam,\n			closePersistent: closePersistent,\n			isThankYouEnabled: isThankYouEnabled,\n			blockTheService: tryue,\n			whenIsPersistent: urtvd3,\n			registerPersistentWindow: registerPersistentWindow,\n			setPersistentWindowActive: setPersistentWindowActive,\n			setVisible: setVisible,\n			CloseChatFromPersistent: CloseChatFromPersistent,\n			executeCustomCommand: _executeCustomCommand,\n			wasSaleAction: wasSaleAction,\n			sendDTEvent: sendDTEvent,\n			agentSurveyCall: agentSurveyCall,\n			setSurveyAuxParams: setSurveyAuxParams,\n			getSurveyAuxParams: getSurveyAuxParams,\n			isClickStreamSent: isClickStreamSent,\n			setClickStreamSent: setClickStreamSent,\n			fireCustomEvent: fireCustomEvent,\n			isLoggingDisabled: isLoggingDisabled,\n			createXFrame: createXFrame,\n			formsLoader: XFormsLoader,\n			getClientPageURL: getClientPageURL,\n			updateXFrameFromBizRule: updateXFrameFromBizRule,\n			parseXFrameUrl: parseXFrameUrl,\n			fireCustomEvt: fireCustomEvt,\n			onCookiesCommitted: onCookiesCommitted,\n			isRefreshRequired: isRefreshRequired,\n			resetRefreshFlag: resetRefreshFlag,\n			getBusinessUnitID: getBusinessUnitID,\n			getPageID: getPageID,\n			getVanityUrl: getVanityUrl,\n			getChatRouterVanityUrl: getChatRouterVanityUrl,\n			getXFormsDomain: getXFormsDomain,\n			getDeviceType: _getDeviceType,\n			closePersistentWindowIfOpen: closePersistentWindowIfOpen,\n			getBuRuleAgentGroupID: getBuRuleAgentGroupID\n		}\n	}\n\n	function Resize() {\n		this.obj = null, this.win = window.parent, this.doc = window.parent.document;\n		this.width = 0, this.height = 0, this.__init = function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper, _win) {\n			if (typeof o == \"undefined\" || o == null) {\n				return;\n			}\n			Inq.Resize.win = (null == _win) ? this.win : _win;\n			Inq.Resize.doc = Inq.Resize.win.document;\n			o.box = this.doc.getElementById(\"inqResizeBox\");\n			doc = window.parent.document;\n			o.onmousedown = Inq.Resize.__start;\n			o.hmode = bSwapHorzRef ? false : true;\n			o.vmode = bSwapVertRef ? false : true;\n			o.root = ((oRoot) && (oRoot != null)) ? oRoot : o;\n			Inq.Resize.width = o.root.clientWidth;\n			Inq.Resize.height = o.root.clientHeight;\n			if (o.hmode && isNaN(parseInt(o.root.style.left))) o.root.style.left = \"0px\";\n			if (o.vmode && isNaN(parseInt(o.root.style.top))) o.root.style.top = \"0px\";\n			if (!o.hmode && isNaN(parseInt(o.root.style.right))) o.root.style.right = \"0px\";\n			if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = \"0px\";\n			o.minX = typeof minX != 'undefined' ? minX : null;\n			o.minY = typeof minY != 'undefined' ? minY : null;\n			o.maxX = typeof maxX != 'undefined' ? maxX : null;\n			o.maxY = typeof maxY != 'undefined' ? maxY : null;\n			o.xMapper = fXMapper ? fXMapper : null;\n			o.yMapper = fYMapper ? fYMapper : null;\n			o.root.onDragStart = new Function();\n			o.root.onDragEnd = new Function();\n			o.root.onDrag = new Function();\n		};\n		this.__start = function(e) {\n			var o = Inq.Resize.obj = this;\n			e = Inq.Resize.fixE(e);\n			var y = parseInt(o.vmode ? o.root.style.top : o.root.style.bottom);\n			var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right);\n			o.root.onDragStart(x, y);\n			if (o.box != null) {\n				o.box.style.top = o.root.style.top;\n				o.box.style.left = o.root.style.left;\n				o.box.style.width = o.root.style.width;\n				o.box.style.height = o.root.style.height;\n				o.box.style.border = \"thin dotted rgb(32,32,32)\";\n				o.box.style.display = \"\";\n				o.style.top = (parseInt(o.root.style.top) + parseInt(o.root.style.height) - 16) + \"px\";\n				o.style.left = (parseInt(o.root.style.left) + parseInt(o.root.style.width) - 16) + \"px\";\n			}\n			o.lastMouseX = e.clientX;\n			o.lastMouseY = e.clientY;\n			if (o.hmode) {\n				if (o.minX != null) o.minMouseX = e.clientX - x + o.minX;\n				if (o.maxX != null) o.maxMouseX = o.minMouseX + o.maxX - o.minX;\n			} else {\n				if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\n				if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\n			}\n			if (o.vmode) {\n				if (o.minY != null) o.minMouseY = e.clientY - y + o.minY;\n				if (o.maxY != null) o.maxMouseY = o.minMouseY + o.maxY - o.minY;\n			} else {\n				if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\n				if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\n			}\n			Inq.Resize.doc.onmousemove = Inq.Resize.resize;\n			Inq.Resize.doc.onmouseup = Inq.Resize.end;\n			var newWidth = parseInt(Inq.Resize.obj.style.left) + 16;\n			var newHeight = parseInt(Inq.Resize.obj.style.top) + 16;\n			var oDiv = Inq.Resize.doc.getElementById(\"inqTitleBar\");\n			newWidth = newWidth - 24;\n			oDiv.style.width = newWidth + \"px\";\n			return false;\n		};\n		this.resize = function(e) {\n			e = Inq.Resize.fixE(e);\n			var o = Inq.Resize.obj;\n			var ey = e.clientY;\n			var ex = e.clientX;\n			var y = parseInt(o.vmode ? o.root.style.top : o.root.style.bottom);\n			var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right);\n			var nx, ny;\n			if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\n			if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\n			if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\n			if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\n			nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\n			ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\n			if (o.xMapper) nx = o.xMapper(y);\n			else if (o.yMapper) ny = o.yMapper(x);\n			nx = ex - o.lastMouseX;\n			ny = ey - o.lastMouseY;\n			var _top = parseInt(Inq.Resize.obj.style[\"top\"]);\n			var _left = parseInt(Inq.Resize.obj.style[\"left\"]);\n			Inq.Resize.obj.style[\"left\"] = (_left + nx) + \"px\";\n			Inq.Resize.obj.style[\"top\"] = (_top + ny) + \"px\";\n			Inq.Resize.obj.style[o.hmode ? \"left\" : \"right\"] = (nx + _left) + \"px\";\n			Inq.Resize.obj.style[o.vmode ? \"top\" : \"bottom\"] = ny + _top + \"px\";\n			Inq.Resize.obj.lastMouseX = ex;\n			Inq.Resize.obj.lastMouseY = ey;\n			Inq.Resize.obj.root.onDrag(nx, ny);\n			if (Inq.Resize.obj.box) {\n				var height = ny + _top - parseInt(Inq.Resize.obj.box.style.top) + 16;\n				var width = nx + _left - parseInt(Inq.Resize.obj.box.style.left) + 16;\n				if (width >= 16 && height >= 16) {\n					Inq.Resize.obj.box.style.width = width + \"px\";\n					Inq.Resize.obj.box.style.height = height + \"px\";\n				}\n			}\n			return false;\n		};\n		this.end = function() {\n			Inq.Resize.doc.onmousemove = null;\n			Inq.Resize.doc.onmouseup = null;\n			var newWidth = parseInt(Inq.Resize.obj.style.left) - parseInt(Inq.Resize.obj.root.style.left) + 16;\n			var newHeight = parseInt(Inq.Resize.obj.style.top) - parseInt(Inq.Resize.obj.root.style.top) + 16;\n			if (Inq.Resize.obj.box) {\n				Inq.Resize.obj.box.style.display = \"none\";\n			}\n			Inq.Resize.obj.root.onDragEnd(parseInt(Inq.Resize.obj.root.style[Inq.Resize.obj.hmode ? \"left\" : \"right\"]), parseInt(Inq.Resize.obj.root.style[Inq.Resize.obj.vmode ? \"top\" : \"bottom\"]));\n			if (newWidth < 16 || newHeight < 16) {\n				newWidth = parseInt(Inq.Resize.obj.root.style.width);\n				newHeight = parseInt(Inq.Resize.obj.root.style.height);\n			}\n			Application.ResizeStage(newWidth, newHeight);\n			Inq.Resize.obj = null;\n		};\n		this.fixE = function(e) {\n			if (typeof e == 'undefined') {\n				e = Inq.Resize.win.event;\n			}\n			if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;\n			if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;\n			return e;\n		}\n	}\n\n	function Drag() {\n		this.obj = null, this.win = window.parent, this.doc = window.parent.document;\n		this.__init = function(o, oRoot, minX, maxX, minY, maxY, bSwapHorzRef, bSwapVertRef, fXMapper, fYMapper, _win) {\n			Inq.Drag.win = (null == _win) ? this.win : _win;\n			Inq.Drag.doc = Inq.Drag.win.document;\n			if (typeof o == \"undefined\" || o == null) {\n				return;\n			}\n			o.onmousedown = Inq.Drag.__start;\n			o.hmode = bSwapHorzRef ? false : true;\n			o.vmode = bSwapVertRef ? false : true;\n			o.root = oRoot && oRoot != null ? oRoot : o;\n			if (o.hmode && isNaN(parseInt(o.root.style.left))) o.root.style.left = \"0px\";\n			if (o.vmode && isNaN(parseInt(o.root.style.top))) o.root.style.top = \"0px\";\n			if (!o.hmode && isNaN(parseInt(o.root.style.right))) o.root.style.right = \"0px\";\n			if (!o.vmode && isNaN(parseInt(o.root.style.bottom))) o.root.style.bottom = \"0px\";\n			o.minX = typeof minX != 'undefined' ? minX : null;\n			o.minY = typeof minY != 'undefined' ? minY : null;\n			o.maxX = typeof maxX != 'undefined' ? maxX : null;\n			o.maxY = typeof maxY != 'undefined' ? maxY : null;\n			o.xMapper = fXMapper ? fXMapper : null;\n			o.yMapper = fYMapper ? fYMapper : null;\n			o.corner = this.doc.getElementById(\"inqDivResizeCorner\");\n			o.root.onDragStart = new Function();\n			o.root.onDragEnd = new Function();\n			o.root.onDrag = new Function();\n		};\n		this.__start = function(e) {\n			var o = Inq.Drag.obj = this;\n			e = Inq.Drag.fixE(e);\n			var y = parseInt(o.vmode ? o.root.style.top : o.root.style.bottom);\n			var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right);\n			o.root.onDragStart(x, y);\n			if (o.corner) o.corner.style.display = \"none\";\n			o.lastMouseX = e.clientX;\n			o.lastMouseY = e.clientY;\n			if (o.hmode) {\n				if (o.minX != null) o.minMouseX = e.clientX - x + o.minX;\n				if (o.maxX != null) o.maxMouseX = o.minMouseX + o.maxX - o.minX;\n			} else {\n				if (o.minX != null) o.maxMouseX = -o.minX + e.clientX + x;\n				if (o.maxX != null) o.minMouseX = -o.maxX + e.clientX + x;\n			}\n			if (o.vmode) {\n				if (o.minY != null) o.minMouseY = e.clientY - y + o.minY;\n				if (o.maxY != null) o.maxMouseY = o.minMouseY + o.maxY - o.minY;\n			} else {\n				if (o.minY != null) o.maxMouseY = -o.minY + e.clientY + y;\n				if (o.maxY != null) o.minMouseY = -o.maxY + e.clientY + y;\n			}\n			Inq.Drag.doc.onmousemove = Inq.Drag.drag;\n			Inq.Drag.doc.onmouseup = Inq.Drag.end;\n			return false;\n		};\n		this.drag = function(e) {\n			e = Inq.Drag.fixE(e);\n			var o = Inq.Drag.obj;\n			var ey = e.clientY;\n			var ex = e.clientX;\n			var y = parseInt(o.vmode ? o.root.style.top : o.root.style.bottom);\n			var x = parseInt(o.hmode ? o.root.style.left : o.root.style.right);\n			var nx, ny;\n			if (o.minX != null) ex = o.hmode ? Math.max(ex, o.minMouseX) : Math.min(ex, o.maxMouseX);\n			if (o.maxX != null) ex = o.hmode ? Math.min(ex, o.maxMouseX) : Math.max(ex, o.minMouseX);\n			if (o.minY != null) ey = o.vmode ? Math.max(ey, o.minMouseY) : Math.min(ey, o.maxMouseY);\n			if (o.maxY != null) ey = o.vmode ? Math.min(ey, o.maxMouseY) : Math.max(ey, o.minMouseY);\n			nx = x + ((ex - o.lastMouseX) * (o.hmode ? 1 : -1));\n			ny = y + ((ey - o.lastMouseY) * (o.vmode ? 1 : -1));\n			if (o.xMapper) nx = o.xMapper(y);\n			else if (o.yMapper) ny = o.yMapper(x);\n			Inq.Drag.obj.style[o.hmode ? \"left\" : \"right\"] = nx + \"px\";\n			Inq.Drag.obj.style[o.vmode ? \"top\" : \"bottom\"] = ny + \"px\";\n			Inq.Drag.obj.root.style[o.hmode ? \"left\" : \"right\"] = nx + \"px\";\n			Inq.Drag.obj.root.style[o.vmode ? \"top\" : \"bottom\"] = ny + \"px\";\n			Inq.Drag.obj.lastMouseX = ex;\n			Inq.Drag.obj.lastMouseY = ey;\n			Inq.Drag.obj.root.onDrag(nx, ny);\n			return false;\n		};\n		this.end = function() {\n			Inq.Drag.doc.onmousemove = null;\n			Inq.Drag.doc.onmouseup = null;\n			var newLeft = parseInt(Inq.Drag.obj.root.style[\"left\"]);\n			var newTop = parseInt(Inq.Drag.obj.root.style[\"top\"]);\n			Inq.Drag.obj.root.onDragEnd(parseInt(Inq.Drag.obj.root.style[Inq.Drag.obj.hmode ? \"left\" : \"right\"]), parseInt(Inq.Drag.obj.root.style[Inq.Drag.obj.vmode ? \"top\" : \"bottom\"]));\n			Inq.Drag.obj = null;\n			if (Application) Application.MoveStage(newLeft, newTop);\n		};\n		this.fixE = function(e) {\n			if (typeof e == 'undefined') e = Inq.Drag.win.event;\n			if (typeof e.layerX == 'undefined') e.layerX = e.offsetX;\n			if (typeof e.layerY == 'undefined') e.layerY = e.offsetY;\n			return e;\n		};\n	}\n\n	function SurveyMgr(surveyDataMap) {\n		var surveyURL = urls.baseURL + \"/survey/genericSurvey.do\";\n		this._observable();\n		this.defaultWindowSpec = \"statusbar=0, scrollbars=1, resizable=1, toolbar=0, menubar=0, copyhistory=0\";\n		this.poppedWindows = {};\n\n		function getAltSurveyURL(data, rule) {\n			try {\n				var brName = BRM.getRuleById(CHM.getLastChat().brID).getName();\n			} catch (err) {\n				brName = \"NO BR Name Available\";\n			}\n			return ROM.composeURL(data.altURL, {\n				chatID: CHM.getChatID(),\n				agentID: CHM.getAgentID(),\n				clientID: siteID,\n				BRName: brName,\n				custID: Inq.custID,\n				businessUnitID: data.businessUnitID,\n				sessionID: data.sessionID,\n				stage: data.stage,\n				incAssignmentID: data.incAssignmentID,\n				siteID: data.siteID,\n				surveyContent: data.surveyContent\n			});\n		}\n\n		function composeURL(url, data) {\n			return ROM.composeURL(url, data);\n		}\n		this.popwindow = function(webResourceID, winName, data, winSpecDataStr) {\n			var webResource = resources[webResourceID];\n			if ( !! webResource) {\n				if ( !! winName) {\n					if (webResource.method == \"POST\") {\n						try {\n							var lwin = this.poppedWindows[winName] = win.open(\"\", winName, winSpecDataStr);\n							var div = lwin.document.createElement(\"div\");\n							var formName = \"TCSurveyWin\" + (SurveyMgr.IDX++);\n							var formStr = \"<form id='\" + formName + \"' name='\" + formName + \"' action='\" + webResource.url + \"' method='POST' target='\" + winName + \"'>\\n\";\n							for (var name in data) {\n								if (typeof data[name] == \"function\") continue;\n								formStr += (\"\\t<input type='hidden' id='\" + name + \"' name='\" + name + \"' value='\" + data[name] + \"'>\\n\");\n							}\n							formStr += \"</form>\";\n							div.style.cssText = \"position:absolute;top:0px;left:0px;width:1px;height:1px;\";\n							div.innerHTML = formStr;\n							lwin.document.body.appendChild(div);\n							div.firstChild.submit();\n						} catch (e) {\n							log(e);\n						}\n						lwin.document.removeChild(div);\n					} else {\n						this.poppedWindows[winName] = win.open(ROM.composeURL(webResource.url, data), winName, !! winSpecDataStr ? winSpecDataStr : this.defaultWindowSpec);\n					}\n				} else {\n					log(\"Popout Window Error: winName is required but not provided.\");\n				}\n			} else {\n				log(\"Popout Window Error: Web resource not found for popout window for resource ID = \" + webResourceID);\n			}\n		};\n		this.showSurvey = function(surveySpecID, rule, surveyData) {\n			var data = surveyDataMap[surveySpecID];\n			if (data) {\n				try {\n					var lastChat = CHM.getLastChat();\n					var logData = null;\n					if ( !! lastChat) {\n						logData = {\n							_domain: \"chat\",\n							evt: \"surveyPresented\",\n							siteID: Inq.getSiteID(),\n							businessUnitID: rule.getBusinessUnitID(),\n							chatID: lastChat.id,\n							customerID: Inq.getCustID(),\n							sessionID: getSessionID(),\n							incAssignmentID: getIncAssignmentID(),\n							stage: \"post-chat\",\n							surveyID: surveySpecID\n						};\n						if (lastChat.svyPrms) {\n							MI8.mixAbsorber(logData);\n							logData.absorb(lastChat.svyPrms);\n						}\n						ROM.send(urls.logDataURL, logData);\n						data[\"customerID\"] = logData.customerID;\n						data[\"businessUnitID\"] = logData.businessUnitID;\n						data[\"sessionID\"] = logData.sessionID;\n						data[\"stage\"] = logData.stage;\n						data[\"incAssignmentID\"] = logData.incAssignmentID;\n						data[\"siteID\"] = logData.siteID;\n						data[\"surveyContent\"] = \"\";\n						data[\"ClientID\"] = logData.siteID;\n						data[\"chatID\"] = logData.chatID;\n						data[\"override\"] = 1;\n						data[\"custID\"] = data.customerID;\n						if (lastChat.svyPrms) {\n							MI8.mixAbsorber(data);\n							data.absorb(lastChat.svyPrms);\n						}\n					}\n					var surveyWin = win.open((data.altURL.length > 0) ? getAltSurveyURL(data, rule) : ROM.composeURL(surveyURL, data), 'SurveyWindow', ('top=' + (data.y ? data.y : 0) + ', left=' + (data.x ? data.x : 0) + ', statusbar=0, menubar=0, scrollbars=1, resizable=1, toolbar=0, copyhistory=0, width=' + (data.w ? data.w : 0) + ', height=' + (data.h ? data.h : 0)));\n				} catch (e) {\n					log(e);\n				}\n			} else {\n				log(\"Survey Error: no survey spec found. surveySpecID=\" + surveySpecID);\n			}\n		};\n	}\n	MI8.prepare(SurveyMgr).im13(MI8.Observable).im13(MI8.XJA3);\n	SurveyMgr.IDX = 0;\n	SurveyMgr.prototype.isListener = function(l) {\n		return ( !! l && (l.onSurveyLaunchEvent || l.fireSurveySubmitted));\n	};\n	SurveyMgr.prototype.fireSurveyLaunched = function(chatdata, _src) {\n		var evt = MI8.mixAbsorber({\n			id: ++this.evtIdx,\n			evtType: this.TYPES.SLAUNCHED,\n			timestamp: new Date(),\n			src: _src\n		});\n		evt.absorb({\n			chatID: chatdata.chatID,\n			ruleID: chatdata.ruleID,\n			customerID: mockCustID\n		});\n		this._fireEvt(function(l, evt) {\n			if (typeof l.onSurveyLaunchEvent == \"function\") l.onSurveyLaunchEvent(evt);\n		}, evt);\n	};\n	SurveyMgr.prototype.fireSurveySubmitted = function(chatdata, _src) {};\n	SurveyMgr.prototype.TYPES = SurveyMgr.TYPES = {\n		SLAUNCHED: \"SLAUNCHED\",\n		SSUBMIT: \"SSUBMIT\"\n	};\n\n	function reinitChat(pageID, dat) {\n		var data = ((dat && dat.constructor == String) ? MI8.JSON.parse(dat) : dat);\n		if (pageID && pageID > 0) {\n			if (!CHM.isPersistentWindow()) {\n				if (data) {\n					if (data['pass']) {\n						win.inqData = data['pass'];\n					} else if (data['data']) {\n						win.inqData = data['data'];\n					}\n				}\n				if (data && data.sale) {\n					var s = data.sale;\n					var w = win;\n					w.inqSalesProducts = s.products;\n					w.inqSalesPrices = s.prices;\n					w.inqSalesQuantities = s.quantities;\n					w.inqTestOrder = s.test;\n					w.inqClientOrderNum = s.ordernum;\n					w.inqClientTimeStamp = s.timestamp;\n					w.inqCustomerName = s.customerName;\n					w.inqOtherInfo = s.otherInfo;\n				}\n				if (CHM.isChatInProgress()) {\n					Inq.overridePageID = pageID;\n					LDM.init(true);\n					LDM.start();\n				} else {\n					win.inqSiteID = pageID;\n					C2CM.reset();\n					CHM.reset();\n					win.v3Lander.reload();\n				}\n			}\n		}\n	}\n\n	function launchChatNowByPageID(ruleID) {\n		var rule = BRM.getRuleById(ruleID);\n		if (rule != null) {\n			EVM.fireManualInvocationEvent(rule);\n		}\n	}\n\n	function launchChatNow(ruleName) {\n		var rule = BRM.getRuleByName(ruleName);\n		if (rule != null) {\n			EVM.fireManualInvocationEvent(rule);\n		}\n	}\n\n	function setChatSuppressedForSession() {\n		Inq.tryue(\"ALL\", 0);\n	}\n\n	function blockChat(scope) {\n		switch (scope) {\n			case \"page\":\n				break;\n			case \"session\":\n				Inq.tryue(\"ALL\", 0);\n				break;\n			default:\n				break;\n		}\n	}\n\n	function getSaleID() {\n		var chatID = -1;\n		try {\n			if ( !! CHM.getChatID()) chatID = CHM.getChatID();\n		} catch (err) {\n			chatID = -1;\n		}\n		return chatID;\n	}\n\n	function showClickToCallHtml(index, html) {\n		C2CM.getC2C(index).showClickToCallHtml(html);\n	}\n\n	function exposeCustomerApi() {\n		var win = window.parent;\n		if (isNullOrUndefined(win.Inq)) {\n			win.Inq = {};\n			win.Inq.SaleMgr = {};\n		};\n		win.Inq.launchChatNowByPageID = launchChatNowByPageID;\n		win.Inq.launchChatNow = launchChatNow;\n		win.Inq.setChatSupressedForSession = setChatSuppressedForSession;\n		win.Inq.setChatSuppressedForSession = setChatSuppressedForSession;\n		win.Inq.blockChat = blockChat;\n		win.Inq.reinitChat = reinitChat;\n		win.Inq.reinit = reinitChat;\n		win.Inq.SaleMgr = {\n			getSaleID: getSaleID,\n			getChatID: getSaleID\n		};\n		win.Inq.showClickToCallHtml = showClickToCallHtml;\n		win.Inq.fireCustomEvent = fireCustomEvent;\n	}\n\n	function CG(includeIds, includeCGIds, includeURLFunction, excludeIds, excludeCGIds, excludeURLFunction) {\n		var _lut = {};\n		var _includeIds = includeIds ? includeIds : [];\n		var _includeCGIds = includeCGIds ? includeCGIds : [];\n		var _includeURLFunction = includeURLFunction;\n		var _excludeIds = excludeIds ? excludeIds : [];\n		var _excludeIdQuick = {};\n		var _excludeURLFunction = excludeURLFunction;\n		var _excludeCGIds = excludeCGIds ? excludeCGIds : [];\n		this.length = _includeIds.length;\n		for (var idx = 0; idx < _includeIds.length; idx++) {\n			_lut[_includeIds[idx]] = _includeIds[idx];\n		}\n		for (var i = 0; i < _excludeIds.length; i++) {\n			_excludeIdQuick[_excludeIds[i]] = _excludeIds[i];\n		}\n		this.contains = function(pgID, url, contentGroups) {\n			if (typeof _excludeIdQuick[pgID] == 'number') {\n				return false;\n			}\n			if (this.isInCGList(_excludeCGIds, pgID, url, contentGroups)) {\n				return false;\n			}\n			if (url && _excludeURLFunction && _excludeURLFunction(url)) {\n				return false;\n			}\n			if (typeof _lut[pgID] == 'number') {\n				return true;\n			}\n			if (this.isInCGList(_includeCGIds, pgID, url, contentGroups)) {\n				return true;\n			}\n			return url && _includeURLFunction && _includeURLFunction(url);\n		};\n		this.isInCGList = function(cgList, pgID, url, contentGroups) {\n			for (var i = 0; i < cgList.length; i++) {\n				var cg = contentGroups[cgList[i]];\n				if (!cg) {\n					continue;\n				}\n				if (cg.contains(pgID, url, contentGroups)) {\n					return true;\n				}\n			}\n			return false;\n		}\n	}\n\n	function CRMT(callback) {\n		this.absorb(callback);\n	}\n	MI8.prepare(CRMT).im13(MI8.XJA3).im13(MI8.RC54).im13(MI8.JSON);\n	CRMT.create = function(callback) {\n		return new CRMT(callback);\n	};\n	CRMT.prototype.onRemoteCallback = function(dstr) {\n		var data = this.parse(dstr);\n		this.doCallbackActions(data);\n	}\n\n	function ABCDE(d) {\n		this.absorb(d);\n		this.data = d;\n	}\n	MI8.prepare(ABCDE).im13(MI8.XJA3);\n	ABCDE.c = function(data) {\n		return new ABCDE(data);\n	};\n	ABCDE.prototype.request = function() {\n		if (this.data.onAgentAssigned) EVM.addListener(this.data);\n		if (this.flashvarFcn) {\n			CHM.registerFlashvarFcn(this.flashvarFcn);\n		}\n		if (this.data.agtid) this.chatSpec.aid = this.data.agtid;\n		CHM.request(this.rule, this.chatType, this.chatSpec);\n	};\n\n	function DFV(i, f, v) {\n		this.id = i;\n		this.f = f;\n		this.v = v;\n	}\n	DFV.c = function(i, f, v) {\n		return new DFV(i, f, v);\n	};\n	DFV.prototype.toString = function(dflt) {\n		var o = dflt;\n		try {\n			var o = safe(\"(\" + this.f.toString() + \")()\", {});\n		} catch (err) {\n			log(\"DFV [\" + this.id + \"] execution failed:\" + err);\n		}\n		var template = this.v;\n		for (var name in o) {\n			var s = o[name];\n			template = template.replace(\"${\" + name + \"}\", s);\n		}\n		return template;\n	};\n	window.XFormsLoader = function() {\n		function log(text) {\n			if (Inq && Inq.log) {\n				Inq.log(\"XF: \" + text);\n			} else if (window.console) {\n				window.console.log(\"XF: \" + text);\n			}\n		}\n\n		function logError(e) {\n			log(\"Error: \" + e.message);\n			if (e.origin) {\n				log(\"   at \" + e.origin);\n			} else if (logError.caller != null) {\n				log(\"   at \" + logError.caller.toString().split(\"{\")[0]);\n			}\n			return function(value) {\n				log(\"   trace:[\" + value + \"]\")\n			};\n		}\n		var XFormsLoader = function() {\n			var headerData = {};\n			this._xhr;\n			this._dtid;\n			this._jsid;\n			this._source;\n			this._xframe;\n			this.index = XFormsLoader.instances.length;\n			XFormsLoader.instances.push(this);\n\n			function getQuery(data) {\n				var query = \"\";\n				try {\n					for (var key in data) {\n						query += ((query.length == 0) ? \"?\" : \"&\") + key + \"=\" + encodeURIComponent(data[key]);\n					}\n				} catch (e) {\n					logError(e);\n				}\n				return query;\n			}\n			this.createXFrame = function(div, url, businessUnitID, scrolling, data, overrideRule) {\n				var automatonDataMap = PM.getVar(\"automatonDataMap\");\n				var chat = CHM.getChat();\n				var rule = overrideRule ? overrideRule : (chat ? chat.getRule() : null);\n				headerData = {\n					url: url,\n					workerPath: \"window.com.inq.flash.client.control.XFrameWorker\",\n					clientHtml: getHostedFileUrl(),\n					_chatID: CHM.getChatID() ? CHM.getChatID() : \"\",\n					_agentID: (CHM.getAgentID()) ? CHM.getAgentID() : \"\",\n					_businessUnitID: (businessUnitID) ? businessUnitID : ((CHM.getChat()) ? CHM.getChat().getBusinessUnitID() : FP.getBusinessUnitID()),\n					_siteID: Inq.getSiteID(),\n					_customerID: Inq.getCustID(),\n					_sessionID: FP.getSessionID(),\n					_incAssignmentID: FP.getIncAssignmentID(),\n					_clientPageURL: FP.getClientPageURL(),\n					_pageMarker: LDM.getPageMarker(),\n					_automatonDataMap: automatonDataMap ? automatonDataMap.getValue() : \"\",\n					_pageID: LDM.getPageID(),\n					_language: rule ? rule.getLanguage() : Inq.getDefaultLanguage(),\n					_visitorAttributes: VAM.getCopyAsArray().join(\";\"),\n					_brAttributes: rule ? rule.getRuleAttributesAsString() : \"\",\n					_browserType: getClientBrowserType(),\n					_browserVersion: getClientBrowserVersion(),\n					_operatingSystemType: getOSType(),\n					_deviceType: getDeviceType()\n				};\n				if (rule) {\n					headerData._brName = rule.getName();\n					headerData._brId = rule.getID();\n				}\n				for (var field in data) {\n					if (!headerData[field]) {\n						headerData[field] = data[field];\n					}\n				}\n				var nameIFrame = encodeURIComponent(MI8.JSON.stringify(headerData));\n				if (!scrolling) scrolling = \"no\";\n				div.innerHTML = '<IFRAME width=\"100%\" height=\"100%\" class=\"inqChatFoo\" frameborder=\"0\" scrolling=\"' + scrolling + '\" ' + 'name=\"' + nameIFrame + '\" ></IFRAME>';\n				this._xframe = div.getElementsByTagName(\"IFRAME\")[0];\n				this._xframe.headerData = headerData;\n				if (url) {\n					this._source = url;\n					this._dtid = data.dtid;\n					this.getJavaSessionId();\n				}\n				return this._xframe;\n			};\n			this.getJavaSessionId = function() {\n				try {\n					if (window.top == window.parent && window == window.top.inqFrame) {\n						if (!XFormsLoader.jsidVar) {\n							XFormsLoader.staticInit();\n						}\n						var sessionId = XFormsLoader.jsid;\n						XMLHttpRequestFacade.jsessionid = ( !! sessionId) ? sessionId : null;\n						this._xhr = new XMLHttpRequestFacade();\n						this.registerInstance(this._xhr);\n						var parts = this._source.split(\"/\");\n						var protocol = parts[0];\n						var domain = parts[2];\n						var urlGetSessionId = protocol + \"//\" + domain + \"/\" + parts[3] + \"/jsid/getSessionId\";\n						this._xhr.open(\"GET\", urlGetSessionId, true);\n						this._xhr.onreadystatechange = function() {\n							var x = this;\n							if (x.readyState == XMLHttpRequestFacade.DONE) {\n								var inst = XFormsLoader.getInstance(x);\n								inst.obtainedSessionId();\n							}\n						};\n						this._xhr.send();\n					} else {\n						this.jsid = XMLHttpRequestFacade.jsessionid;\n						this.loadForm();\n					}\n				} catch (e) {\n					logError(e)(\"getJavaSessionId\");\n				}\n			};\n			this.obtainedSessionId = function() {\n				this._xhr.onreadystatechange = null;\n				var jSessionId = this._xhr.response;\n				if (jSessionId.length > 0) {\n					XMLHttpRequestFacade.jsessionid = jSessionId;\n					XFormsLoader.jsid = jSessionId;\n					XFormsLoader.persistJsid();\n				}\n				this.removeInstance(this._xhr);\n				this.loadForm();\n			};\n			this.registerInstance = function(xhr) {\n				return XFormsLoader.mapXhr[xhr] = this;\n			};\n			this.removeInstance = function(xhr) {\n				try {\n					XFormsLoader.mapXhr[xhr] = null;\n					delete XFormsLoader.mapXhr[xhr];\n				} catch (e) {\n					logError(e)(\"removeInstance\");\n				}\n			};\n			this.loadForm = function() {\n				this._xhr = new XMLHttpRequestFacade();\n				this.registerInstance(this._xhr);\n				this._xhr.onreadystatechange = function() {\n					var xhr = this;\n					if (xhr.readyState == XMLHttpRequestFacade.DONE) {\n						var inst = XFormsLoader.getInstance(xhr);\n						inst.obtainedSourceHtml();\n					}\n				};\n				var url = this._source + getQuery(headerData);\n				this._xframe[\"href\"] = url;\n				this._xhr.open(\"GET\", url, true);\n				this._xhr.send();\n				return false;\n			};\n\n			function fixDocumentRewriteBug(html, win) {\n				win.DOCUMENT_REWRITE_BUG = true;\n				return html.replace('</head>', '<script type=\"text/javascript\">if (typeof DOCUMENT_REWRITE_BUG != \"undefined\") {top.inqFrame.Inq.FlashPeer.formsLoader.resetGlobalVars(window);}</script></head>');\n			}\n			this.obtainedSourceHtml = function() {\n				this._html = normalizeHtml(this._xhr.response, this._source);\n				this._html = fixDocumentRewriteBug(this._html, this._xframe.contentWindow);\n				this._xframe[\"XFormsLoader\"] = this;\n				if (this._xframe.src == null) {\n					this._xframe.onload = function() {\n						var ifrm = this;\n						var inst = ifrm[\"XFormsLoader\"];\n						inst.writeObtainedHtml();\n					};\n					this._xframe.onreadystatechange = function() {\n						var ifrm = this;\n						if (ifrm.readyState == \"complete\" || ifrm.readyState == \"loaded\") {\n							var inst = ifrm[\"XFormsLoader\"];\n							inst.writeObtainedHtml();\n						}\n					};\n					this._xframe.src = (window.location.href).split(\"?\")[0] + \"?BLNK\";\n				} else {\n					this.writeObtainedHtml();\n				}\n			};\n			this.writeObtainedHtml = function() {\n				this._xframe.onreadystatechange = null;\n				this._xframe.onload = null;\n				if (this._xframe.contentDocument) {\n					writeForm(this._xframe.contentDocument, this._html);\n				} else if (this._xframe.contentWindow) {\n					writeForm(this._xframe.contentWindow.document, this._html);\n				} else {\n					logError({\n						origin: \"writeObtainedHtml\",\n						message: \"Target document not found\"\n					});\n				}\n			};\n\n			function writeForm(doc, html) {\n				doc.open();\n				doc.write(html);\n				doc.close();\n				XFormsLoader.instances[this.index] = null;\n				XFormsLoader.instances.splice(this.index, 1);\n			}\n\n			function normalizeHtml(html, source) {\n				var srcParts = source.split(\"/\");\n				var proto = srcParts[0];\n				var domain = srcParts[2];\n				srcParts.pop();\n				var path = srcParts.join(\"/\");\n				var x = new RegExp('(href|src|action)=\\\"((http://|https://|//|/|#){0,1}[^\\\"]*)\\\"', 'gi');\n				var matches = html.match(x);\n				if (matches != null) {\n					for (var ix = 0; ix < matches.length; ix++) {\n						var fix = matches[ix];\n						x = new RegExp('(href|src|action)=\\\"((javascript:|http://|https://|//|/|#){0,1}[^\\\"]*)\\\"', 'gi');\n						var parts = x.exec(fix);\n						if (parts != null) {\n							var url;\n							switch ((parts[3]).toLowerCase()) {\n								case \"http://\":\n								case \"https://\":\n								case \"javascript:\":\n								case \"#\":\n									url = parts[2];\n									break;\n								case \"//\":\n									url = proto + parts[2];\n									break;\n								case \"/\":\n									url = proto + \"//\" + domain + parts[2];\n									break;\n								default:\n									url = path + \"/\" + parts[2];\n									break;\n							}\n							url = parts[1] + '=\\\"' + url + '\\\"';\n							if (url != fix) {\n								html = html.replace(fix, url);\n							}\n						}\n					}\n				}\n				return html;\n			}\n			this.fixFormSubmit = function(xwin, headerData) {\n				function collectFormData(form) {\n					var data = [];\n					for (var i = 0; i < form.length; i++) {\n						var child = form[i];\n						if (child.nodeName == \"INPUT\" || child.nodeName == \"BUTTON\") {\n							if (child.name) {\n								data.push(encodeURIComponent(child.name) + \"=\" + encodeURIComponent(child.value));\n							}\n						}\n					}\n					return data.join(\"&\");\n				}\n\n				function overrideSubmit() {\n					var method = this.method.toUpperCase();\n					var url = (headerData.srcurl) ? headerData.srcurl + \"&cbust=\" + Math.floor(Math.random() * 1000011) : this.action;\n					var data = collectFormData(this);\n					var callback = function() {\n						if (this.readyState == XMLHttpRequestFacade.DONE && this.status == 200) {\n							this.onreadystatechange = null;\n							var html = normalizeHtml(this.responseText, url);\n							html = fixDocumentRewriteBug(html, xwin);\n							writeForm(xwin.document, html);\n						}\n					};\n					var xdr = new XMLHttpRequestFacade();\n					if (method == \"POST\") {\n						xdr.open(method, url, true);\n						xdr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n						xdr.setRequestHeader(\"Content-Length\", data.length);\n						xdr.setRequestHeader(\"Connection\", \"keep-alive\");\n						xdr.onreadystatechange = callback;\n						xdr.send(data);\n					} else {\n						xdr.open(method, url += \"?\" + data, true);\n						xdr.onreadystatechange = callback;\n						xdr.send();\n					}\n					return true;\n				}\n				var forms = xwin.document.getElementsByTagName(\"FORM\");\n				for (var i = 0; i < forms.length; i++) {\n					forms[i].submit = overrideSubmit;\n				}\n			};\n		};\n		XFormsLoader.instances = [];\n		XFormsLoader.JSESSIONID = \"ji\";\n		XFormsLoader.jsidVar = null;\n		XFormsLoader.jsid = null;\n		XFormsLoader.mapXhr = {};\n		XFormsLoader.getInstance = function(xhr) {\n			return XFormsLoader.mapXhr[xhr];\n		};\n		XFormsLoader.PMvar = null;\n		XFormsLoader.persistJsid = function() {\n			XFormsLoader.jsidVar.setValue(XFormsLoader.jsid);\n		};\n		XFormsLoader.resetGlobalVars = function(win) {\n			\"use strict\";\n\n			function getCleanWindow(ijsfWin) {\n				var cleanIFrame = ijsfWin.document.getElementById(\"cleanIFrame\");\n				if (!cleanIFrame) {\n					cleanIFrame = ijsfWin.Inq.createHiddenIFrame(\"cleanIFrame\");\n					ijsfWin.document.body.appendChild(cleanIFrame);\n				}\n				var win = cleanIFrame.contentWindow;\n				if (typeof win == \"undefined\" || win == null) {\n					logError({\n						message: \"Failed to get clean window object\"\n					});\n				}\n				return win;\n			}\n			log(\"Resetting global variables to overcome WebKit's peculiarity\");\n			var cleanWindow = getCleanWindow(window);\n			if (win.XMLHttpRequestOriginal) {\n				win.XMLHttpRequest = win.XMLHttpRequestOriginal;\n				win.XMLHttpRequestOriginal = undefined;\n			}\n			for (var property in win) {\n				if (win.hasOwnProperty(property) && typeof cleanWindow[property] == \"undefined\") {\n					try {\n						win[property] = undefined;\n					} catch (ex) {\n						log(\"WARN: cannot delete global variable '\" + property + \"'\");\n					}\n				}\n			}\n			if (typeof YAHOO != 'undefined') {\n				logError({\n					message: \"Failed to delete the YAHOO global variable.\"\n				});\n			}\n		};\n		XFormsLoader.staticInit = function() {\n			XFormsLoader.jsidVar = PM.getVar(XFormsLoader.JSESSIONID);\n			if (!XFormsLoader.jsidVar) {\n				XFormsLoader.jsidVar = (new VBER34(XFormsLoader.JSESSIONID, \"\", resources[\"session\"]));\n				XFormsLoader.jsidVar.init();\n				XFormsLoader.jsidVar.getValue();\n				PM.addVar(XFormsLoader.jsidVar);\n			}\n			XFormsLoader.jsid = XFormsLoader.jsidVar.getValue();\n		};\n		return XFormsLoader;\n	}();\n\n	function AutomatonDT() {}\n	AutomatonDT.prototype.addDTEventFields = function(div, dataToSend) {\n		var children = div.getElementsByTagName('input');\n		var selectedCheckboxNames = [];\n		for (var i = 0; i < children.length; i++) {\n			var elem = children[i];\n			if (elem.type == \"checkbox\") {\n				dataToSend[elem.name] = \"\" + elem.checked;\n				if (elem.checked) {\n					selectedCheckboxNames[selectedCheckboxNames.length] = elem.name;\n				}\n			} else {\n				dataToSend[elem.name] = \"\" + elem.value;\n			}\n		}\n		return selectedCheckboxNames;\n	};\n	AutomatonDT.prototype.getAnswerText = function(button, div) {\n		if (isNullOrUndefined(button)) {\n			return null;\n		}\n		if (button.nodeName == \"A\") {\n			return button.innerHTML;\n		}\n		if (!isNullOrUndefined(button.text)) {\n			return button.text;\n		}\n		if (!isNullOrUndefined(button.type)) {\n			if (button.type == 'button') {\n				var out = '';\n				var children = div.getElementsByTagName('input');\n				for (var i = 0; i < children.length; i++) {\n					var elem = children[i];\n					if (elem.type == \"checkbox\") {\n						if (elem.checked) {\n							if (out.length > 0) {\n								out += \" \";\n							}\n							out += \"'\" + elem.value + \"'\";\n						}\n					}\n				}\n				if (out.length == 0) {\n					out = \"Nothing\";\n				}\n				return button.name + ' (' + out + ' selected)';\n			}\n		}\n		return null;\n	};\n	AutomatonDT.prototype.sendDTEvent = function(eventName, button, data) {\n		try {\n			var div = document.getElementById(data.divId);\n			var dataToSend = null;\n			try {\n				dataToSend = data.model;\n			} catch (e) {\n				log(\"sendDTEvent can't read data model \" + e);\n			}\n			if (isNullOrUndefined(dataToSend)) {\n				dataToSend = {};\n			}\n			var dataNode = button.parentNode;\n			var selectedCheckboxNames = this.addDTEventFields(dataNode, dataToSend);\n			if (button) {\n				data.selectedLinkName = button.name;\n			}\n			data.selectedCheckboxNames = selectedCheckboxNames;\n			data.model = MI8.JSON.stringify(dataToSend);\n			var answerText = this.getAnswerText(button, div);\n			if (answerText) {\n				data.answerText = answerText;\n			}\n			FP.sendDTEvent(eventName, data);\n		} catch (e) {\n			log(\"sendDTEvent error \" + e);\n		}\n		return false;\n	};\n\n	function EXCVTR() {\n		this._observable();\n		this.secondAttempt = false;\n		this.enabled = false;\n		this.masterEnabled = true;\n		this.resetPromptTimer = '';\n		this.USIdone = false;\n		this.initialized = false;\n		this._rule = null;\n	}\n	MI8.prepare(EXCVTR).im13(MI8.Observable).im13(MI8.RC54);\n	EXCVTR.prototype.isListener = function(l) {\n		return !!(l && ((l.onCancelExit && typeof l.onCancelExit == \"function\") || (l.onBeforeExitConfirmation && typeof l.onBeforeExitConfirmation == \"function\")));\n	};\n	EXCVTR.prototype.fireCancelExitEvent = function() {\n		function f(l, evt) {\n			try {\n				if ( !! l.onCancelExit) {\n					l.onCancelExit(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event CancelExit on \" + l.toString() + \":\" + e);\n			}\n		}\n		var event = {\n			rule: this._rule\n		};\n		this._fireEvt(f, event);\n	};\n	EXCVTR.prototype.onChatLaunched = function(evt) {\n		this.setEnabled(false);\n	};\n	EXCVTR.prototype.onChatClosed = function(evt) {\n		this.setEnabled(true);\n	};\n	EXCVTR.prototype.fireBeforeExitConfirmationEvent = function() {\n		function f(l, evt) {\n			try {\n				if ( !! l.onBeforeExitConfirmation) {\n					l.onBeforeExitConfirmation(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event BeforeExitConfirmation on \" + l.toString() + \":\" + e);\n			}\n		}\n		var event = {\n			rule: this._rule\n		};\n		this._fireEvt(f, event);\n	};\n	EXCVTR.prototype.tempDisable = function() {\n		if (Inq.EC.isEnabled()) {\n			Inq.EC.setEnabled(false);\n			log('Exit Chat temporarily disabled');\n			if (Inq.EC.resetPromptTimer != '') {\n				win.clearTimeout(Inq.EC.resetPromptTimer);\n			}\n			Inq.EC.resetPromptTimer = win.setTimeout(Inq.EC.reEnable, 3000);\n		}\n	};\n	EXCVTR.prototype.disableExitChat = function() {\n		Inq.EC.masterEnabled = false;\n		return true;\n	};\n	EXCVTR.prototype.reEnable = function() {\n		if (!Inq.EC.USIdone) {\n			Inq.EC.setEnabled(true);\n		}\n		Inq.EC.resetPromptTimer = '';\n		log(\"re-enabled alert\");\n	};\n	EXCVTR.prototype.doActions = function(evt) {\n		setTimeout(function() {\n			inqFrame.Inq.EC.fireCancelExitEvent();\n		}, 1000);\n	};\n	EXCVTR.prototype.doInit = function(rule, aTxt, image, cTxt, automatedAgent, businessUnitID, checkAgentAvailabilityInterval) {\n		if (isServiceBlocked(\"POPUP\")) {\n			return;\n		}\n		this._rule = rule;\n		var showImage = (image != null) && (isSafari() || isChrome());\n		var imageWidth = 0;\n		var imageHeight = 0;\n		var imageElement;\n		if (showImage) {\n			imageElement = document.createElement(\"img\");\n			imageElement.src = urls.mediaSiteURL + '/images/' + image;\n			imageElement.id = \"ExitConfirmImage\";\n			imageElement.style.cssText = \"position:absolute;top:0px;left:0px;\"\n			document.body.appendChild(imageElement);\n		}\n		this._businessUnitID = businessUnitID;\n		this._automatedAgent = ( !! automatedAgent === automatedAgent ? automatedAgent : !automatedAgent);\n		if (this._automatedAgent) {\n			this.reEnable();\n		} else {\n			this.dataMap = {\n				buID: this._businessUnitID,\n				siteID: Inq.siteID,\n				brID: rule.id,\n				agentAttributes: rule.getAgentAttributes(),\n				ruleAttributes: rule.getRuleAttributes()\n			};\n			if (checkAgentAvailabilityInterval) {\n				this.runAgentCheckTimer(checkAgentAvailabilityInterval);\n			} else {\n				this.callRemote(Inq.urls.agentsAvailabilityCheckURL, this.dataMap);\n			}\n		}\n		win.document.documentElement.onmousedown = this.tempDisable;\n		win.document.documentElement.onclick = this.tempDisable;\n		win.document.documentElement.onkeypress = this.tempDisable;\n		win.document.documentElement.onsubmit = this.disableExitChat;\n		win.v3Lander.prepareBeforeUnload(aTxt, cTxt, this.doActions, showImage, imageElement);\n		if (this.initialized) throw \"Single Use Exception. Exit Confirmation may only be used once per page for rules. Check for redundant rules of this type.\";\n		this.rule = rule;\n		this.initialized = true;\n	};\n	EXCVTR.prototype.onRemoteCallback = function(data) {\n		var jsonData = MI8.JSON.parse(data);\n		if (!isNullOrUndefined(jsonData) && !isNullOrUndefined(jsonData.AA) && !isNullOrUndefined(jsonData.inHOP)) {\n			Inq.EC.setEnabled(jsonData.AA && jsonData.inHOP);\n		}\n	};\n	EXCVTR.prototype.update = function(evt) {\n		this.USIdone = true;\n		if (this.resetPromptTimer != '') {\n			clearTimeout(this.resetPromptTimer);\n		}\n		var ruleFL = this._rule.getConstant(\"fl\", rule);\n		if (Inq.GR34.isChatInProgress() || (ruleFL && ruleFL >= PM.getVar(\"cfl\").getValue())) {\n			this.setEnabled(false);\n		}\n		return ((this.masterEnabled == true) && (this.enabled == true));\n	};\n	EXCVTR.prototype.isEnabled = function() {\n		return this.enabled;\n	};\n	EXCVTR.prototype.setEnabled = function(b) {\n		this.enabled = b;\n	};\n	EXCVTR.prototype.runAgentCheckTimer = function(interval) {\n		Inq.EC.callRemote(Inq.urls.agentsAvailabilityCheckURL, Inq.EC.dataMap);\n		var launchString = \"Inq.EC.runAgentCheckTimer(\" + interval + \")\";\n		setTimeout(launchString, interval);\n	};\n	EXCVTR.prototype.isInitialized = function() {\n		return this.initialized;\n	};\n\n	function ExitHook() {\n		this._observable();\n		this.initialized = false;\n		this._rule = null;\n	}\n	MI8.prepare(ExitHook).im13(MI8.Observable);\n	ExitHook.prototype.isListener = function(l) {\n		return !!(l && (l.onBeforeUnload && typeof l.onBeforeUnload == \"function\"));\n	};\n	ExitHook.prototype.fireBeforeUnloadEvent = function() {\n		function f(l, evt) {\n			try {\n				if ( !! l.onBeforeUnload) {\n					l.onBeforeUnload(evt);\n				}\n			} catch (e) {\n				log(\"Error firing event BeforeUnload on \" + l.toString() + \":\" + e);\n			}\n		}\n		var event = {\n			rule: this._rule\n		};\n		this._fireEvt(f, event);\n	};\n	ExitHook.prototype.doInit = function(rule) {\n		this._rule = rule;\n		win.v3Lander.prepareBeforeUnloadForEH();\n		this.initialized = true;\n	};\n	ExitHook.prototype.isInitialized = function() {\n		return this.initialized;\n	};\n\n	function VAMgr(id, data) {\n		this._frameworkModule(id);\n		this.absorb(data);\n		this._varTable = {};\n		this._bActionable = true;\n		this.currentVisitorAttributes = {};\n		this.banned = {};\n		this.hashed = {};\n		this.storedValues = new MapVariable(\"VA\", new Array(), resources.state);\n		this.allowDynamic = true;\n		this.crc32map = {};\n		this.crc32 = function(str) {\n			if (!this.crc32map[str]) {\n				var table = \"00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D\";\n				var crc = -1;\n				var x = 0;\n				var y = 0;\n				for (var i = 0, iTop = str.length; i < iTop; i++) {\n					y = (crc ^ str.charCodeAt(i)) & 0xFF;\n					x = \"0x\" + table.substr(y * 9, 8);\n					crc = (crc >>> 8) ^ x;\n				}\n				crc = crc ^ (-1);\n				if (crc < 0) {\n					crc = 0xFFFFFFFF + crc + 1;\n				}\n				this.crc32map[str] = \"a\" + ((crc).toString(36));\n			}\n			return this.crc32map[str];\n		};\n		this.test = function(visitorAttributes) {\n			var result = false;\n			for (var a in visitorAttributes) {\n				if (this.currentVisitorAttributes[a]) {\n					result = true;\n					if (visitorAttributes[a].values) {\n						if (this.currentVisitorAttributes[a].values) {\n							for (var valueChecking in visitorAttributes[a].values) {\n								if (!this.currentVisitorAttributes[a].values[valueChecking]) {\n									return false;\n								}\n							}\n						} else {\n							result = false;\n						}\n					}\n				}\n			}\n			return result;\n		};\n		this.checkBanDuration = function(attributeName) {\n			var attr;\n			var expiry;\n			if ((attr = this.businessVisitorAttributes[attributeName]) || (attr = this.programVisitorAttributes[attributeName])) {\n				var b = this.banned[this.crc32(attributeName)];\n				if (b) {\n					var currentTime = new Date().getTime();\n					expiry = parseInt(b.d, 36) * 1000;\n					if (!isNullOrUndefined(b.d) && (expiry > 0) && (expiry < currentTime)) {\n						delete this.banned[this.crc32(attributeName)];\n						attr.banAll = false;\n					} else {\n						for (var bannedValue in b) {\n							if (bannedValue != 'd') {\n								expiry = parseInt(b[bannedValue].d, 36) * 1000;\n								if ((expiry > 0) && (expiry < currentTime)) {\n									delete b[bannedValue];\n								}\n							}\n						}\n					}\n				}\n			}\n		};\n		this.add = function(visitorAttributes) {\n			for (var a in visitorAttributes) {\n				if (typeof visitorAttributes[a] == \"function\") continue;\n				var attr;\n				var val = null;\n				if ((attr = this.businessVisitorAttributes[a]) || (attr = this.programVisitorAttributes[a])) {\n					this.checkBanDuration(a);\n					if (!attr.banAll) {\n						for (var valueAdding in visitorAttributes[a].values) {\n							if (typeof visitorAttributes[a].values[valueAdding] == \"function\") continue;\n							if (((attr.values[valueAdding] && !this.allowDynamic) || this.allowDynamic) && !(this.banned[this.crc32(a)] && this.banned[this.crc32(a)][this.crc32(valueAdding)])) {\n								if (!this.currentVisitorAttributes[a] || attr.mutuallyExclusive) {\n									this.currentVisitorAttributes[a] = {};\n									this.hashed[this.crc32(a)] = [];\n									this.currentVisitorAttributes[a].values = {};\n								}\n								this.currentVisitorAttributes[a].values[valueAdding] = true;\n								if (this.allowDynamic) {\n									val = valueAdding;\n								} else {\n									val = this.crc32(valueAdding);\n								}\n								if (!this.hashed[this.crc32(a)].contains(val)) {\n									this.hashed[this.crc32(a)].append([val]);\n								}\n							}\n						}\n					}\n				}\n				if ( !! val) this.logData(\"visitorAttributeAdded\", a, this.getAttributeValues(a, visitorAttributes));\n			}\n			this.save();\n		};\n		this.remove = function(visitorAttributes, fromRemoveAll) {\n			for (var a in visitorAttributes) {\n				if (typeof visitorAttributes[a] == \"function\" || this.isMutuallyExclusiveAttribute(a)) continue;\n				if (this.currentVisitorAttributes[a]) {\n					var hasNoValues = true;\n					for (var valueRemoving in visitorAttributes[a].values) {\n						if (typeof visitorAttributes[a].values[valueRemoving] == \"function\") continue;\n						hasNoValues = false;\n						if (this.currentVisitorAttributes[a].values[valueRemoving]) {\n							delete this.currentVisitorAttributes[a].values[valueRemoving];\n							var ind;\n							if (this.allowDynamic) {\n								ind = this.hashed[this.crc32(a)].indexOf(valueRemoving);\n							} else {\n								ind = this.hashed[this.crc32(a)].indexOf(this.crc32(valueRemoving));\n							}\n							this.hashed[this.crc32(a)].remove(ind);\n						}\n					}\n					if (hasNoValues || fromRemoveAll) {\n						delete this.currentVisitorAttributes[a];\n						delete this.hashed[this.crc32(a)];\n					}\n				}\n				this.logData(\"visitorAttributeRemoved\", a, this.getAttributeValues(a, visitorAttributes));\n			}\n			this.save();\n		};\n		this.removeAll = function() {\n			this.remove(this.currentVisitorAttributes, true);\n		};\n		this.ban = function(visitorAttributes, duration) {\n			var sendlog = false;\n			if (duration > 0) {\n				duration = Math.ceil((new Date().getTime() + duration) / 1000).toString(36);\n			}\n			for (var a in visitorAttributes) {\n				if (typeof visitorAttributes[a] == \"function\" || this.isMutuallyExclusiveAttribute(a)) continue;\n				var attr;\n				var crc = this.crc32(a);\n				if ((attr = this.businessVisitorAttributes[a]) || (attr = this.programVisitorAttributes[a])) {\n					var banAll = true;\n					if (visitorAttributes[a].values) {\n						for (var valueBanning in visitorAttributes[a].values) {\n							if (typeof visitorAttributes[a].values[valueBanning] == \"function\") continue;\n							banAll = false;\n							if (this.allowDynamic || attr.values[valueBanning]) {\n								if (this.currentVisitorAttributes[a] && this.currentVisitorAttributes[a].values && this.currentVisitorAttributes[a].values[valueBanning]) {\n									delete this.currentVisitorAttributes[a].values[valueBanning];\n									if (this.allowDynamic) {\n										delete this.hashed[this.crc32(a)][valueBanning];\n									} else {\n										delete this.hashed[this.crc32(a)][this.crc32(valueBanning)];\n									}\n								}\n								if (!this.banned[crc]) {\n									this.banned[crc] = {};\n								}\n								sendlog = true;\n								this.banned[crc][this.crc32(valueBanning)] = {\n									\"d\": duration\n								};\n							}\n						}\n					}\n					if (banAll) {\n						sendlog = true;\n						attr.banAll = true;\n						delete this.currentVisitorAttributes[a];\n						delete this.hashed[this.crc32(a)];\n						this.banned[this.crc32(a)] = {\n							\"d\": duration\n						};\n					}\n				}\n				if (sendlog) this.logData(\"visitorAttributeBanned\", a, this.getAttributeValues(a, visitorAttributes));\n			}\n			this.save();\n		};\n		this.unban = function(visitorAttributes) {\n			for (var a in visitorAttributes) {\n				if (typeof visitorAttributes[a] == \"function\" || this.isMutuallyExclusiveAttribute(a)) continue;\n				var attr;\n				if ((attr = this.businessVisitorAttributes[a]) || (attr = this.programVisitorAttributes[a])) {\n					var unbanAll = true;\n					if (visitorAttributes[a].values && this.banned[this.crc32(a)]) {\n						for (var valueBanning in visitorAttributes[a].values) {\n							if (typeof visitorAttributes[a].values[valueBanning] == \"function\") continue;\n							delete this.banned[this.crc32(a)][this.crc32(valueBanning)];\n							unbanAll = false;\n						}\n					}\n					if (!unbanAll) {\n						unbanAll = true;\n						for (var bannedValue in this.banned[this.crc32(a)]) {\n							if (bannedValue != \"d\") {\n								unbanAll = false;\n								break;\n							}\n						}\n					}\n					if (unbanAll) {\n						attr.banAll = false;\n						delete this.banned[this.crc32(a)];\n					}\n				}\n				this.logData(\"visitorAttributeUnbanned\", a, this.getAttributeValues(a, visitorAttributes));\n			}\n			this.save();\n		};\n		this.initBanned = function(visitorAttributes) {\n			for (var a in visitorAttributes) {\n				var attr = visitorAttributes[a];\n				var crc = this.crc32(a);\n				if (this.banned[crc]) {\n					var banAll = true;\n					for (var tmp in this.banned[crc]) {\n						if (tmp != \"d\") {\n							banAll = false;\n							break;\n						}\n					}\n					if (banAll) {\n						attr.banAll = true;\n					}\n				}\n			}\n		};\n		this.initHashed = function(visitorAttributes) {\n			for (var a in visitorAttributes) {\n				var attr = visitorAttributes[a];\n				var crc = this.crc32(a);\n				if (this.hashed[crc]) {\n					this.currentVisitorAttributes[a] = {};\n					this.currentVisitorAttributes[a].values = {};\n					if (this.hashed[crc].length) {\n						if (this.allowDynamic) {\n							for (var i = 0; i < this.hashed[crc].length; i++) {\n								valueAdding = this.hashed[crc][i];\n								this.currentVisitorAttributes[a].values[valueAdding] = true;\n							}\n						} else {\n							for (var valueAdding in attr.values) {\n								if (this.hashed[crc][this.crc32(valueAdding)]) {\n									this.currentVisitorAttributes[a].values[valueAdding] = true;\n								}\n							}\n						}\n					}\n				}\n			}\n		};\n		this.init = function() {};\n		this.getAttributeValues = function(a, source) {\n			var values = [];\n			if (source == null) {\n				source = this.currentVisitorAttributes;\n			}\n			if (source[a]) {\n				for (var value in source[a].values) {\n					values[values.length] = value;\n				}\n			}\n			return values;\n		};\n		this.getCopyAsMap = function() {\n			var copy = {\n				currentVisitorAttributes: this.currentVisitorAttributes,\n				keys: function() {\n					var keys = [];\n					for (var a in this.currentVisitorAttributes) {\n						keys[keys.length] = a;\n					}\n					return keys;\n				},\n				values: function() {\n					var values = [];\n					for (var a in this.currentVisitorAttributes) {\n						values[values.length] = this.get(a);\n					}\n					return values;\n				},\n				each: function(func) {\n					if (typeof func == \"function\") {\n						for (var a in this.currentVisitorAttributes) {\n							func(a, this.get(a), this);\n						}\n					}\n				},\n				clear: function() {},\n				set: function() {},\n				get: function(key) {\n					var values = [];\n					var cVatt = this.currentVisitorAttributes[key];\n					if ( !! cVatt && !! cVatt.values) {\n						for (var value in cVatt.values) {\n							values[values.length] = value;\n						}\n					}\n					return values;\n				},\n				unset: function() {}\n			};\n			return copy;\n		};\n		this.start = function() {};\n		this.reset = function() {};\n		this.load = function() {\n			if (this.storedValues.getValue() == null) {\n				this.storedValues.init();\n			} else {\n				this.banned = this.storedValues.getValue().get(\"ban\");\n				if (this.banned) {\n					this.initBanned(this.businessVisitorAttributes);\n					this.initBanned(this.programVisitorAttributes);\n				} else {\n					this.banned = {};\n				}\n				this.hashed = this.storedValues.getValue().get(\"hash\");\n				if (this.hashed) {\n					this.initHashed(this.businessVisitorAttributes);\n					this.initHashed(this.programVisitorAttributes);\n				} else {\n					this.hashed = {};\n				}\n			}\n		};\n		this.save = function() {\n			this.storedValues.set(\"hash\", this.hashed);\n			this.storedValues.set(\"ban\", this.banned);\n		};\n		this.agrtyer = function() {\n			this.load();\n		};\n		this.getPersistentId = function() {\n			return this.getID();\n		};\n		this.getCopyAsArray = function(urlEncodingRequired) {\n			var tmp = new Array();\n			for (var a in this.currentVisitorAttributes) {\n				var va;\n				if (urlEncodingRequired) {\n					var values = this.getAttributeValues(a);\n					var encodedValues = new Array(values.length);\n					for (var i = 0; i < values.length; i++) {\n						encodedValues[i] = encodeURIComponent(values[i]);\n					}\n					va = encodeURIComponent(encodeURIComponent(a) + ',' + encodedValues.join(','));\n				} else {\n					va = a + ',' + this.getAttributeValues(a).join(',');\n				}\n				tmp[tmp.length] = va;\n			}\n			return tmp;\n		};\n		this.logData = function(event, attribute, values) {\n			ROM.send(urls.logDataURL, {\n				_domain: \"customer\",\n				evt: event,\n				siteID: Inq.siteID,\n				incAssignmentID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				customerID: Inq.getCustID(),\n				atts: attribute ? (attribute + \",\" + values.join(\",\")) : \"\",\n				currentAtts: (this.getCopyAsArray().join(\";\"))\n			});\n		};\n		this.testBanned = function(visitorAttribute) {\n			var result = false;\n			for (var a in visitorAttribute) {\n				this.checkBanDuration(a);\n				var attr = visitorAttribute[a];\n				var crc = this.crc32(a);\n				if (this.banned[crc]) {\n					var banAll = true;\n					for (var tmp in this.banned[crc]) {\n						if (tmp != \"d\") {\n							banAll = false;\n							break;\n						}\n					}\n					if (banAll) {\n						result = true;\n					} else {\n						for (var valueBanning in attr.values) {\n							if (this.banned[crc][this.crc32(valueBanning)]) {\n								result = true;\n								break;\n							}\n						}\n					}\n				}\n			}\n			return result;\n		};\n		this.toString = function() {\n			return !!this.getCopyAsArray() ? this.getCopyAsArray().toString() : \"\";\n		};\n		this.isMutuallyExclusiveAttribute = function(attr) {\n			return attr == \"mutuallyExclusive\";\n		};\n	};\n	MI8.prepare(VAMgr).im13(MI8.Persistable).im13(MI8.FM2).im13(MI8.XJA3);\n\n	function MessageMgr(w) {\n		var self = this;\n		this.window = (w) ? w : window;\n		this.messageEnabled = this.enablePostMessage();\n		if (this.messageEnabled) {\n			try {\n				this.window.addEventListener(\"message\", function(message) {\n					self.onMessage(message);\n				});\n			} catch (e) {\n				log(e);\n			}\n		}\n	}\n	MessageMgr.prototype.enablePostMessage = function() {\n		var deviceType = getDeviceType();\n		return (deviceType === 'Phone' || deviceType === 'Tablet');\n	}\n	MessageMgr.CMD_CLOSE_PERSISTENT = \"CLOSE_PERSISTENT\";\n	MessageMgr.prototype.onMessage = function(message) {\n		if (this.isSecure(message)) {\n			switch (message.data) {\n				case MessageMgr.CMD_CLOSE_PERSISTENT:\n					this.window.setTimeout(\"inqFrame.Inq.FlashPeer.CloseChatFromPersistent()\", 0);\n					break;\n			}\n		}\n		return true;\n	}\n	MessageMgr.prototype.isSecure = function(message) {\n		var locs = this.getAuthorizedOrigins();\n		var origin = this.parseUrl(message.origin);\n		for (var i = 0; i < locs.length; i++) {\n			var loc = this.parseUrl(locs[i]);\n			if (loc.port == origin.port && loc.domain == origin.domain) {\n				return true;\n			}\n		}\n		return false;\n	}\n	MessageMgr.prototype.parseUrl = function(string) {\n		var m = string.match(/^(https?):\\/\\/([^\\/:]+)(:?(\\d*))/);\n		var host = m[2];\n		var domain = (host.indexOf('.') >= 0) ? host.split('.').slice(1).join('.') : host;\n		return {\n			protocol: m[1],\n			domain: domain,\n			port: (m[4] ? m[4] : 80)\n		};\n	}\n	MessageMgr.prototype.getAuthorizedOrigins = function() {\n		var locs = [];\n		locs.push(this.window.location.href);\n		locs.push(this.window.document.location.href);\n		if (this.window.parent && (this.window.parent !== this.window)) {\n			locs.push(this.window.parent.location.href);\n			locs.push(this.window.parent.document.location.href);\n		}\n		if (this.window.opener) {\n			locs.push(this.window.opener.location.href);\n			locs.push(this.window.opener.document.location.href);\n		}\n		return locs;\n	}\n	MessageMgr.prototype.closePersistent = function(win, targetHost) {\n		this.send(win, MessageMgr.CMD_CLOSE_PERSISTENT, targetHost);\n	}\n	MessageMgr.prototype.send = function(win, command, targetHost) {\n		if (!win) throw \"Illegal argument: null 'win'\";\n		if (!command) throw \"Illegal argument: null 'command'\";\n		var t = targetHost || \"*\";\n		if (this.messageEnabled) {\n			win.postMessage(command, t);\n		} else {\n			win.Inq.MSG.onMessage({\n				data: command,\n				origin: this.window.location.href\n			});\n		}\n	}\n\n	function getOpener() {\n		var opener = null;\n		if (isPersistentWindow()) {\n			try {\n				opener = (window.parent.opener && window.parent.opener.inqFrame) ? window.parent.opener.inqFrame : ((window.opener) ? window.opener : null);\n			} catch (e) {\n				log(\"Error getting opener: \" + e.message);\n			}\n		}\n		return opener;\n	};\n\n	function toJsString(val, quote) {\n		var value = val;\n		value = value.split(\"\\\\\").join(\"\\\\\\\\\");\n		value = value.split(\"\\\"\").join(\"\\\\\\\"\");\n		value = value.split(\"\\'\").join(\"\\\\\\'\");\n		value = value.split(\"\\n\").join(\"\\\\n\");\n		value = value.split(\"\\r\").join(\"\\\\r\");\n		value = value.split(\"\\t\").join(\"\\\\t\");\n		if (quote) value = quote + value + quote;\n		return value;\n	}\n\n	function formatArgument(arg) {\n		try {\n			var type = \"[unknown]\";\n			try {\n				type = (typeof(arg) == \"object\") ? ((arg[\"constructor\"] != null) ? arg.constructor.toString() : \"\" + arg) : (\"(\" + typeof(arg) + \")\");\n			} catch (e) {\n				type = \"\" + arg;\n			}\n			if (type.indexOf(\"function\") != -1) {\n				type = type.split(\"\\n\").join(\" \").replace(/^\\s*function (\\w+)\\s*\\(\\)[^\\n]*/g, \"[object $1]\");\n			}\n			if (type == \"(boolean)\" || type == \"[object Boolean]\") type = (arg) ? \"true\" : \"false\";\n			if (type == \"(string)\" || type == \"[object String]\") type = toJsString(arg, \"\\\"\");\n			if (type == \"(number)\") type = \"\" + arg;\n			if (type == \"(array)\" || type == \"[object Array]\") {\n				type = \"\";\n				for (var ix = 0; ix < arg.length; ix++) {\n					type += ((type.length != 0) ? \",\" : \"\") + formatArgument(arg[ix]);\n					if (type.length > 128) break;\n				}\n				if (type.length > 128) type = type.substr(0, 128 - 3) + \"...\";\n				return \"[\" + type + \"]\";\n			}\n			return type;\n		} catch (e) {\n			return \"[argument]\";\n		}\n	}\n\n	function attachListener(elem, evtStr, fcn, d) {\n		if (elem.addEventListener) {\n			elem.addEventListener(evtStr, fcn, false);\n		} else if (elem.attachEvent) {\n			elem.attachEvent(((d == 1) ? \"\" : \"on\") + evtStr, fcn);\n		}\n	}\n\n	function isSameOrigin() {\n		try {\n			if (isPersistentWindow()) {\n				if (window.parent.opener.Inq) {\n					return true;\n				} else {\n					return false;\n				}\n			}\n		} catch (err) {\n			return false;\n		}\n	}\n\n	function getID() {\n		return this._id;\n	}\n\n	function getCustID() {\n		if (isNullOrUndefined(this.custID)) {\n			return \"\";\n		} else {\n			return this.custID;\n		}\n	}\n\n	function getCustIP() {\n		return this.custIP;\n	}\n	var siteID = 149;\n\n	function getSiteID() {\n		return siteID;\n	}\n\n	function getDefaultLanguage() {\n		return \"en\";\n	}\n\n	function getSessionID() {\n		var sesVar = PM.getVar(\"sesID\");\n		return sesVar ? sesVar.getValue() : \"\";\n	}\n\n	function getIncAssignmentID() {\n		var incAssignmentID = PM.getVar(\"incID\");\n		return incAssignmentID ? incAssignmentID.getValue() : \"\";\n	}\n\n	function getDefaultBusinessUnitID() {\n		return 18;\n	}\n\n	function getDeviceType() {\n		var deviceType = null;\n		if (deviceType == null) {\n			deviceType = (/kindle|nook|android 2|ubuntu/i.test(navigator.userAgent.toLowerCase())) ? \"Unsupported\" : null;\n		}\n		if (deviceType == null) {\n			deviceType = (/ipad|android 3|sch-i800|playbook|tablet|kindle|gt-p1000|gt-p5113|sgh-t849|shw-m180s|a510|a511|a100|dell streak|silk/i.test(navigator.userAgent.toLowerCase())) ? \"Tablet\" : null;\n		}\n		if (deviceType == null) {\n			deviceType = (/iphone|ipod|android|blackberry|opera mini|opera mobi|skyfire|maemo|windows phone|palm|iemobile|symbian|symbianos|fennec|mobile/i.test(navigator.userAgent.toLowerCase())) ? \"Phone\" : null;\n		}\n		if (deviceType == null) {\n			deviceType = \"Standard\";\n		}\n		return deviceType;\n	}\n\n	function isDeviceType(type) {\n		return type == getDeviceType();\n	}\n	var clntLag;\n\n	function getClientTimeLag() {\n		return clntLag;\n	}\n	var siteTzID = 'EST';\n	var siteTzOffset;\n\n	function getSiteTZOffset() {\n		return siteTzOffset;\n	}\n\n	function isTZRequestRequired() {\n		if ((!isEmptyObject(businessSchedules) || !isEmptyObject(programSchedules)) && isNullOrUndefined(siteTzOffset)) return true;\n		else return false;\n	}\n\n	function isSchMet(scheduleId) {\n		return (schedules[scheduleId] && schedules[scheduleId].isScheduleMet(new Date(), getClientTimeLag(), getSiteTZOffset()));\n	}\n\n	function processCustomerApiRegistry() {\n		Inq.overridePageID = ( !! win.inqSiteID) ? win.inqSiteID : -1;\n		var registry = isNullOrUndefined(window.parent.InqRegistry) ? {} : window.parent.InqRegistry;\n		var listeners = [];\n		if (!isNullOrUndefined(registry.chatListeners)) {\n			listeners.append(registry.chatListeners);\n		}\n		if (!isNullOrUndefined(registry.saleListeners)) {\n			listeners.append(registry.saleListeners);\n		}\n		if (!isNullOrUndefined(registry.incrementalityListeners)) {\n			listeners.append(registry.incrementalityListeners);\n		}\n		if (!isNullOrUndefined(registry.listeners)) {\n			listeners.append(registry.listeners);\n		}\n		for (var x = 0; x < listeners.length; x++) {\n			listeners[x].custApi = true;\n		}\n		EVM.addListeners(listeners);\n		if (!isNullOrUndefined(registry.disableChat) && registry.disableChat == true) {\n			tryue(CHM.CHAT_TYPES.POPUP, 0);\n		}\n		if (!isNullOrUndefined(registry.disableC2C) && registry.disableC2C == true) {\n			tryue(CHM.CHAT_TYPES.C2C, 0);\n		}\n	}\n\n	function initMgrs(mgrList) {\n		PM.addVars(programVars);\n		PM.addVars(businessVars);\n		var table = BRM.getRuleVarTable();\n		for (var ruleID in table) {\n			if ( !! table[ruleID]) {\n				PM.addVars(table[ruleID]);\n			}\n		}\n		for (var m in mgrList) {\n			try {\n				if (mgrList[m].init) {\n					mgrList[m].init();\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n	}\n\n	function startMgrs(mgrList) {\n		for (var m in mgrList) {\n			try {\n				if (mgrList[m].start) {\n					mgrList[m].start();\n				}\n			} catch (e) {\n				log(e);\n			}\n		}\n	}\n\n	function start() {\n		if (!this.isFrameworkReady()) {\n			return;\n		}\n		if (this.started) {\n			return;\n		};\n		this.started = true;\n		EVM.addObservables(mgrList);\n		EVM.addObservables([EC]);\n		EVM.addObservables([EH]);\n		EVM.addListeners(mgrList);\n		EVM.addListeners([EC]);\n		EVM.addCustomEvents(programCustomEvents);\n		EVM.addCustomEvents(businessCustomEvents);\n		PM.fireDataReady();\n		processCustomerApiRegistry();\n		initMgrs(mgrList);\n		EVM.addListeners(BRM.getRules());\n		startMgrs(mgrList);\n	}\n\n	function agrtyer(data) {\n		if (this.dataReady) {\n			return;\n		}\n		this.dataReady = true;\n		this.load();\n	}\n\n	function load() {\n		var vitalVar = new VBER34(this.getID(), {}, resources[\"vital\"]);\n		var vitalData = vitalVar.getValue();\n		if (vitalData) {\n			if (vitalData.clntLag) {\n				clntLag = vitalData.clntLag;\n				delete vitalData.clntLag;\n			}\n			this.absorb(vitalData);\n		}\n		var siteTzOffsetVar = new VBER34(\"siteTzOffset\", null, resources[\"session\"], \"tzOf\");\n		siteTzOffset = siteTzOffsetVar.getValue();\n	}\n\n	function save() {\n		var vitalVar = new VBER34(this.getID(), {}, resources[\"vital\"]);\n		var vitalData = {\n			custID: this.getCustID(),\n			custIP: this.getCustIP()\n		};\n		if (getClientTimeLag()) vitalData.clntLag = getClientTimeLag();\n		vitalVar.setValue(vitalData);\n		if (!isNullOrUndefined(siteTzOffset)) {\n			var siteTzOffsetVar = new VBER34(\"siteTzOffset\", 0, resources[\"session\"], \"tzOf\");\n			siteTzOffsetVar.setValue(siteTzOffset);\n		}\n	}\n\n	function isDataReady() {\n		return this.dataReady;\n	}\n\n	function setFrameworkData(data) {\n		if (!isNullOrUndefined(data[\"siteTzOffset\"])) {\n			siteTzOffset = data[\"siteTzOffset\"];\n			delete data[\"siteTzOffset\"];\n		}\n		this.absorb(data);\n		if (data.serverTime) {\n			clntLag = data.serverTime - (new Date()).getTime();\n			if (Math.abs(clntLag) < 1000) clntLag = undefined;\n		}\n		this.save();\n	}\n\n	function getDFV(dfvID) {\n		return dfvs[dfvID];\n	}\n\n	function isThirdPartyCookiesEnabled() {\n		return this.thirdPartyCookiesEnabled;\n	}\n\n	function isFrameworkReady() {\n		var isReady = true;\n		var id = this.getCustID();\n		if (isNullOrUndefined(id) || id == \"\" || id == \"0\") {\n			isReady = false;\n		}\n		return isReady;\n	}\n\n	function tryue(serviceType, duration) {\n		switch (serviceType) {\n			case CHM.CHAT_TYPES.POPUP:\n			case CHM.CHAT_TYPES.POPUP_CALL:\n				CHM.tryue(serviceType, duration);\n				break;\n			case CHM.CHAT_TYPES.C2C:\n			case CHM.CHAT_TYPES.C2CALL:\n				C2CM.tryue(serviceType, duration);\n				break;\n			case \"ALL\":\n				CHM.tryue(CHM.CHAT_TYPES.POPUP, duration);\n				CHM.tryue(CHM.CHAT_TYPES.POPUP_CALL, duration);\n				C2CM.tryue(CHM.CHAT_TYPES.C2C, duration);\n				C2CM.tryue(CHM.CHAT_TYPES.C2CALL, duration);\n				break;\n			default:\n				break;\n		}\n	}\n\n	function blockServices(services, duration) {\n		for (var service in services) {\n			tryue(services[service], duration);\n		}\n	}\n	var rule = null;\n\n	function getConstant(constantID, rule) {\n		if (rule) {\n			return rule.getConstant(constantID);\n		}\n		return constants[constantID];\n	}\n\n	function unblockServices(services) {\n		for (var service in services) {\n			unblockService(services[service]);\n		}\n	}\n\n	function unblockService(serviceType) {\n		switch (serviceType) {\n			case CHM.CHAT_TYPES.POPUP:\n			case CHM.CHAT_TYPES.POPUP_CALL:\n				CHM.unblockService(serviceType);\n				break;\n			case CHM.CHAT_TYPES.C2C:\n			case CHM.CHAT_TYPES.C2CALL:\n				C2CM.unblockService(serviceType);\n				break;\n			case \"ALL\":\n				CHM.unblockService(CHM.CHAT_TYPES.POPUP);\n				CHM.unblockService(CHM.CHAT_TYPES.POPUP_CALL);\n				C2CM.unblockService(CHM.CHAT_TYPES.C2C);\n				C2CM.unblockService(CHM.CHAT_TYPES.C2CALL);\n				break;\n			default:\n				break;\n		}\n	}\n\n	function doBusinessRuleActionList(actionId, rule, evt) {\n		var action = BusinessRuleActionLists[actionId];\n		if (!isNullOrUndefined(action)) {\n			action(rule, evt);\n		} else {\n			log(\"Can't find BusinessRule Action List \" + actionId);\n		}\n	}\n\n	function doRuleActionList(actionId, rule, evt) {\n		var action = RuleActionLists[actionId];\n		if (!isNullOrUndefined(action)) {\n			action(rule, evt);\n		} else {\n			log(\"Can't find Rule Action List \" + actionId);\n		}\n	}\n\n	function isServiceBlocked(serviceType) {\n		switch (serviceType) {\n			case CHM.CHAT_TYPES.POPUP:\n			case CHM.CHAT_TYPES.POPUP_CALL:\n				return CHM.isBlocked(serviceType);\n			case CHM.CHAT_TYPES.C2C:\n			case CHM.CHAT_TYPES.C2CALL:\n				return C2CM.isBlocked(serviceType);\n			case \"ANY\":\n				return CHM.isAnyBlocked() || C2CM.isAnyBlocked();\n			default:\n				return false;\n		}\n	}\n\n	function createFloatingDiv(_id, _x, _y, _w, _h) {\n		try {\n			var obj = document.createElement('div');\n			obj.style.position = \"absolute\";\n			obj.style.width = _w ? _w : 0;\n			obj.style.height = _h ? _h : 0;\n			obj.style.left = _x ? _x + \"px\" : 0;\n			obj.style.top = _y ? _y + \"px\" : 0;\n			obj.style.zIndex = 99;\n			obj.style.display = \"none\";\n			obj.style.padding = 0;\n			obj.style.margin = 0;\n			obj.id = _id;\n			document.getElementsByTagName(\"body\")[0].appendChild(obj);\n		} catch (E) {\n			this.debug(\"Could not create div element.\");\n		}\n		return document.getElementById(_id);\n	}\n\n	function createHiddenIFrame(_id, _x, _y, _w, _h) {\n		try {\n			var obj = document.createElement('iframe');\n			obj.style.position = \"absolute\";\n			obj.style.width = _w ? _w : 0;\n			obj.style.height = _h ? _h : 0;\n			obj.style.left = _x ? _x + \"px\" : 0;\n			obj.style.top = _y ? _y + \"px\" : 0;\n			obj.style.zIndex = 99;\n			obj.style.display = \"none\";\n			obj.style.padding = 0;\n			obj.style.margin = 0;\n			obj.id = _id;\n			obj.name = _id;\n			return obj;\n		} catch (E) {\n			this.debug(\"Could not create div element.\");\n		}\n		return null;\n	}\n\n	function wasSaleAction() {\n		try {\n			var par = PM.getVar(\"saleState\", null).getValue();\n			var con = getConstant(\"SALE_STATE_CONVERTED\", null);\n			return par == con;\n		} catch (e) {}\n		return false;\n	}\n\n	function executeCustomCommand(params) {\n		if (!isNullOrUndefined(params)) {\n			try {\n				params = params.replace(/\\({/g, \"{\").replace(/}\\)/g, \"}\");\n				var inParams = MI8.JSON.parse(params);\n				var cmdType = inParams.cmdType;\n				var cmdParam = inParams.cmdParam;\n				switch (cmdType) {\n					case 'block-service':\n						tryue(cmdParam.serviceType, cmdParam.period);\n						break;\n					default:\n						log(\"Unknown command \" + cmdType + \", parameters : \" + cmdParam);\n				}\n			} catch (ex) {\n				log(\"Error execute command \" + params + \", \" + ex);\n			}\n		}\n	}\n\n	function initXD() {\n		CM.init();\n		CM.requestCookie(\"GCBR3\", this.siteID);\n	}\n\n	function parseCookieData(data) {\n		var retval = {};\n		for (var name in data) {\n			var cval = data[name];\n			if ( !! cval) {\n				var cname = name.replace(/_\\d+$/, \"\");\n				try {\n					if (cname == \"JSESSIONID\") {\n						retval[cname] = cval;\n					} else {\n						retval[cname] = MI8.JSON.parse(cval);\n					}\n				} catch (e) {\n					var errMsg = \"Error parsing cookie: \" + e.message + \". Cookie \" + name + \"=\" + cval;\n					log(errMsg);\n					logErrorToTagServer(errMsg);\n				}\n			}\n		}\n		return retval;\n	}\n\n	function onRemoteCallback(data) {\n		var initData = MI8.JSON.parse(data);\n		var _xd = (this.xd && (CM).cookies[\"pc\"] != \"2\");\n		if ( !! initData[\"retry\"]) {\n			var inqData = {};\n			inqData[this.getID()] = {\n				xd: _xd,\n				siteID: this.getSiteID(),\n				custID: this.getCustID(),\n				retried: true\n			};\n			if (isTZRequestRequired()) inqData[this.getID()].tzID = siteTzID;\n			var strData = MI8.JSON.stringify(inqData);\n			this.callRemote(urls.initFrameworkURL, {\n				rid: this.getID(),\n				d: strData\n			});\n			return;\n		} else if (_xd && !! initData[\"3pcNotSupported\"]) {\n			log(\"Third party cookies not supported.\");\n			return;\n		}\n		var inqID = this.getID();\n		if (initData[inqID]) {\n			this.setFrameworkData(initData[inqID]);\n		} else if (!isNullOrUndefined(initData[\"siteTzOffset\"])) {\n			log(\"Received site timezone offset from server: \" + initData[\"siteTzOffset\"] + \"ms\");\n			this.setFrameworkData(initData);\n		}\n		PM.fireDataReady();\n		this.start();\n	}\n\n	function IFrameProxyCallback(data) {\n		data = decodeURIComponent(data);\n		if (data != \"\") {\n			CM.isPersistentCookiesEnabled = true;\n		} else {\n			CM.isPersistentCookiesEnabled = false;\n		}\n		data = parseCookieData(CM._getCookies(data));\n		CM.setXDCookies(data);\n		this.agrtyer();\n		if (resources['vital']) {\n			log(\"Sync Sale Status: \" + resources['vital'].read('_ss'));\n		}\n		var inqID = this.getID();\n		var inqData = {};\n		inqData[inqID] = {\n			xd: this.xd,\n			siteID: this.getSiteID(),\n			custID: this.getCustID()\n		};\n		if (isTZRequestRequired()) inqData[inqID].tzID = siteTzID;\n		var strData = MI8.JSON.stringify(inqData);\n		this.callRemote(urls.initFrameworkURL, {\n			rid: this.getID(),\n			d: strData\n		});\n	}\n\n	function init() {\n		if (this.initialized) {\n			return;\n		};\n		var inqData = {};\n		var inqID = this.getID();\n		PM.addListener(this);\n		if (this.xd) {\n			CM.init();\n			CM.requestCookie(\"GCBR3\", this.siteID);\n		} else {\n			if (CM47.isSessionCookiesAllowed()) {\n				CM.convertCookies();\n				this.load();\n				if (!this.isFrameworkReady()) {\n					inqData[inqID] = {\n						xd: this.xd,\n						siteID: this.getSiteID(),\n						custID: this.getCustID()\n					};\n					if (isTZRequestRequired()) inqData[inqID].tzID = siteTzID;\n					var strData = MI8.JSON.stringify(inqData);\n					this.callRemote(urls.initFrameworkURL, {\n						rid: this.getID(),\n						d: strData\n					});\n				} else if (isTZRequestRequired()) {\n					log(\"Requesting site timezone offset\");\n					this.callRemote(urls.getSiteTzOffsetURL, {\n						tzID: siteTzID\n					});\n				} else {\n					PM.fireDataReady();\n					this.start();\n				}\n			}\n		}\n		exposeCustomerApi();\n	}\n\n	function prepareDataToSend(data) {\n		if (!data) {\n			return data;\n		}\n		if (typeOf(data) == \"array\") {\n			try {\n				if (data.length > 0) {\n					var elem = data[0];\n					if (elem.key) {\n						var out = Array.prepareMapToSerialize(data);\n						return MI8.JSON.stringify(out)\n					}\n				}\n				return MI8.JSON.stringify(data)\n			} catch (e) {\n				log(e);\n			}\n		}\n		return data;\n	}\n\n	function main() {\n		if (true) {\n			try {\n				var elm = top.document.getElementById(\"doesNotExist\");\n			} catch (e) {\n				return;\n			}\n		}\n		MI8.prepare(this).im13(MI8.Observable).im13(MI8.FM2);\n		this.im13(MI8.Persistable).im13(MI8.XJA3).im13(MI8.RC54);\n		this._frameworkModule(\"INQ\");\n		this._observable();\n		this.init();\n	}\n	var dataReady = false;\n	var custID = null;\n	var custIP = null;\n	var win = self.parent;\n	var doc = win.document;\n	var urls = {\n		baseURL: rte(\"https://guthyrenker.inq.com/tagserver\"),\n		vanityURL: rte(\"https://guthyrenker.inq.com\"),\n		chatRouterVanityDomain: rte(\"https://chatrouterv3.inq.com\"),\n		initFrameworkURL: rte(\"https://guthyrenker.inq.com/tagserver/init/initFramework.js\"),\n		getSiteTzOffsetURL: rte(\"https://guthyrenker.inq.com/tagserver/init/getSiteTzOffset.js\"),\n		cookieGetURL: rte(\"https://guthyrenker.inq.com/tagserver/cookie/getServerCookie.js\"),\n		cookieSetURL: rte(\"https://guthyrenker.inq.com/tagserver/cookie/setDelta.js\"),\n		cookieClearAllURL: rte(\"https://guthyrenker.inq.com/tagserver/cookie/clearAllServerCookies\"),\n		cookieClearOneURL: rte(\"https://guthyrenker.inq.com/tagserver/cookie/clearOneServerCookie\"),\n		requestC2CImageURL: rte(\"https://guthyrenker.inq.com/tagserver/launch/requestC2CImage.js\"),\n		requestChatLaunchURL: rte(\"https://guthyrenker.inq.com/tagserver/launch/requestChatLaunch.js\"),\n		agentsAvailabilityCheckURL: rte(\"https://guthyrenker.inq.com/tagserver/launch/agentsAvailable.js\"),\n		loggingURL: rte(\"https://guthyrenker.inq.com/tagserver/logging/logline\"),\n		logDataURL: rte(\"https://guthyrenker.inq.com/tagserver/logging/logdata\"),\n		mediaRootURL: rte(\"http://mediav3.inq.com\"),\n		mediaBaseURL: rte(\"http://mediav3.inq.com/media\"),\n		mediaSiteURL: rte(\"http://mediav3.inq.com/media/sites/149\"),\n		cobrowseURL: rte(\"http://cobrowse.inq.com\"),\n		xFormsDomain: rte(\"formsv3.inq.com\")\n	};\n	var c2cPageElementIDs = {\n		\"39\": \"inqC2CImgContainer\",\n		\"40\": \"inqC2CImgContainer\",\n		\"41\": \"inqC2CImgContainer\",\n		\"42\": \"inqC2CImgContainer\",\n		\"43\": \"inqC2CImgContainer\",\n		\"44\": \"inqC2CImgContainer\",\n		\"45\": \"inqC2CImgContainer\",\n		\"46\": \"inqC2CImgContainer\",\n		\"47\": \"inqC2CImgContainer\",\n		\"48\": \"inqC2CImgContainer\",\n		\"148\": \"inqC2CImgContainer\",\n		\"309\": \"inqC2CImgContainer\",\n		\"370\": \"inqC2CImgContainer\",\n		\"377\": \"inqC2C2ImgContainer\",\n		\"378\": \"inqC2C3ImgContainer\",\n		\"379\": \"inqC2C4ImgContainer\",\n		\"382\": \"inqC2CImgContainer\",\n		\"383\": \"inqC2C2ImgContainer\",\n		\"384\": \"inqC2C3ImgContainer\",\n		\"385\": \"inqC2C4ImgContainer\",\n		\"403\": \"inqC2CImgContainer\",\n		\"404\": \"inqC2C2ImgContainer\",\n		\"405\": \"inqC2C3ImgContainer\",\n		\"406\": \"inqC2C4ImgContainer\",\n		\"5000455\": \"inqC2C2ImgContainer\",\n		\"5000456\": \"inqC2C3ImgContainer\",\n		\"5000457\": \"inqC2C4ImgContainer\",\n		\"9000503\": \"inqC2CImgContainer\",\n		\"17000528\": \"inqC2CImgContainer\",\n		\"23000537\": \"inqC2CImgContainer11\",\n		\"23000538\": \"inqC2C2ImgContainer\",\n		\"23000539\": \"inqC2C3ImgContainer\",\n		\"23000540\": \"inqC2C4ImgContainer\",\n		\"23000541\": \"inqC2C5ImgContainer\",\n		\"23000542\": \"inqC2C6ImgContainer\",\n		\"23000543\": \"inqC2C7ImgContainer\",\n		\"23000544\": \"inqC2C8ImgContainer\",\n		\"23000545\": \"inqC2C9ImgContainer\",\n		\"23000546\": \"inqC2C10ImgContainer\"\n	};\n	C2C.setC2CPageElementIDs(c2cPageElementIDs);\n	var PM = X4334rtf.getInstance(true);\n	var CM = PM.getCookieMgr();\n	var C2CM = new X43(\"C2CM\");\n	var EVM = new EMRTQ5(\"EVM\");\n	var ROM = new RemoteOpsMgr(\"ROM\", {});\n	var LDM = new G3RE12(\"LDM\", {\n		pages: {\n			3846: {\n				id: 3846,\n				mID: \"Proactiv_Home_Page\",\n				re: \"(.*)proactiv\\.com\\/\"\n			},\n			3847: {\n				id: 3847,\n				mID: \"Proactiv_System_Step_System\",\n				re: \"(.*)proactivsystem\\\\.php(.*)|(.*)\\\\/about-proactiv\\\\/proactiv-system(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3848: {\n				id: 3848,\n				mID: \"Proactiv_System_About_Proactiv\",\n				re: \"(.*)\\/system\\.php(.*)|(.*)\\/about-proactiv\\/about-proactiv(.*)default(.*)pg\\.html(.*)\"\n			},\n			3849: {\n				id: 3849,\n				mID: \"Proactiv_System_Dermatologist\",\n				re: \"(.*)dermatologists\\\\.php(.*)|(.*)\\\\/about-proactiv\\\\/dermatologists(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3850: {\n				id: 3850,\n				mID: \"Proactiv_System_Dermatologist_Rodan\",\n				re: \"(.*)dr-katie-rodan\\\\.php(.*)|(.*)\\\\/about-proactiv\\\\/dr-katie-rodan(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3851: {\n				id: 3851,\n				mID: \"Proactiv_System_Dermatologist_Fields\",\n				re: \"(.*)dr-kathy-fields\\\\.php(.*)|(.*)\\\\/about-proactiv\\\\/dr-kathy-fields(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3852: {\n				id: 3852,\n				mID: \"Proactiv_System_Money_Back\",\n				re: \"(.*)guarantee\\\\.php(.*)|(.*)\\\\/about-proactiv\\\\/guarantee(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3853: {\n				id: 3853,\n				mID: \"Proactiv_System_Join_Clear_Skin_Club\",\n				re: \"(.*)clearskinclub\\.php(.*)\"\n			},\n			3854: {\n				id: 3854,\n				mID: \"Proactiv_System_Share_With_Friend\",\n				re: \"(.*)tellafriend\\.php(.*)\"\n			},\n			3855: {\n				id: 3855,\n				mID: \"About_Acne_How_Acne_Happens\",\n				re: \"(.*)howacnehappens\\\\.php(.*)|(.*)\\\\/acne-information\\\\/what-causes-acne(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3856: {\n				id: 3856,\n				mID: \"About_Acne_Acne_At_Any_Age\",\n				re: \"(.*)anyage\\\\.php(.*)|(.*)\\\\/acne-information\\\\/acne-at-any-age(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3857: {\n				id: 3857,\n				mID: \"About_Acne_Acne_Myths\",\n				re: \"(.*)myths\\\\.php(.*)|(.*)\\\\/acne-information\\\\/acne-myths(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3858: {\n				id: 3858,\n				mID: \"About_Acne_Acne_Quiz\",\n				re: \"(.*)howacnehappens\\\\/quiz\\\\.php(.*)|(.*)\\\\/acne-information\\\\/acne-quiz(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3859: {\n				id: 3859,\n				mID: \"About_Acne_Face_Fitness\",\n				re: \"(.*)facefitness\\\\.php(.*)|(.*)\\\\/acne-information\\\\/face-fitness(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3860: {\n				id: 3860,\n				mID: \"About_Acne_Types_Of_Acne\",\n				re: \"(.*)types\\\\.php(.*)|(.*)\\\\/acne-information\\\\/types-of-acne(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3861: {\n				id: 3861,\n				mID: \"About_Acne_How_Proactiv_Works\",\n				re: \"(.*)howproactivworks\\\\.php(.*)|(.*)\\\\/about-proactiv\\\\/how-proactiv-works(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3862: {\n				id: 3862,\n				mID: \"How_To_Use_It\",\n				re: \"(.*)howtouse\\\\.php(.*)|(.*)\\\\/acne-treatment\\\\/how-to-use(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3863: {\n				id: 3863,\n				mID: \"How_To_Use_It_Enhance_Your_System\",\n				re: \"(.*)enhancements\\.php(.*)\"\n			},\n			3864: {\n				id: 3864,\n				mID: \"Real_Stories\",\n				re: \"(.*)stories\\.php(.*)\"\n			},\n			3865: {\n				id: 3865,\n				mID: \"Real_Stories_Before_And_After_Gallery\",\n				re: \"(.*)customer\\\\.php(.*)|(.*)\\\\/best-acne-treatment\\\\/before-and-after-gallery(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3866: {\n				id: 3866,\n				mID: \"Real_Stories_Tell_Us_Your_Story\",\n				re: \"(.*)\\/tellus2\\.php(.*)\"\n			},\n			3867: {\n				id: 3867,\n				mID: \"Celebrity_Spotlight\",\n				re: \"(.*)\\/(best-acne-treatment|celebrity)\\/avril-lavigne(.*)|(.*)\\/celebrity\\.php(.*)\"\n			},\n			3868: {\n				id: 3868,\n				mID: \"Celebrity_Spotlight_Jessica_Simpson\",\n				re: \"(.*)jessica-simpson\\.php(.*)\"\n			},\n			3869: {\n				id: 3869,\n				mID: \"Celebrity_Spotlight_Vanessa_Williams\",\n				re: \"(.*)vanessa-williams\\.php(.*)\"\n			},\n			3870: {\n				id: 3870,\n				mID: \"Celebrity_Spotlight_Jennifer_L_Hewitt\",\n				re: \"(.*)jennifer-love-hewitt\\\\.php(.*)|(.*)\\\\/best-acne-treatment\\\\/jennifer-love-hewitt(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3871: {\n				id: 3871,\n				mID: \"Celebrity_Spotlight_Melissa_C_Egan\",\n				re: \"(.*)melissa-claire-egan\\\\.php(.*)|(.*)\\\\/best-acne-treatment\\\\/melissa-claire-egan(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			3872: {\n				id: 3872,\n				mID: \"Celebrity_Spotlight_Kevin_Kasper\",\n				re: \"(.*)kevin-kasper\\.php(.*)\"\n			},\n			3873: {\n				id: 3873,\n				mID: \"Celebrity_Spotlight_Serena_Williams\",\n				re: \"(.*)serena-williams\\.php(.*)\"\n			},\n			3874: {\n				id: 3874,\n				mID: \"Customer_Care\",\n				re: \"(.*)customercare\\.php(.*)\"\n			},\n			3875: {\n				id: 3875,\n				mID: \"Customer_Care_Product_Questions\",\n				re: \"(.*)productquestions\\.php(.*)\"\n			},\n			3876: {\n				id: 3876,\n				mID: \"Customer_Care_Medical_Questions\",\n				re: \"(.*)medicalquestions\\.php(.*)\"\n			},\n			3877: {\n				id: 3877,\n				mID: \"Customer_Care_Product_Usage\",\n				re: \"(.*)usage\\.php(.*)\"\n			},\n			3878: {\n				id: 3878,\n				mID: \"Clear_Skin_Club\",\n				re: \"(.*)clearskinclub\\.php(.*)\"\n			},\n			3879: {\n				id: 3879,\n				mID: \"Customer_Care_Purchasing_Returns\",\n				re: \"(.*)purchasing-and-returns\\.php(.*)\"\n			},\n			3880: {\n				id: 3880,\n				mID: \"Customer_Care_My_Account\",\n				re: \"(.*)myaccount\\.php(.*)\"\n			},\n			3881: {\n				id: 3881,\n				mID: \"Customer_Care_Security_Privacy\",\n				re: \"(.*)security-privacy\\.php(.*)\"\n			},\n			3882: {\n				id: 3882,\n				mID: \"Customer_Care_Technical_Questions\",\n				re: \"(.*)technicalquestions\\.php(.*)\"\n			},\n			3883: {\n				id: 3883,\n				mID: \"Pro-O-Glossary\",\n				re: \"(.*)\\\\/customer-care\\\\/glossary(.*)default(.*)pg\\\\.html\"\n			},\n			3884: {\n				id: 3884,\n				mID: \"Customer_Care_About_Us\",\n				re: \"(.*)aboutus\\.php(.*)\"\n			},\n			3885: {\n				id: 3885,\n				mID: \"Customer_Care_Contact_Us\",\n				re: \"do not match\"\n			},\n			3886: {\n				id: 3886,\n				mID: \"My_Account\",\n				re: \"(.*)myacct(.*)\"\n			},\n			3887: {\n				id: 3887,\n				mID: \"My_Account_Login\",\n				re: \"(.*)\\/login(.*)\"\n			},\n			3888: {\n				id: 3888,\n				mID: \"Create_Web_Account\",\n				re: \"(.*)register(.*)pactvid=53a9fc8539c54228f7fd3b1486a77abf\"\n			},\n			3889: {\n				id: 3889,\n				mID: \"Order_Your_System\",\n				re: \"(.*)select(.*)\\.php(.*)|(.*)\\/(S|s)elect-(A|a)-(S|s)ystem\\/order(.*)default(.*)pg\\.html(.*)\"\n			},\n			3890: {\n				id: 3890,\n				mID: \"Order_Your_System_How_Do_I_Choose\",\n				re: \"(.*)order\\/quiz\\.php(.*)\"\n			},\n			3892: {\n				id: 3892,\n				mID: \"Order_Your_System_Shopping_Cart\",\n				re: \"(.*)\\\\/proactiv08\\\\/scp\\\\/\\\\?new=(.*)|(.*)\\\\/(COCart-AddProduct|order\\\\/basket\\\\.php)(.*)\"\n			},\n			3893: {\n				id: 3893,\n				mID: \"Order_Your_System_Check_Out\",\n				re: \"(.*)checkout\\.php(.*)\"\n			},\n			3894: {\n				id: 3894,\n				mID: \"Order_Your_System_Special_Offer\",\n				re: \"(.*)interstitial\\.php(.*)\"\n			},\n			3896: {\n				id: 3896,\n				mID: \"Order_Your_System_Review_Order\",\n				re: \"(.*)preview\\.php(.*)\"\n			},\n			3898: {\n				id: 3898,\n				mID: \"Order_Your_System_Confirmation\",\n				re: \"(.*)confirm\\.php(.*)|(.*)\\/proactiv08\\/scp\\/(.*)pactvid(.*)PADcart\"\n			},\n			4022: {\n				id: 4022,\n				mID: \"persistent\",\n				re: \"(.*)inqChat\\.html(.*)\"\n			},\n			4023: {\n				id: 4023,\n				mID: \"My_Account_Register\",\n				re: \"(.*)register(.*)\"\n			},\n			4075: {\n				id: 4075,\n				mID: \"POC\",\n				re: \"(.*)test\\.html(.*)\"\n			},\n			4319: {\n				id: 4319,\n				mID: \"Quiz_Results_Sensitive\",\n				re: \"(.*)\\/select(.*)php(.*)sensitive(.*)\"\n			},\n			4320: {\n				id: 4320,\n				mID: \"Quiz_Results_Combination\",\n				re: \"(.*)\\/select(.*)\\.php(.*)combination(.*)\"\n			},\n			4321: {\n				id: 4321,\n				mID: \"Quiz_Results_Normal\",\n				re: \"(.*)\\/select(.*)\\.php(.*)normal(.*)\"\n			},\n			4322: {\n				id: 4322,\n				mID: \"Quiz_Results_Oily\",\n				re: \"(.*)\\/select(.*)\\.php(.*)oily(.*)\"\n			},\n			4323: {\n				id: 4323,\n				mID: \"Quiz_Results_Dry\",\n				re: \"(.*)\\/select(.*)\\.php(.*)dry(.*)\"\n			},\n			4324: {\n				id: 4324,\n				mID: \"Kiosk_Locator\",\n				re: \"(.*)\\\\/kiosklocator\\\\.php(.*)|(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/KioskLocator-Locate(.*)\"\n			},\n			4327: {\n				id: 4327,\n				mID: \"Celebrity_Spotlight_Ryan_Sheckler\",\n				re: \"(.*)ryan-sheckler\\.php(.*)\"\n			},\n			4334: {\n				id: 4334,\n				mID: \"Celebrity_Spotlight_Chrishell_Stause\",\n				re: \"(.*)chrishell-stause\\\\.php(.*)|(.*)\\\\/best-acne-treatment\\\\/chrishell-stause(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			4335: {\n				id: 4335,\n				mID: \"Celebrity_Spotlight_Jennifer_Berry\",\n				re: \"(.*)jennifer-berry\\\\.php(.*)|(.*)\\\\/best-acne-treatment\\\\/jennifer-berry,default,pg\\\\.html(.*)\"\n			},\n			4852: {\n				id: 4852,\n				mID: \"Pro-O-Popup\",\n				re: \"Pro-O-Popup\"\n			},\n			201194: {\n				id: 201194,\n				mID: \"Order_Your_System_Shopping_Cart_2Step\",\n				re: \"NOT USED  (.*)\\/proactiv08\\/scp\\/(.*)new(.*)\"\n			},\n			201195: {\n				id: 201195,\n				mID: \"Order_Your_System_Confirmation2\",\n				re: \"Do Not Match\"\n			},\n			201524: {\n				id: 201524,\n				mID: \"Pro_AFF_SpecialOffer\",\n				re: \"(.*)http:\\/\\/www\\.proactiv\\.com\\/specialoffer\\/(.*)\"\n			},\n			201685: {\n				id: 201685,\n				mID: \"My_Account_Successful_Login\",\n				re: \"(.*)loggedin\\.php(.*)\"\n			},\n			201939: {\n				id: 201939,\n				mID: \"Order_Your_System_Select_Gift\",\n				re: \"(.*)\\/order\\/select_gift\\.php(.*)\"\n			},\n			201941: {\n				id: 201941,\n				mID: \"Pro_Select-BuyNow\",\n				re: \"(.*)\\/order\\/select_buynow\\.php(.*)\"\n			},\n			202044: {\n				id: 202044,\n				mID: \"Proactiv_ActivMember\",\n				re: \"(.*)\\/activmember\\.php(.*)\"\n			},\n			202045: {\n				id: 202045,\n				mID: \"Proactiv_ActivMember-Products\",\n				re: \"(.*)\\\\/activmember-products\\\\.php(.*)|(.*)\\\\/customer-care\\\\/activmember-products(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			202046: {\n				id: 202046,\n				mID: \"Proactiv_Wedding\",\n				re: \"(.*)\\/wedding\\.php(.*)\"\n			},\n			203180: {\n				id: 203180,\n				mID: \"Pro-O-Select-for599\",\n				re: \"(.*)order\\/select_for599\\.php(.*)\"\n			},\n			203209: {\n				id: 203209,\n				mID: \"Pro-O-Diagnostic-Click-To-Chat-Green64\",\n				re: \"dont match\"\n			},\n			203210: {\n				id: 203210,\n				mID: \"Pro-O-Diagnostic-Click-To-Call-Green63\",\n				re: \"dont match\"\n			},\n			203211: {\n				id: 203211,\n				mID: \"Pro-O-Diagnostic-Click-To-Chat-Grey43\",\n				re: \"dont match\"\n			},\n			203212: {\n				id: 203212,\n				mID: \"Pro-O-Diagnostic-Click-To-Call-Grey42\",\n				re: \"dont match\"\n			},\n			203213: {\n				id: 203213,\n				mID: \"Pro-O-Diagnostic-Click-To-Chat-Green53\",\n				re: \"dont match\"\n			},\n			203214: {\n				id: 203214,\n				mID: \"Pro-O-Diagnostic-Click-To-Call-Green52\",\n				re: \"dont match\"\n			},\n			203215: {\n				id: 203215,\n				mID: \"Pro-O-Diagnostic-Click-To-Chat-Purple23\",\n				re: \"dont match\"\n			},\n			203216: {\n				id: 203216,\n				mID: \"Pro-O-Diagnostic-Click-To-Call-Purple22\",\n				re: \"dont match\"\n			},\n			203217: {\n				id: 203217,\n				mID: \"Pro-O-Diagnostic-Click-To-Chat-Purple33\",\n				re: \"dont match\"\n			},\n			203218: {\n				id: 203218,\n				mID: \"Pro-O-Diagnostic-Click-To-Call-Purple32\",\n				re: \"dont match\"\n			},\n			203219: {\n				id: 203219,\n				mID: \"Pro-O-Diagnostic-Click-To-Chat-Purple45\",\n				re: \"dont match\"\n			},\n			203220: {\n				id: 203220,\n				mID: \"Pro-O-Diagnostic-Click-To-Call-Purple44\",\n				re: \"dont match\"\n			},\n			203707: {\n				id: 203707,\n				mID: \"Proactiv_Advanced\",\n				re: \"(.*)\\/advanced\\/(.*)\"\n			},\n			203757: {\n				id: 203757,\n				mID: \"Pro_CareNC_Acct\",\n				re: \"(.*)\\/acct(.*)\"\n			},\n			203758: {\n				id: 203758,\n				mID: \"My_Account_ForgotPassword\",\n				re: \"(.*)\\/forgot_password(.*)\"\n			},\n			203759: {\n				id: 203759,\n				mID: \"Pro_CareNC_Benefits\",\n				re: \"(.*)\\/care_benefits(.*)\"\n			},\n			203760: {\n				id: 203760,\n				mID: \"Pro_CareNC_Community\",\n				re: \"(.*)\\/community(.*)\"\n			},\n			203761: {\n				id: 203761,\n				mID: \"Pro_CareNC_Catalog\",\n				re: \"(.*)\\/clubcatalog(.*)\"\n			},\n			203763: {\n				id: 203763,\n				mID: \"GuthyRenkerStore_Home\",\n				re: \"(.*)guthyrenkerstore\\.com\\/\"\n			},\n			203766: {\n				id: 203766,\n				mID: \"Pro_CareNC_Success\",\n				re: \"(.*)\\\\/success\\\\/(.*)|(.*)\\\\/best-acne-treatment\\\\/grbv(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			203767: {\n				id: 203767,\n				mID: \"Pro_CareNC_SiteMap\",\n				re: \"(.*)\\\\/sitemap(.*)|(.*)\\\\/site-map\\\\/site-map(.*)default(.*)pg\\\\.html(.*)\"\n			},\n			203768: {\n				id: 203768,\n				mID: \"Pro_CareNC_CustomerCare\",\n				re: \"(.*)\\/customercare(.*)\"\n			},\n			9204665: {\n				id: 9204665,\n				mID: \"Pro-AboutProactiv-YouTube\",\n				re: \"(.*)\\\\/about-proactiv\\\\/about-proactiv(.*)default(.*)pg\\\\.html(.*)PAChatYouTube(.*)\"\n			},\n			11204834: {\n				id: 11204834,\n				mID: \"UNUSED\",\n				re: \"\"\n			},\n			15205131: {\n				id: 15205131,\n				mID: \"Pro-CareSC-SCA-Chat-Landing-Page\",\n				re: \"(.*)proactiv(.*)\\\\/SCAchat(.*)\"\n			},\n			15205132: {\n				id: 15205132,\n				mID: \"Pro-CareSC-AcneSCALandingPage\",\n				re: \"(.*)acne(.*)\\\\/SCAchat(.*)\"\n			},\n			22205248: {\n				id: 22205248,\n				mID: \"Pro-I-Care-ShippingInfo\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/COShipping-Start(.*)\"\n			},\n			22205249: {\n				id: 22205249,\n				mID: \"Pro-I-Care-Billing\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/COBilling-Start(.*)\"\n			},\n			22205250: {\n				id: 22205250,\n				mID: \"Pro-I-Care-PlaceOrder\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/CORtnOrderSummary-Submit(.*)\"\n			},\n			22205251: {\n				id: 22205251,\n				mID: \"Pro-O-Care-ForgotPassword\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Account-PasswordResetDialog(.*)\"\n			},\n			22205252: {\n				id: 22205252,\n				mID: \"Pro-O-Care-ChangePassword\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Account-ChangePassword(.*)\"\n			},\n			22205253: {\n				id: 22205253,\n				mID: \"Pro-O-Care-CreateAccount\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Account-StartRegister(.*)\"\n			},\n			22205254: {\n				id: 22205254,\n				mID: \"Pro-O-Care-PaymentInfo\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/PaymentInstruments(.*)\"\n			},\n			22205255: {\n				id: 22205255,\n				mID: \"Pro-O-Care-MyAcct\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Account-Show(.*)\"\n			},\n			22205256: {\n				id: 22205256,\n				mID: \"Pro-O-Care-AcctDetails\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Account-EditProfile(.*)\"\n			},\n			22205257: {\n				id: 22205257,\n				mID: \"Pro-O-Care-AddressBook\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Address-List(.*)\"\n			},\n			22205258: {\n				id: 22205258,\n				mID: \"Pro-O-Care-AboutYou\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/DisplayDashboard-AboutYou(.*)\"\n			},\n			22205259: {\n				id: 22205259,\n				mID: \"Pro-O-Care-OrderHistory\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/OrderHistory-History(.*)\"\n			},\n			22205260: {\n				id: 22205260,\n				mID: \"Pro-O-SearchResults\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Search-Show(.*)\"\n			},\n			22205261: {\n				id: 22205261,\n				mID: \"Pro-O-Care-ProductDetails\",\n				re: \"\"\n			},\n			22205264: {\n				id: 22205264,\n				mID: \"Pro-O-Care-ShoppingCart\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Cart-Show(.*)\"\n			},\n			22205265: {\n				id: 22205265,\n				mID: \"Pro-O-Care-CommunityConversations\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Community-Conversations(.*)\"\n			},\n			22205266: {\n				id: 22205266,\n				mID: \"Pro-O-Care-CommunityProfile\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Community-Profile(.*)\"\n			},\n			22205267: {\n				id: 22205267,\n				mID: \"Pro-O-Care-SubmitTestimonial\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Testimony-Create(.*)\"\n			},\n			22205270: {\n				id: 22205270,\n				mID: \"Pro-O-AboutProactiv\",\n				re: \"(.*)\\\\/why-proactiv\\\\/about-proactiv1,default,pg\\\\.html(.*)\"\n			},\n			22205271: {\n				id: 22205271,\n				mID: \"Pro-O-Overview\",\n				re: \"(.*)\\\\/why-proactiv\\\\/overview,default,pg\\\\.html(.*)\"\n			},\n			22205272: {\n				id: 22205272,\n				mID: \"Pro-O-HowProactivWorks\",\n				re: \"(.*)\\\\/why-proactiv\\\\/how-it-works,default,pg\\\\.html(.*)\"\n			},\n			22205273: {\n				id: 22205273,\n				mID: \"Pro-O-StepSystem\",\n				re: \"(.*)\\\\/why-proactiv\\\\/3-step-system,default,pg\\\\.html(.*)\"\n			},\n			22205274: {\n				id: 22205274,\n				mID: \"Pro-O-ProactivPromise\",\n				re: \"(.*)\\\\/why-proactiv\\\\/proactiv-system1,default,pg\\\\.html(.*)\"\n			},\n			22205275: {\n				id: 22205275,\n				mID: \"Pro-O-FromDayOne\",\n				re: \"(.*)\\\\/why-proactiv\\\\/what-to-expect(.*)default(.*)pg\\\\.html\"\n			},\n			22205276: {\n				id: 22205276,\n				mID: \"Pro-O-HowToUse\",\n				re: \"(.*)\\\\/why-proactiv\\\\/How-to-use,default,pg\\\\.html(.*)\"\n			},\n			22205277: {\n				id: 22205277,\n				mID: \"Pro-O-ActiveMemberBenefits\",\n				re: \"(.*)\\\\/(why-proactiv\\\\/expert-support|why-proactiv\\\\/your-community|why-proactiv\\\\/guaranteed-convenience|why-proactiv\\\\/gift-and-savings),default,pg\\\\.html(.*)\"\n			},\n			22205278: {\n				id: 22205278,\n				mID: \"Pro-O-AboutAcne\",\n				re: \"(.*)\\\\/about-acne\\\\/about-acne,default,pg\\\\.html(.*)\"\n			},\n			22205279: {\n				id: 22205279,\n				mID: \"Pro-O-HowAcneHappens\",\n				re: \"(.*)\\\\/about-acne\\\\/what-causes-acne1,default,pg\\\\.html(.*)\"\n			},\n			22205281: {\n				id: 22205281,\n				mID: \"Pro-O-TypesOfAcne\",\n				re: \"(.*)\\\\/about-acne\\\\/types-of-acne1,default,pg\\\\.html(.*)\"\n			},\n			22205285: {\n				id: 22205285,\n				mID: \"Pro-O-TeenageAcne\",\n				re: \"(.*)\\\\/about-acne\\\\/teenage-acne,default,pg\\\\.html(.*)\"\n			},\n			22205287: {\n				id: 22205287,\n				mID: \"Pro-O-AcneMyths\",\n				re: \"(.*)\\\\/why-proactiv\\\\/acne-myths1,default,pg\\\\.html(.*)\"\n			},\n			22205289: {\n				id: 22205289,\n				mID: \"Pro-O-FaceFitness\",\n				re: \"(.*)\\\\/why-proactiv\\\\/face-fitness1,default,pg\\\\.html(.*)\"\n			},\n			22205291: {\n				id: 22205291,\n				mID: \"Pro-O-SuccessStories\",\n				re: \"(.*)\\\\/get-advice\\\\/success-stories,default,pg\\\\.html(.*)\"\n			},\n			22205297: {\n				id: 22205297,\n				mID: \"Pro-O-CelebrityListings\",\n				re: \"(.*)\\\\/get-advice\\\\/celebritySpotlight,default,pg\\\\.html(.*)\"\n			},\n			22205299: {\n				id: 22205299,\n				mID: \"Pro-O-CelebrityStory\",\n				re: \"(.*)\\\\/celeb-spotlight-(.*),default,pg\\\\.html(.*)\"\n			},\n			22205305: {\n				id: 22205305,\n				mID: \"Pro-O-RealStories\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/Retngrbv(.*),default,pg\\\\.html(.*)\"\n			},\n			22205306: {\n				id: 22205306,\n				mID: \"Pro-O-StoryDetail\",\n				re: \"(.*)\\\\/why-(proactiv|proactive)\\\\/real-story-detail,default,pg\\\\.html(.*)\"\n			},\n			22205307: {\n				id: 22205307,\n				mID: \"Pro-O-Care-YourStory\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Bazaarvoice-SubmissionContainer\\\\?(.*)bvcontenttype=STORY_SUBMISSION(.*)\"\n			},\n			22205308: {\n				id: 22205308,\n				mID: \"Pro-O-Testimonials\",\n				re: \"(.*)\\\\/All-Testimonial\\\\/allTestimonials,default,pg\\\\.html(.*)\"\n			},\n			22205309: {\n				id: 22205309,\n				mID: \"Pro-O-TestimonialDetail\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Community-Testimonial(.*)\"\n			},\n			22205310: {\n				id: 22205310,\n				mID: \"Pro-O-AdviseLandingPage\",\n				re: \"(.*)\\\\/Get-Advice\\\\/getadvice,default,pg\\\\.html(.*)\"\n			},\n			22205311: {\n				id: 22205311,\n				mID: \"Pro-O-ExpertAdvise\",\n				re: \"(.*)\\\\/Skin-Care-Advisors\\\\/SkinCareAdvisors,default,pg\\\\.html(.*)\"\n			},\n			22205312: {\n				id: 22205312,\n				mID: \"Pro-O-Rodan_Fields_Bio\",\n				re: \"(.*)\\\\/OurDermatologists\\\\/OurDermatologists,default,pg\\\\.html(.*)\"\n			},\n			22205313: {\n				id: 22205313,\n				mID: \"Pro-O-Care-ProductCategories\",\n				re: \"(.*)default,sc\\.html(.*)\"\n			},\n			22205314: {\n				id: 22205314,\n				mID: \"Pro-O-Care-WriteReview\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Bazaarvoice-SubmissionContainer\\\\?(.*)bvcontenttype=REVIEW_SUBMISSION(.*)\"\n			},\n			22205315: {\n				id: 22205315,\n				mID: \"Pro-O-GetAdvise\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Page-Show\\\\?cid=retention-getAdvice\"\n			},\n			22205316: {\n				id: 22205316,\n				mID: \"Pro-O-SendTestimonial\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Testimony-Send(.*)\"\n			},\n			22205322: {\n				id: 22205322,\n				mID: \"Pro-O-AskQuestion\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Bazaarvoice-SubmissionContainer\\\\?(.*)bvcontenttype=QUESTION_SUBMISSION\"\n			},\n			22205323: {\n				id: 22205323,\n				mID: \"Pro-O-AnswerQuestion\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Bazaarvoice-SubmissionContainer\\\\?(.*)bvcontenttype=ANSWER_SUBMISSION\"\n			},\n			22205334: {\n				id: 22205334,\n				mID: \"Pro-O-AdultsWithAcne\",\n				re: \"(.*)\\\\/why-proactiv\\\\/adults-with-acne,default,pg\\\\.html(.*)\"\n			},\n			22205335: {\n				id: 22205335,\n				mID: \"Pro-O-ParentsCanHelp\",\n				re: \"(.*)\\\\/why-proactiv\\\\/parents-can-help,default,pg\\\\.html(.*)\"\n			},\n			22205337: {\n				id: 22205337,\n				mID: \"Pro-O-OrderYourSystem\",\n				re: \"(.*)\\\\/order\\\\/order,default,pg\\\\.html(.*)\"\n			},\n			24205340: {\n				id: 24205340,\n				mID: \"Pro-O-WhyProactiv\",\n				re: \"(.*)\\\\/Why-Proactiv\\\\/whyProactiv,default,pg\\\\.html(.*)\"\n			},\n			24205377: {\n				id: 24205377,\n				mID: \"Pro-O-ProductQuickView\",\n				re: \"\"\n			},\n			24205378: {\n				id: 24205378,\n				mID: \"Pro-O-Test-Home\",\n				re: \"(.*)proactiv(.*)grdev\\.com(\\/$|$)\"\n			},\n			24205379: {\n				id: 24205379,\n				mID: \"Pro-O-Care-Home-Show\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Home-Show(.*)\"\n			},\n			24205381: {\n				id: 24205381,\n				mID: \"Pro-O-Care-SignIn-Lightbox\",\n				re: \"do not match\"\n			},\n			24205384: {\n				id: 24205384,\n				mID: \"Pro-O-BeforeAfter\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/beforeafter-(.*),default,pg\\\\.html(.*)\"\n			},\n			24205385: {\n				id: 24205385,\n				mID: \"Pro-O-Care-CustomizeKit\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/KitCustomizer-LearnMore(.*)\"\n			},\n			26205418: {\n				id: 26205418,\n				mID: \"Pro-O-Care-SignIn\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Account-LoginHover(.*)\"\n			},\n			29205431: {\n				id: 29205431,\n				mID: \"Pro-O-Inthepress\",\n				re: \"(.*)\\\\/about-proactiv\\\\/inthepress(.*)default(.*)pg\\\\.html\"\n			},\n			29205432: {\n				id: 29205432,\n				mID: \"Pro-O-Celebrity\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/celebrity-(.*),default,pg\\\\.html(.*)\"\n			},\n			29205433: {\n				id: 29205433,\n				mID: \"Pro-O-Julianne\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/julianne-(.*),default,pg\\\\.html(.*)\"\n			},\n			29205434: {\n				id: 29205434,\n				mID: \"Pro-O-Naya\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/naya-(.*),default,pg\\\\.html(.*)\"\n			},\n			29205435: {\n				id: 29205435,\n				mID: \"Pro-O-Success\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/success(.*),default,pg\\\\.html(.*)\"\n			},\n			29205436: {\n				id: 29205436,\n				mID: \"Pro-O-Tell\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/tell-(.*),default,pg\\\\.html(.*)\"\n			},\n			29205437: {\n				id: 29205437,\n				mID: \"Pro-O-Terms\",\n				re: \"(.*)\\\\/terms-and-conditions\\\\/terms(.*),default,pg\\\\.html(.*)\"\n			},\n			29205438: {\n				id: 29205438,\n				mID: \"Pro-O-Privacy\",\n				re: \"(.*)\\\\/privacy-policy\\\\/privacy-(.*),default,pg\\\\.html(.*)\"\n			},\n			29205439: {\n				id: 29205439,\n				mID: \"Pro-I-Care-CartShow\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/COCart-Show(.*)\"\n			},\n			29205440: {\n				id: 29205440,\n				mID: \"Pro-O-Care-ContactUs\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/CustomerService-ContactUs(.*)\"\n			},\n			31205496: {\n				id: 31205496,\n				mID: \"Pro-O-Proactiv-Day-One\",\n				re: \"(.*)\\\\/about-acne\\\\/proactiv-day-one(.*)default(.*)pg\\\\.html\"\n			},\n			31205497: {\n				id: 31205497,\n				mID: \"Pro-O-Guarantee\",\n				re: \"(.*)\\\\/about-proactiv\\\\/Guarantee(.*)default(.*)pg\\\\.html\"\n			},\n			31205498: {\n				id: 31205498,\n				mID: \"Pro-O-Allegra\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/allegra(.*)default(.*)pg\\\\.html\"\n			},\n			31205499: {\n				id: 31205499,\n				mID: \"Pro-O-Emily\",\n				re: \"(.*)\\\\/best-acne-treatment\\\\/emily(.*)default(.*)pg\\\\.html\"\n			},\n			31205500: {\n				id: 31205500,\n				mID: \"Pro-O-Blemish\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/advanced-blemish(.*)default(.*)pg\\\\.html\"\n			},\n			31205501: {\n				id: 31205501,\n				mID: \"Pro-O-Body-Pad\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/body-pads(.*)default(.*)pg\\\\.html\"\n			},\n			31205502: {\n				id: 31205502,\n				mID: \"Pro-O-Clarifying-Night\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/clarifying-night(.*)default(.*)pg\\\\.html\"\n			},\n			31205503: {\n				id: 31205503,\n				mID: \"Pro-O-Daily-Protection\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/daily-protection(.*)default(.*)pg\\\\.html\"\n			},\n			31205504: {\n				id: 31205504,\n				mID: \"Pro-O-Dark-Spot\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/dark-spot(.*)default(.*)pg\\\\.html\"\n			},\n			31205505: {\n				id: 31205505,\n				mID: \"Pro-O-Deep-Cleansing\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/deep-cleansing(.*)default(.*)pg\\\\.html\"\n			},\n			31205506: {\n				id: 31205506,\n				mID: \"Pro-O-Makeup-Removing\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/makeup-removing(.*)default(.*)pg\\\\.html\"\n			},\n			31205507: {\n				id: 31205507,\n				mID: \"Pro-O-Oil-Blotter\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/oil-blotter(.*)default(.*)pg\\\\.html\"\n			},\n			31205508: {\n				id: 31205508,\n				mID: \"Pro-O-Oil-Free\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/oil-free(.*)default(.*)pg\\\\.html\"\n			},\n			31205509: {\n				id: 31205509,\n				mID: \"Pro-O-Green-tea\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/products-green-tea(.*)default(.*)pg\\\\.html\"\n			},\n			31205510: {\n				id: 31205510,\n				mID: \"Pro-O-Mini-Maintenance\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/products-mini(.*)default(.*)pg\\\\.html\"\n			},\n			31205511: {\n				id: 31205511,\n				mID: \"Pro-O-Refining-Mask\",\n				re: \"(.*)\\\\/customer-care\\\\/products\\\\/refining(.*)default(.*)pg\\\\.html\"\n			},\n			31205512: {\n				id: 31205512,\n				mID: \"Pro-O-DrFernandez\",\n				re: \"(.*)\\\\/DrFernandez\\\\/DrFernandez(.*)default(.*)pg\\\\.html\"\n			},\n			31205513: {\n				id: 31205513,\n				mID: \"Pro-O-Retention-Faq\",\n				re: \"(.*)\\\\/FAQ\\\\/retention(.*)default(.*)pg\\\\.html\"\n			},\n			31205514: {\n				id: 31205514,\n				mID: \"Pro-O-Julianne-Hough\",\n				re: \"(.*)\\\\/lp\\\\/jhuff(.*)\"\n			},\n			31205515: {\n				id: 31205515,\n				mID: \"Pro-O-Care-Address-Add\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Address-Add(.*)\"\n			},\n			31205516: {\n				id: 31205516,\n				mID: \"Pro-O-Care-Address-EditBil\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Address-EditBil(.*)\"\n			},\n			31205517: {\n				id: 31205517,\n				mID: \"Pro-O-Care-Address-EditShi\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Address-EditShi(.*)\"\n			},\n			31205518: {\n				id: 31205518,\n				mID: \"Pro-O-Care-AutoLogin-NewAc\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/AutoLogin-NewAc(.*)\"\n			},\n			31205519: {\n				id: 31205519,\n				mID: \"Pro-O-Care-AutoLogin-Start\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/AutoLogin-Start(.*)\"\n			},\n			31205520: {\n				id: 31205520,\n				mID: \"Pro-O-Care-Bazaarvoice-Sub\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Bazaarvoice-Sub(.*)\"\n			},\n			31205521: {\n				id: 31205521,\n				mID: \"Pro-O-Care-Cart-COStart\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Cart-COStart(.*)\"\n			},\n			31205522: {\n				id: 31205522,\n				mID: \"Pro-O-Care-CORtnOrderSumma\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/CORtnOrderSumma(.*)\"\n			},\n			31205523: {\n				id: 31205523,\n				mID: \"Pro-O-Care-COSummary-Submi\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/COSummary-Submi(.*)\"\n			},\n			31205524: {\n				id: 31205524,\n				mID: \"Pro-O-Care-Default-Start\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Default-Start(.*)\"\n			},\n			31205525: {\n				id: 31205525,\n				mID: \"Pro-O-Care-SiteMap-Start\",\n				re: \"(.*)\\\\/on\\\\/demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/SiteMap-Start(.*)\"\n			},\n			31205526: {\n				id: 31205526,\n				mID: \"Pro-O-Radio-Offer\",\n				re: \"(.*)proactiv\\\\.com\\\\/\\\\?uci=ous(.*)|(.*)proactiv\\\\.com\\\\/\\\\?uci=US(.*)|(.*)proactiv\\\\.com\\\\/radio(.*)\"\n			},\n			31205527: {\n				id: 31205527,\n				mID: \"Pro-O-10-Savings\",\n				re: \"(.*)proactiv\\\\.com\\\\/actnow|(.*)proactiv\\\\.com\\\\/buy\"\n			},\n			31205528: {\n				id: 31205528,\n				mID: \"Pro-O-Bar\",\n				re: \"(.*)proactiv\\\\.com\\\\/bar\"\n			},\n			31205529: {\n				id: 31205529,\n				mID: \"Pro-O-BandB\",\n				re: \"(.*)proactiv\\\\.com\\\\/bb\\\\/\"\n			},\n			31205530: {\n				id: 31205530,\n				mID: \"Pro-O-Brush\",\n				re: \"(.*)proactiv\\\\.com\\\\/brush\"\n			},\n			31205531: {\n				id: 31205531,\n				mID: \"Pro-O-15-Savings\",\n				re: \"(.*)proactiv\\\\.com\\\\/tryitnow\"\n			},\n			31205532: {\n				id: 31205532,\n				mID: \"Pro-O-Wedding\",\n				re: \"(.*)proactiv\\\\.com\\\\/wedding\"\n			},\n			31205533: {\n				id: 31205533,\n				mID: \"Pro-O-Direct-Pricing\",\n				re: \"(.*)proactiv\\\\.com\\\\/directaccess10\"\n			},\n			31205534: {\n				id: 31205534,\n				mID: \"Pro-Care-O-Tell\",\n				re: \"(.*)\\\\/Submit-Your-Testimonial\\\\/submitYourTest(.*)default(.*)pg\\\\.html\"\n			},\n			31205535: {\n				id: 31205535,\n				mID: \"Pro-Care-O-Allegra\",\n				re: \"(.*)\\\\/allegra-retention\\\\/allegra-retent(.*)default(.*)pg\\\\.html\"\n			},\n			31205536: {\n				id: 31205536,\n				mID: \"Pro-Care-O-Emily\",\n				re: \"(.*)\\\\/emily-retention\\\\/emily-retent(.*)default(.*)pg\\\\.html\"\n			},\n			31205541: {\n				id: 31205541,\n				mID: \"Pro-O-2-OrderYourSystemSelectA \",\n				re: \"(.*)demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Page-Show(.*)sas-select\"\n			},\n			31205542: {\n				id: 31205542,\n				mID: \"Pro-O-2-OrderYourSystemChooseB\",\n				re: \"(.*)demandware\\\\.store\\\\/Sites-Proactiv-Site\\\\/default\\\\/Page-Show(.*)sas-choose\"\n			},\n			32205565: {\n				id: 32205565,\n				mID: \"Pro-O-FromDayOneTips\",\n				re: \"(.*)why-proactiv\\\\/tips-on-fighting-acne,default,pg\\\\.html(.*)\"\n			},\n			32205566: {\n				id: 32205566,\n				mID: \"Pro-O-FromDayOneCustomize\",\n				re: \"(.*)why-proactiv\\\\/customize-your-skin-care,default,pg\\\\.html(.*)\"\n			},\n			33205568: {\n				id: 33205568,\n				mID: \"Pro-O-2-OrderYourSystemSelectC\",\n				re: \"(.*)Select-A-System\\\\/sas-select,default,pg\\\\.html(.*)\"\n			},\n			33205569: {\n				id: 33205569,\n				mID: \"Pro-O-2-OrderYourSystemChooseD\",\n				re: \"(.*)Select-A-System\\\\/sas-choose,default,pg\\\\.html(.*)\"\n			},\n			34205569: {\n				id: 34205569,\n				mID: \"Pro-O-Care-CustomerCare\",\n				re: \"(.*)customercare\\\\.proactiv\\\\.com(.*)\"\n			},\n			35205570: {\n				id: 35205570,\n				mID: \"Pro-O-2-OrderYourSystemChooseC\",\n				re: \"(.*)selectasystem_control2\\\\/sas-control2,default,pg\\\\.html(.*)\"\n			},\n			35205571: {\n				id: 35205571,\n				mID: \"Pro-O-2-OrderYourSystemChooseE\",\n				re: \"(.*)Select-A-System\\\\/sas-choose2,default,pg\\\\.html(.*)\"\n			}\n		},\n		qsize: 10,\n		contentGroups: {\n			\"CareNC_LiveChat\": new CG([203768, 203759, 203758, 203757, 203763, 203760, 203766, 203767, 201685], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"CareNC_WhtBkgd_Girl\": new CG([203768, 203759, 203758, 203757, 203763, 203760, 203766, 203767], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"CareNC_BlueBkgd_Girl\": new CG([201685], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"CareNC_OrangeBtn\": new CG([203759], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Marketing-Product\": new CG([202045, 3848, 202044, 3849, 3847], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-O-SelectSystem\": new CG([31205542, 35205571, 35205570, 31205541, 3889, 33205569, 33205568], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-O-Celebrity\": new CG([4334, 3871, 29205434, 29205433], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Acquisition\": new CG([4334, 29205431, 31205542, 22205270, 31205541, 29205434, 29205433, 31205498, 31205499, 35205571, 35205570, 3892, 3889, 3855, 3852, 3850, 3851, 3848, 3849, 3847, 3871, 3865, 202045, 3863, 3862, 3861, 3860, 3859, 3858, 33205569, 3857, 33205568, 3856], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Marketing\": new CG([4334, 29205431, 22205270, 29205434, 29205433, 31205498, 31205499, 3855, 3852, 3850, 3851, 3848, 3849, 3847, 3871, 3865, 202045, 3863, 3862, 3861, 3860, 3859, 3858, 3857, 3856], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-BuyFlow\": new CG([35205570, 3892, 3889], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-O-SelectSystemTest\": new CG([31205542, 35205571, 31205541, 33205569, 33205568], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care\": new CG([24205384, 24205385, 24205377, 24205379, 24205381, 31205536, 203768, 22205337, 203220, 22205335, 203763, 22205334, 203760, 203761, 203216, 203766, 203767, 203217, 203218, 203219, 203213, 203212, 34205569, 203215, 203214, 4023, 203209, 203759, 22205322, 203758, 22205323, 203211, 203757, 203210, 22205316, 22205314, 22205315, 22205312, 22205313, 31205512, 31205513, 31205515, 31205516, 31205517, 31205518, 31205519, 31205521, 31205520, 24205340, 31205523, 31205522, 31205525, 31205524, 31205535, 31205534, 22205266, 22205267, 22205264, 22205265, 22205271, 22205274, 29205438, 22205275, 29205439, 22205272, 29205436, 22205273, 29205437, 22205278, 22205279, 22205276, 22205277, 22205251, 22205250, 22205249, 22205248, 22205255, 22205254, 22205253, 31205496, 22205252, 31205497, 22205259, 22205258, 22205257, 22205256, 22205261, 22205260, 22205297, 22205299, 22205305, 22205306, 22205307, 22205308, 22205309, 22205310, 22205311, 22205281, 22205285, 22205287, 22205289, 22205291, 3886, 3887, 3880, 26205418, 4324, 29205440, 32205565, 32205566, 201685], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_Info\": new CG([24205384, 24205385, 24205377, 24205379, 24205381, 31205536, 203768, 22205337, 203220, 22205335, 203763, 22205334, 203760, 203761, 203216, 203766, 203767, 203217, 203218, 203219, 203213, 203212, 34205569, 203215, 203214, 4023, 203209, 203759, 22205322, 203758, 22205323, 203211, 203757, 203210, 22205316, 22205314, 22205315, 22205312, 22205313, 31205512, 31205513, 31205515, 31205516, 31205517, 31205518, 31205519, 31205521, 31205520, 24205340, 31205523, 31205522, 31205525, 31205524, 31205535, 31205534, 22205266, 22205267, 22205264, 22205265, 22205271, 22205274, 29205438, 22205275, 29205439, 22205272, 29205436, 22205273, 29205437, 22205278, 22205279, 22205276, 22205277, 22205251, 22205250, 22205249, 22205248, 22205255, 22205254, 22205253, 31205496, 22205252, 31205497, 22205259, 22205258, 22205257, 22205256, 22205261, 22205260, 22205297, 22205299, 22205305, 22205306, 22205307, 22205308, 22205309, 22205310, 22205311, 22205281, 22205285, 22205287, 22205289, 22205291, 3886, 3887, 3880, 26205418, 4324, 29205440, 32205565, 32205566, 201685], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C2_11Footer\": new CG([31205536, 22205265, 22205271, 22205335, 22205274, 22205334, 22205272, 22205273, 22205279, 22205276, 22205277, 34205569, 22205255, 22205254, 22205258, 22205257, 22205256, 22205312, 22205261, 22205313, 22205297, 22205299, 3846, 22205305, 24205379, 31205515, 22205308, 22205310, 22205311, 22205281, 24205340, 22205285, 22205287, 32205565, 22205289, 32205566, 31205535, 31205534], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C4\": new CG([22205335, 22205272, 22205277], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C6\": new CG([31205536, 22205271, 22205335, 22205274, 22205334, 22205305, 22205308, 22205279, 22205276, 22205277, 22205311, 22205281, 22205285, 22205287, 32205565, 22205289, 31205535], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C9\": new CG([24205377], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C10\": new CG([22205313], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C3\": new CG([22205335, 22205272, 22205277], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C7\": new CG([3846, 24205379], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			}),\n			\"Pro-Care_C2C8\": new CG([22205310], [], function isIncludedURL(url) {\n				return false\n			}, [], [], function isExcludedURL(url) {\n				return false\n			})\n		}\n	});\n	var BusinessRuleActionLists = {};\n	var RuleActionLists = {\n		setAssistedStateActionList: function(rule, evt) {\n			if (!(CHM.getChatID().equals(PM.getVar(\"assistChatID\", rule).getValue(), false))) {\n				Inq.doRuleActionList(\"saveAssistedVariablesActionList\", rule, evt);\n				PM.getVar(\"assistChatID\", rule).setValue(CHM.getChatID());\n				PM.getVar(\"assistDT\", rule).setValue(new Date());\n				if (exists(evt.assistAgtOverride)) {\n					PM.getVar(\"assistAgt\", rule).setValue((exists(evt.assistAgtOverride) ? evt.assistAgtOverride.toString() : \"\"));\n				} else {\n					PM.getVar(\"assistAgt\", rule).setValue(CHM.getAgentID());\n				}\n				PM.getVar(\"asstRuleID\", rule).setValue((exists(CHM.getChat().getRuleId()) ? CHM.getChat().getRuleId().toString() : \"\"));\n				PM.getVar(\"asstRuleName\", rule).setValue((exists(CHM.getChat().getRuleName()) ? CHM.getChat().getRuleName().toString() : \"\"));\n				if (!(PM.getVar(\"saleState\", rule).getValue().equals(getConstant(\"SALE_STATE_CONVERTED\", rule), false))) {\n					PM.getVar(\"saleState\", rule).setValue(getConstant(\"SALE_STATE_ASSISTED\", rule));\n				}\n				EVM.fireCustomEvent('Assisted', rule, evt, function() {\n					return {\n						businessUnitID: CHM.getChat().getBusinessUnitID()\n					};\n				}, true);\n				ROM.send(resources[\"SET_ASSISTED_CONTROLLER\"].url, {\n					\"criteria\": prepareDataToSend(PM.getVar(\"assistedType\", rule).getValue()),\n					\"chatID\": prepareDataToSend(CHM.getChatID())\n				});\n				PM.getVar(\"assistedType\", rule).setValue(getConstant(\"UNDEFINED_ASSISTED\", rule));\n				PM.getVar(\"incState\", rule).setValue(getConstant(\"INC_STATE_ASSISTED\", rule));\n				ROM.send(resources[\"INC_EVENT_URL\"].url, {\n					\"evt\": prepareDataToSend(getConstant(\"INC_STATE_ASSISTED\", rule)),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"brID\": prepareDataToSend(CHM.getChat().getRuleId()),\n					\"chatID\": prepareDataToSend(CHM.getChatID()),\n					\"businessUnitID\": prepareDataToSend(CHM.getChat().getBusinessUnitID()),\n					\"targetAgentAttributes\": prepareDataToSend(CHM.getChat().getAgentAttributesAsString()),\n					\"brAttributes\": prepareDataToSend(CHM.getChat().getRuleAttributesAsString()),\n					\"type\": prepareDataToSend(CHM.getConversionType())\n				});\n				EVM.fireCustomEvent('SaleStateTransition', rule, evt, function() {\n					return {};\n				}, true);\n			}\n		},\n		saveAssistedVariablesActionList: function(rule, evt) {\n			PM.getVar(\"oldAssistChatID\", rule).setValue(PM.getVar(\"assistChatID\", rule).getValue());\n			PM.getVar(\"oldAssistDT\", rule).setValue(PM.getVar(\"assistDT\", rule).getValue());\n			PM.getVar(\"oldAssistAgt\", rule).setValue(PM.getVar(\"assistAgt\", rule).getValue());\n			PM.getVar(\"oldAsstRuleID\", rule).setValue(PM.getVar(\"asstRuleID\", rule).getValue());\n			PM.getVar(\"oldAsstRuleName\", rule).setValue(PM.getVar(\"asstRuleName\", rule).getValue());\n			PM.getVar(\"oldSaleState\", rule).setValue(PM.getVar(\"saleState\", rule).getValue());\n			PM.getVar(\"oldIncState\", rule).setValue(PM.getVar(\"incState\", rule).getValue());\n			PM.getVar(\"oldSaleID\", rule).setValue(PM.getVar(\"saleID\", rule).getValue());\n			PM.getVar(\"oldSoldDT\", rule).setValue(PM.getVar(\"soldDT\", rule).getValue());\n		}\n	};\n	var FM = new FcnMgr({\n		\"saleValue\": function() {\n			try {\n				var ps = inqSalesPrices;\n				var qs = inqSalesQuantities;\n				if (ps.length == qs.length) {\n					if (qs.length > 0) {\n						var sum = 0;\n						for (var i = 0; i < qs.length; i++) {\n							sum += (parseFloat(qs[i]) * parseFloat(ps[i]));\n						}\n						return sum;\n					}\n				}\n			} catch (er) {}\n			return null;\n		},\n		\"baynoteSaleValue\": function() {\n			var i, p, q;\n			var pi = [],\n				ps = [],\n				qs = [];\n			var purchaseId = 0,\n				purchaseDetails = \"\",\n				totalPurchases = 0;\n			try {\n				if (inqClientOrderNum) {\n					purchaseId = inqClientOrderNum;\n				}\n				if (inqSalesProducts) {\n					pi = inqSalesProducts;\n				}\n				if (inqSalesPrices) {\n					ps = inqSalesPrices;\n				}\n				if (inqSalesQuantities) {\n					qs = inqSalesQuantities;\n				}\n				purchaseDetails = \"[\";\n				for (i = 0; i < pi.length; i++) {\n					purchaseDetails += '\"' + pi[i] + \":\";\n					p = 0.0;\n					q = 0;\n					if (qs.length > i) {\n						q = parseFloat(qs[i]);\n					}\n					purchaseDetails += q + \":\";\n					if (ps.length > i) {\n						p = parseFloat(ps[i]);\n						totalPurchases += p;\n					}\n					purchaseDetails += p + '\"';\n					if (i !== pi.length - 1) {\n						purchaseDetails += ',';\n					}\n				}\n				purchaseDetails += \"]\";\n			} catch (er) {}\n			return '{\"purchaseId\":\"' + purchaseId + '\",\"totalPurchases\":' + totalPurchases + ',\"purchaseDetails\":' + purchaseDetails + '}';\n		},\n		\"getBrowserType\": function() {\n			try {\n				var an = navigator.appName;\n				var ua = navigator.userAgent;\n				var tem;\n				var browserInfo = ua.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\n				if (browserInfo && (tem = ua.match(/version\\/([\\.\\d]+)/i)) != null) {\n					browserInfo[2] = tem[1];\n				}\n				browserInfo = browserInfo ? [browserInfo[1], browserInfo[2]] : [an, navigator.appVersion, '-?'];\n				return browserInfo[0];\n			} catch (e) {\n				return \"error\";\n			}\n		},\n		\"getBrowserVersion\": function() {\n			try {\n				var an = navigator.appName;\n				var ua = navigator.userAgent;\n				var tem;\n				var browserInfo = ua.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\n				if (browserInfo && (tem = ua.match(/version\\/([\\.\\d]+)/i)) != null) {\n					browserInfo[2] = tem[1];\n				}\n				browserInfo = browserInfo ? [browserInfo[1], browserInfo[2]] : [an, navigator.appVersion, '-?'];\n				return browserInfo[1];\n			} catch (e) {\n				return \"error\";\n			}\n		}\n	});\n	var dfvs = {\n		\"CartCSSFix\": DFV.c(\"CartCSSFix\", function() {\n			var md = \" \";\n			var head = document.getElementsByTagName('head')[0],\n				style = document.createElement('style'),\n				rules = document.createTextNode('#inqChatCloser {margin-left:30px;}');\n			style.type = 'text/css';\n			if (style.styleSheet) style.styleSheet.cssText = rules.nodeValue;\n			else style.appendChild(rules);\n			head.appendChild(style);\n			return {\n				mp: md\n			};\n		}, \"${mp}\"),\n		\"GetExistingCustomer\": DFV.c(\"GetExistingCustomer\", function() {\n			var temp = inqFrame.Inq.SaveMgr.setStateParam(\"ec\", \"existing\");\n			return {\n				existing: ec\n			};\n		}, \"${existing}\"),\n		\"SetExistingCustomer\": DFV.c(\"SetExistingCustomer\", function() {\n			var extCust = inqFrame.Inq.SaveMgr.getStateParam(\"ec\");\n			if (extCust == \"existing\") {\n				window.inqOtherInfo = extCust;\n			}\n			return {\n				existing: extCust\n			};\n		}, \"${extCust}\"),\n		\"diagnosticToolData\": DFV.c(\"diagnosticToolData\", function() {\n			var mydata = \"\";\n			if (\"undefined\" !== typeof(inqCustData)) {\n				if (\"undefined\" !== typeof(inqCustData.data)) {\n					if (\"undefined\" !== typeof(inqCustData.data.customer)) {\n						mydata += (inqCustData.data.customer.account_id) ? \"Customer Account ID: \" + inqCustData.data.customer.account_id + \"<br>\" : \"Customer Account ID: Not Available<br>\";\n						mydata += (inqCustData.data.customer.name) ? \"Customer Name: \" + inqCustData.data.customer.name + \"<br>\" : \"Customer Name: Not Available<br>\";\n					} else {\n						mydata += \"No Customer Information Available - inqCustData.data.customer is undefined\";\n					}\n					mydata += (inqCustData.data.planlength) ? \"Plan Length: \" + inqCustData.data.planlength + \"<br>\" : \"Plan Length: Not Available<br>\";\n					mydata += (inqCustData.data.shipping_frequency) ? \"Shipping Frequency: \" + inqCustData.data.shipping_frequency + \"<br>\" : \"Shipping Frequency: Not Available<br>\";\n					mydata += (inqCustData.data.over7weeks) ? \"Over 7 Weeks: \" + inqCustData.data.over7weeks + \"<br>\" : \"Over 7 Weeks: Not Available<br>\";\n					if (inqCustData.data.clickstream) {\n						mydata += \"Clickstream: \";\n						for (var i = 0; i < inqCustData.data.clickstream.length; i++) {\n							mydata += \"<br>\" + (i + 1) + \") \" + inqCustData.data.clickstream[i];\n						}\n					} else {\n						mydata += \"Clickstream: Not Available\";\n					}\n				} else {\n					mydata = \"inqCustData.data is undefined\";\n				}\n			} else {\n				mydata = \"inqCustData is undefined\";\n			}\n			return {\n				thedata: mydata\n			};\n		}, \"${thedata}\"),\n		\"EmailCampaign-FirstNameEmail\": DFV.c(\"EmailCampaign-FirstNameEmail\", function() {\n			var cookie = document.cookie.match(\"sharedsession=[^;]*\");\n			var firstName = \"N/A\";\n			var email = \"N/A\";\n			if (cookie) {\n				var cookieArray = unescape(cookie).split(\"sharedsession={\")[1].replace(/\\\"/g, \"\").replace(/\\}/g, \"\").split(\",\")\n				for (var i = 0; i < cookieArray.length; i++) {\n					var field = cookieArray[i].split(\":\")[0];\n					var value = cookieArray[i].split(\":\")[1];\n					if (field == \"firstName\") {\n						firstName = value;\n					} else if (field == \"email\") email = value;\n				}\n			}\n			return {\n				FirstNameEmail: \"<br><font color=\\\"#000000\\\"><b>First Name: </b>\" + firstName + \"<br><b>Email: </b>\" + email + \"</font>\"\n			};\n		}, \"${FirstNameEmail}\")\n	};\n	var resources = {\n		\"page\": new JSResource(\"page\", \"rw\"),\n		\"RESOLVE_IP_CONTROLLER\": new WebResource(\"RESOLVE_IP_CONTROLLER\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/address/resolveIpToHostName\"), \"rw\", \"GET\"),\n		\"SET_SALE_CONTROLLER\": new WebResource(\"SET_SALE_CONTROLLER\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/sale/setSale.js\"), \"rw\", \"GET\"),\n		\"SALE_LANDING_CONTROLLER\": new WebResource(\"SALE_LANDING_CONTROLLER\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/sale/saleLanding\"), \"rw\", \"GET\"),\n		\"INC_EVENT_URL\": new WebResource(\"INC_EVENT_URL\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/incrementality/onEvent\"), \"w\", \"GET\"),\n		\"JASPER_ETL\": new WebResource(\"JASPER_ETL\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/logging/logdata\"), \"w\", \"GET\"),\n		\"SET_ASSISTED_CONTROLLER\": new WebResource(\"SET_ASSISTED_CONTROLLER\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/assisted/setAssisted.gif\"), \"rw\", \"GET\"),\n		\"IS_AGENT_IN_CHAT\": new WebResource(\"IS_AGENT_IN_CHAT\", rte(\"https://guthyrenker.inq.com\" + \"/tagserver/tracking/isAgentInChat.jsp\"), \"rw\", \"GET\"),\n		\"rVar\": new JSResource(\"rVar\", \"rw\"),\n		\"tmpVars\": new JSResource(\"tmpVars\", \"rw\")\n	};\n	resources[\"pc\"] = new CCD(\"pc\", \"pc\", \"/\", 1 * 24 * 3600 * 1000, \"proactiv.com\", false, CM);\n	resources[\"state\"] = new CCD(\"state\", \"inqState\", \"/\", 365 * 24 * 3600 * 1000, \"proactiv.com\", false, CM);\n	resources[\"vital\"] = new CCD(\"vital\", \"inqVital\", \"/\", 365 * 24 * 3600 * 1000, \"proactiv.com\", false, CM);\n	resources[\"session\"] = new CCD(\"session\", \"inqSession\", \"/\", 365 * 24 * 3600 * 1000, \"proactiv.com\", false, CM);\n	var schedules = MI8.mixAbsorber();\n	var programSchedules = {};\n	var businessSchedules = {};\n	schedules.absorb(programSchedules);\n	schedules.absorb(businessSchedules);\n	var MM = new MediaMgr({\n		chatThemes: {\n			24: {\n				id: 24,\n				an: \"Sarah\",\n				fn: \"Proactiv.zip\",\n				name: \"Proactiv\",\n				tbh: Number(\"61\"),\n				ciw: Number(\"35\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"440\"),\n				dh: Number(\"239\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"300\"),\n				pw: Number(\"440\")\n			},\n			25: {\n				id: 25,\n				an: \"Sarah\",\n				fn: \"Proactiv.mxml\",\n				name: \"Proactiv-Absolute\",\n				tbh: Number(\"61\"),\n				ciw: Number(\"35\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"440\"),\n				dh: Number(\"239\"),\n				pos: \"ABSOLUTE\",\n				lx: Number(\"500\"),\n				ly: Number(\"380\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"300\"),\n				pw: Number(\"440\")\n			},\n			31: {\n				id: 31,\n				an: \"Sarah\",\n				fn: \"Proactiv.swf\",\n				name: \"exit-chat\",\n				tbh: Number(\"61\"),\n				ciw: Number(\"35\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"440\"),\n				dh: Number(\"239\"),\n				pos: \"RELATIVE\",\n				lx: Number(\"50\"),\n				ly: Number(\"50\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"-1\"),\n				pw: Number(\"-1\")\n			},\n			117: {\n				id: 117,\n				an: \"Sarah\",\n				fn: \"Pro-All-Chat-All-SoundV1.mxml\",\n				name: \"Proactiv-Sound\",\n				tbh: Number(\"61\"),\n				ciw: Number(\"70\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"440\"),\n				dh: Number(\"239\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"300\"),\n				pw: Number(\"440\")\n			},\n			223: {\n				id: 223,\n				an: \"Jennifer\",\n				fn: \"Proactiv-C2-CALL_v2.mxml\",\n				name: \"Proactiv-Call-SKIN\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"30\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"500\"),\n				dh: Number(\"245\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"200\"),\n				py: Number(\"200\"),\n				ph: Number(\"300\"),\n				pw: Number(\"500\")\n			},\n			224: {\n				id: 224,\n				an: \"Jennifer\",\n				fn: \"ProSF_v1.mxml\",\n				name: \"Guthy_eCare_ChatTheme\",\n				tbh: Number(\"46\"),\n				ciw: Number(\"64\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"400\"),\n				dh: Number(\"300\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"-1\"),\n				pw: Number(\"-1\")\n			},\n			260: {\n				id: 260,\n				an: \"Proactiv\",\n				fn: \"Pro-All-Chat-All-SoundV1-ActivMember.zip\",\n				name: \"ProCare_DT-ActivMember\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"30\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"450\"),\n				pw: Number(\"340\")\n			},\n			261: {\n				id: 261,\n				an: \"Proactiv\",\n				fn: \"Pro-All-Chat-All-SoundV1-SCA.mxml\",\n				name: \"ProCare_DT-SCA\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"30\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"-1\"),\n				pw: Number(\"-1\")\n			},\n			3000308: {\n				id: 3000308,\n				an: \"Proactiv\",\n				fn: \"Pro-All-Chat-All-SoundV2-SCA.mxml\",\n				name: \"ProCare_DT-SCA2\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"30\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"-1\"),\n				pw: Number(\"-1\")\n			},\n			13000377: {\n				id: 13000377,\n				an: \"Proactiv\",\n				fn: \"ProCare_DT-YouTube.mxml\",\n				name: \"ProCare_DT-YouTube\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"30\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"-1\"),\n				pw: Number(\"-1\")\n			},\n			13000378: {\n				id: 13000378,\n				an: \"Sarah\",\n				fn: \"Proactiv_FBL.mxml\",\n				name: \"Proactiv_FBL\",\n				tbh: Number(\"61\"),\n				ciw: Number(\"35\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"440\"),\n				dh: Number(\"270\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"300\"),\n				pw: Number(\"440\")\n			},\n			17000383: {\n				id: 17000383,\n				an: \"Jessica\",\n				fn: \"Proactiv_v2.mxml\",\n				name: \"Proactiv-Demandware\",\n				tbh: Number(\"0\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"0\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"400\"),\n				dh: Number(\"400\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"400\"),\n				pw: Number(\"400\")\n			},\n			18000384: {\n				id: 18000384,\n				an: \"Proactiv\",\n				fn: \"ProCare-DT-ActiveMember.zip\",\n				name: \"ProCare-DT-ActiveMember-Demandware\",\n				tbh: Number(\"0\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"0\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"430\"),\n				dh: Number(\"400\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"430\"),\n				pw: Number(\"400\")\n			},\n			18000385: {\n				id: 18000385,\n				an: \"Proactiv\",\n				fn: \"ProCare-B.zip\",\n				name: \"ProCare-B\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"0\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"430\"),\n				dh: Number(\"350\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"430\"),\n				pw: Number(\"350\")\n			},\n			19000390: {\n				id: 19000390,\n				an: \"Proactiv\",\n				fn: \"Proactiv_v2.mxml\",\n				name: \"Proactiv-Care-Demandware\",\n				tbh: Number(\"0\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"0\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"400\"),\n				dh: Number(\"400\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"400\"),\n				pw: Number(\"400\")\n			},\n			24000452: {\n				id: 24000452,\n				an: \"Proactiv\",\n				fn: \"ProCare-A.zip\",\n				name: \"ProCare-A\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"40\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"450\"),\n				pw: Number(\"340\")\n			},\n			24000468: {\n				id: 24000468,\n				an: \"Sarah\",\n				fn: \"Proactiv-TAB.zip\",\n				name: \"Proactiv-TAB\",\n				tbh: Number(\"61\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"440\"),\n				dh: Number(\"239\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"300\"),\n				pw: Number(\"440\")\n			},\n			24000469: {\n				id: 24000469,\n				an: \"Proactiv\",\n				fn: \"Pro-All-Chat-All-SoundV2-SCA-TAB.zip\",\n				name: \"ProCare_DT_SCA2-TAB\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"425\"),\n				pw: Number(\"340\")\n			},\n			24000470: {\n				id: 24000470,\n				an: \"Proactiv\",\n				fn: \"ProCare_DT-YouTube-TAB.zip\",\n				name: \"ProCare_DT-YouTube-TAB\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"425\"),\n				pw: Number(\"340\")\n			},\n			24000471: {\n				id: 24000471,\n				an: \"Proactiv\",\n				fn: \"ProCare-B-TAB.zip\",\n				name: \"ProCare-B-TAB\",\n				tbh: Number(\"35\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"430\"),\n				dh: Number(\"350\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"430\"),\n				pw: Number(\"350\")\n			},\n			24000472: {\n				id: 24000472,\n				an: \"Proactiv\",\n				fn: \"ProCare-A-TAB.zip\",\n				name: \"ProCare-A-TAB\",\n				tbh: Number(\"55\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"30\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"425\"),\n				dh: Number(\"340\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"0\"),\n				py: Number(\"0\"),\n				ph: Number(\"450\"),\n				pw: Number(\"340\")\n			},\n			24000473: {\n				id: 24000473,\n				an: \"Jessica\",\n				fn: \"Proactiv_v2-TAB.zip\",\n				name: \"Proactiv-Demandware-TAB\",\n				tbh: Number(\"35\"),\n				ciw: Number(\"100\"),\n				cih: Number(\"35\"),\n				d: true,\n				cn: \"You\",\n				dw: Number(\"400\"),\n				dh: Number(\"400\"),\n				pos: \"CENTER\",\n				lx: Number(\"0\"),\n				ly: Number(\"0\"),\n				wm: \"TRANSPARENT\",\n				px: Number(\"100\"),\n				py: Number(\"100\"),\n				ph: Number(\"400\"),\n				pw: Number(\"400\")\n			}\n		},\n		chatSpecs: {\n			96: {\n				id: 96,\n				name: \"Proactiv-Opener-Product-P\",\n				oId: 11743,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			97: {\n				id: 97,\n				name: \"Proactiv - AutoOpener - AboutProactiv-P\",\n				oId: 13349,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			98: {\n				id: 98,\n				name: \"Proactiv-Opener_Reactive\",\n				oId: 11962,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			99: {\n				id: 99,\n				name: \"Proactiv-Opener-Guarantee-P--NOT LIVE\",\n				oId: 11744,\n				stId: 42,\n				ctId: 24,\n				ael: \"\"\n			},\n			100: {\n				id: 100,\n				name: \"Proactiv-Opener-SkinClub-P-NOT LIVE\",\n				oId: 200292,\n				stId: 42,\n				ctId: 24,\n				ael: \"\"\n			},\n			101: {\n				id: 101,\n				name: \"Proactiv-Opener-Generic-P\",\n				oId: 13348,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			102: {\n				id: 102,\n				name: \"Proactiv-Opener-Quiz-P\",\n				oId: 11746,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			103: {\n				id: 103,\n				name: \"Proactiv-Opener-Order-P\",\n				oId: 11747,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			104: {\n				id: 104,\n				name: \"Proactiv-Opener-SpecialOffer-P\",\n				oId: 11748,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			105: {\n				id: 105,\n				name: \"Proactiv - AutoOpener - HowDoIChoose\",\n				oId: 13138,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			106: {\n				id: 106,\n				name: \"Proactiv-Opener-Generic-R\",\n				oId: 11733,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			107: {\n				id: 107,\n				name: \"Proactiv-Opener-Quiz-R\",\n				oId: 11739,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			108: {\n				id: 108,\n				name: \"Proactiv-Opener-Products-R\",\n				oId: 11734,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			109: {\n				id: 109,\n				name: \"Proactiv-Opener-Order-R\",\n				oId: 11740,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			110: {\n				id: 110,\n				name: \"Proactiv-Opener-SpecialOffer-R\",\n				oId: 11741,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			111: {\n				id: 111,\n				name: \"Proactiv-Opener-Doctors-R\",\n				oId: 11735,\n				stId: 42,\n				ctId: 24,\n				ael: \"\"\n			},\n			112: {\n				id: 112,\n				name: \"Proactiv-Opener-Share-R\",\n				oId: 11738,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			113: {\n				id: 113,\n				name: \"Proactiv-Opener-SkinClub-R\",\n				oId: 11737,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			114: {\n				id: 114,\n				name: \"Proactiv-Opener-Specific-P\",\n				oId: 13485,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			115: {\n				id: 115,\n				name: \"Proactiv-Opener-Proactive\",\n				oId: 11961,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			116: {\n				id: 116,\n				name: \"Proactiv-Opener-Guarantee-R\",\n				oId: 11736,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			117: {\n				id: 117,\n				name: \"Proactiv-Opener-Generic-R\",\n				oId: 11733,\n				stId: 42,\n				ctId: 25,\n				ael: \"\",\n				svySpId: 13\n			},\n			132: {\n				id: 132,\n				name: \"Proactiv-Opener_Reactive\",\n				oId: 11962,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			138: {\n				id: 138,\n				name: \"Proactiv-Opener-GenericBuyer--NOT LIVE\",\n				oId: 200434,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			167: {\n				id: 167,\n				name: \"Proactiv-AO-P-60Day-NOT LIVE\",\n				oId: 200466,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			369: {\n				id: 369,\n				name: \"Proactiv-Opener-Product-P-Sound\",\n				oId: 11743,\n				stId: 42,\n				ctId: 117,\n				ael: \"\",\n				svySpId: 13\n			},\n			370: {\n				id: 370,\n				name: \"Proactiv-Opener-Generic-R-Sound\",\n				oId: 11733,\n				stId: 42,\n				ctId: 117,\n				ael: \"\",\n				svySpId: 13\n			},\n			371: {\n				id: 371,\n				name: \"Proactiv-Opener-Order-R-Sound\",\n				oId: 11740,\n				stId: 42,\n				ctId: 117,\n				ael: \"\",\n				svySpId: 13\n			},\n			399: {\n				id: 399,\n				name: \"Proactiv-Opener-Return-Customer\",\n				oId: 201048,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			451: {\n				id: 451,\n				name: \"Live Exit\",\n				oId: 201184,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			453: {\n				id: 453,\n				name: \"Proactiv-Opener-60DayMsg-1\",\n				oId: 201185,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			454: {\n				id: 454,\n				name: \"Proactiv-Opener-60DayMsg-2\",\n				oId: 201186,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			455: {\n				id: 455,\n				name: \"Proactiv-Opener-60DayMsg-3 \",\n				oId: 201187,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			456: {\n				id: 456,\n				name: \"Proactiv-Opener-Short-1\",\n				oId: 201188,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			457: {\n				id: 457,\n				name: \"Proactiv-Opener-Short-2\",\n				oId: 201189,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			458: {\n				id: 458,\n				name: \"Proactiv-Opener-Short-3\",\n				oId: 201190,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			603: {\n				id: 603,\n				name: \"Proactiv-Opener-BuyFlow-P\",\n				oId: 201539,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			604: {\n				id: 604,\n				name: \"Guthy-Diagnostic-Chat-Placeholder\",\n				oId: 201571,\n				stId: 200102,\n				ctId: 17000383,\n				ael: \"\"\n			},\n			605: {\n				id: 605,\n				name: \"Proactiv-Diagnostic-Call-Placeholder\",\n				oId: 201571,\n				stId: 200102,\n				ctId: 223,\n				ael: \"\"\n			},\n			623: {\n				id: 623,\n				name: \"Guthy-Diagnostic-Tool-AfterHours\",\n				oId: 201576,\n				stId: 200102,\n				ctId: 17000383,\n				ael: \"\"\n			},\n			628: {\n				id: 628,\n				name: \"Proactiv-Opener-Return-Customer_B\",\n				oId: 201590,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			629: {\n				id: 629,\n				name: \"Proactiv-Opener-Return-Customer_C\",\n				oId: 201591,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			630: {\n				id: 630,\n				name: \"Proactiv-Opener-BuyFlowBacktrack_B\",\n				oId: 201592,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			631: {\n				id: 631,\n				name: \"Proactiv-Opener-BuyFlowBacktrack_C\",\n				oId: 201593,\n				stId: 42,\n				ctId: 24,\n				ael: \"\",\n				svySpId: 13\n			},\n			666: {\n				id: 666,\n				name: \"ProactivCareNC_Generic\",\n				oId: 201669,\n				stId: 200102,\n				ctId: 224,\n				ael: \"\"\n			},\n			671: {\n				id: 671,\n				name: \"ProactivCareNC_NoAgentsAvail\",\n				oId: 201703,\n				stId: 200102,\n				ctId: 224,\n				ael: \"\"\n			},\n			706: {\n				id: 706,\n				name: \"ProactivCareSD_NoAgentsAvail\",\n				oId: 201703,\n				stId: 200102,\n				ctId: 224,\n				ael: \"\"\n			},\n			726: {\n				id: 726,\n				name: \"ProCare_DT-ActivMember\",\n				oId: 201787,\n				stId: 200102,\n				ctId: 260,\n				ael: \"\"\n			},\n			727: {\n				id: 727,\n				name: \"ProCare_DT-SCA\",\n				oId: 201788,\n				stId: 200102,\n				ctId: 261,\n				ael: \"\"\n			},\n			4000791: {\n				id: 4000791,\n				name: \"ProCare_DT-SCA2\",\n				oId: 201788,\n				stId: 200102,\n				ctId: 3000308,\n				ael: \"\"\n			},\n			16000870: {\n				id: 16000870,\n				name: \"Proactiv-SD-LandingPages\",\n				oId: 202475,\n				stId: 200102,\n				ctId: 24,\n				ael: \"\"\n			},\n			21000871: {\n				id: 21000871,\n				name: \"Proactiv-Demandware-Generic\",\n				oId: 201185,\n				stId: 42,\n				ctId: 17000383,\n				ael: \"\",\n				svySpId: 13\n			},\n			22000871: {\n				id: 22000871,\n				name: \"ProCare_DT-ActiveMember-Demandware\",\n				oId: 201787,\n				stId: 200102,\n				ctId: 18000384,\n				ael: \"\"\n			},\n			22000872: {\n				id: 22000872,\n				name: \"ProCare_DT-SCA2-Demandware\",\n				oId: 201788,\n				stId: 200102,\n				ctId: 18000385,\n				ael: \"\"\n			},\n			22000873: {\n				id: 22000873,\n				name: \"Guthy-Diagnostic-Chat-Demandware\",\n				oId: 201571,\n				stId: 200102,\n				ctId: 17000383,\n				ael: \"\"\n			},\n			22000874: {\n				id: 22000874,\n				name: \"Guthy-Diagnostic-Chat-AfterHour-Demandware\",\n				oId: 201576,\n				stId: 200102,\n				ctId: 17000383,\n				ael: \"\"\n			},\n			23000876: {\n				id: 23000876,\n				name: \"Proactiv-Care-Demandware-Generic\",\n				oId: 8202739,\n				stId: 42,\n				ctId: 19000390,\n				ael: \"\"\n			}\n		},\n		c2cSpecs: {\n			39: {\n				id: 39,\n				name: \"Proactiv-M-Generic-R\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			40: {\n				id: 40,\n				name: \"Proactive-M-Quiz-R\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			41: {\n				id: 41,\n				name: \"Proactiv-M-Products-R\",\n				igaa: false,\n				thId: 103,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			42: {\n				id: 42,\n				name: \"Proactiv-M-Doctors-R\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			43: {\n				id: 43,\n				name: \"Proactive-M-Share-R\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			44: {\n				id: 44,\n				name: \"Proactiv-M-SkinClub-R\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			45: {\n				id: 45,\n				name: \"Proactiv-I-Products-R\",\n				igaa: false,\n				thId: 103,\n				chSpId: 108,\n				peId: \"inqC2CImgContainer\"\n			},\n			46: {\n				id: 46,\n				name: \"Proactiv-I-Order-R\",\n				igaa: false,\n				thId: 24,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			47: {\n				id: 47,\n				name: \"Proactiv-I-SO-R\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			48: {\n				id: 48,\n				name: \"Proactiv-Guarantee-R \",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			148: {\n				id: 148,\n				name: \"Proactiv-I-OrderYourSystem3G-R\",\n				igaa: false,\n				thId: 103,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			309: {\n				id: 309,\n				name: \"Proactive-OrderYour-System-for599\",\n				igaa: false,\n				thId: 23,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			370: {\n				id: 370,\n				name: \"ProactivCareNC_LeftNav_LiveChat\",\n				igaa: false,\n				thId: 276,\n				chSpId: 666,\n				peId: \"inqC2CImgContainer\"\n			},\n			377: {\n				id: 377,\n				name: \"ProactivCareNC_SideNav_WhiteBkgdGirl\",\n				igaa: false,\n				thId: 277,\n				chSpId: 666,\n				peId: \"inqC2C2ImgContainer\"\n			},\n			378: {\n				id: 378,\n				name: \"ProactivCareNC_SkinAdv_BlueBkgdGirl\",\n				igaa: false,\n				thId: 278,\n				chSpId: 666,\n				peId: \"inqC2C3ImgContainer\"\n			},\n			379: {\n				id: 379,\n				name: \"ProactivCareNC_SkinAdv_OrangeBtn\",\n				igaa: false,\n				thId: 279,\n				chSpId: 666,\n				peId: \"inqC2C4ImgContainer\"\n			},\n			382: {\n				id: 382,\n				name: \"ProactivCareNC_LeftNav_LiveChat-NoAgent\",\n				igaa: true,\n				thId: 276,\n				chSpId: 671,\n				peId: \"inqC2CImgContainer\"\n			},\n			383: {\n				id: 383,\n				name: \"ProactivCareNC_SideNav_WhiteBkgdGirl-NoAgent\",\n				igaa: true,\n				thId: 277,\n				chSpId: 671,\n				peId: \"inqC2C2ImgContainer\"\n			},\n			384: {\n				id: 384,\n				name: \"ProactivCareNC_SkinAdv_BlueBkgdGirl-NoAgent\",\n				igaa: true,\n				thId: 278,\n				chSpId: 671,\n				peId: \"inqC2C3ImgContainer\"\n			},\n			385: {\n				id: 385,\n				name: \"ProactivCareNC_SkinAdv_OrangeBtn-NoAgent\",\n				igaa: true,\n				thId: 279,\n				chSpId: 671,\n				peId: \"inqC2C4ImgContainer\"\n			},\n			403: {\n				id: 403,\n				name: \"DTree_ActivMember_LiveChat\",\n				igaa: true,\n				thId: 276,\n				chSpId: 726,\n				peId: \"inqC2CImgContainer\"\n			},\n			404: {\n				id: 404,\n				name: \"DTree_SCA_WhiteBkgdGirl\",\n				igaa: true,\n				thId: 277,\n				chSpId: 727,\n				peId: \"inqC2C2ImgContainer\"\n			},\n			405: {\n				id: 405,\n				name: \"DTree_SCA_BlueBkgdGirl\",\n				igaa: true,\n				thId: 278,\n				chSpId: 727,\n				peId: \"inqC2C3ImgContainer\"\n			},\n			406: {\n				id: 406,\n				name: \" DTree_SCA_OrangeBtn\",\n				igaa: true,\n				thId: 279,\n				chSpId: 727,\n				peId: \"inqC2C4ImgContainer\"\n			},\n			5000455: {\n				id: 5000455,\n				name: \"DTree_SCA_WhiteBkgdGirl2\",\n				igaa: true,\n				thId: 277,\n				chSpId: 4000791,\n				peId: \"inqC2C2ImgContainer\"\n			},\n			5000456: {\n				id: 5000456,\n				name: \"DTree_SCA_BlueBkgdGirl2\",\n				igaa: true,\n				thId: 278,\n				chSpId: 4000791,\n				peId: \"inqC2C3ImgContainer\"\n			},\n			5000457: {\n				id: 5000457,\n				name: \" DTree_SCA_OrangeBtn2\",\n				igaa: true,\n				thId: 279,\n				chSpId: 4000791,\n				peId: \"inqC2C4ImgContainer\"\n			},\n			9000503: {\n				id: 9000503,\n				name: \"Proactiv - Generic - Left Nav - Live Chat\",\n				igaa: false,\n				thId: 7000372,\n				chSpId: 453,\n				peId: \"inqC2CImgContainer\"\n			},\n			17000528: {\n				id: 17000528,\n				name: \"Proactiv_SD_LandingPages\",\n				igaa: false,\n				thId: 279,\n				chSpId: 16000870,\n				peId: \"inqC2CImgContainer\"\n			},\n			23000537: {\n				id: 23000537,\n				name: \"PRO_FOOTER_C2C11\",\n				igaa: true,\n				thId: 21000419,\n				chSpId: 22000871,\n				peId: \"inqC2CImgContainer11\"\n			},\n			23000538: {\n				id: 23000538,\n				name: \"PRO_FOOTER_C2C2\",\n				igaa: true,\n				thId: 21000420,\n				chSpId: 22000872,\n				peId: \"inqC2C2ImgContainer\"\n			},\n			23000539: {\n				id: 23000539,\n				name: \"PRO_LiveChat_C2C3\",\n				igaa: true,\n				thId: 21000421,\n				chSpId: 22000871,\n				peId: \"inqC2C3ImgContainer\"\n			},\n			23000540: {\n				id: 23000540,\n				name: \"PRO_LiveChat_C2C4\",\n				igaa: true,\n				thId: 21000422,\n				chSpId: 22000871,\n				peId: \"inqC2C4ImgContainer\"\n			},\n			23000541: {\n				id: 23000541,\n				name: \"PRO_LiveChat_C2C5\",\n				igaa: true,\n				thId: 21000423,\n				chSpId: 23000876,\n				peId: \"inqC2C5ImgContainer\"\n			},\n			23000542: {\n				id: 23000542,\n				name: \"PRO_LiveChat_C2C6\",\n				igaa: true,\n				thId: 21000424,\n				chSpId: 22000872,\n				peId: \"inqC2C6ImgContainer\"\n			},\n			23000543: {\n				id: 23000543,\n				name: \"PRO_LiveChat_C2C7\",\n				igaa: true,\n				thId: 21000425,\n				chSpId: 22000872,\n				peId: \"inqC2C7ImgContainer\"\n			},\n			23000544: {\n				id: 23000544,\n				name: \"PRO_LiveChat_C2C8\",\n				igaa: true,\n				thId: 21000426,\n				chSpId: 22000872,\n				peId: \"inqC2C8ImgContainer\"\n			},\n			23000545: {\n				id: 23000545,\n				name: \"PRO_LiveChat_C2C9\",\n				igaa: true,\n				thId: 21000427,\n				chSpId: 22000871,\n				peId: \"inqC2C9ImgContainer\"\n			},\n			23000546: {\n				id: 23000546,\n				name: \"PRO_LiveChat_C2C10\",\n				igaa: true,\n				thId: 21000428,\n				chSpId: 22000871,\n				peId: \"inqC2C10ImgContainer\"\n			}\n		},\n		c2cThemes: {\n			23: {\n				id: 23,\n				name: \"Proactiv-MarketingC2C\",\n				r: \"Proactiv_C2C_StartChat.gif\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			24: {\n				id: 24,\n				name: \"Proactiv-CartC2C\",\n				r: \"Proactivec2c_sm_Cart.gif\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			103: {\n				id: 103,\n				name: \"Proactiv-OrderYourSystem3G\",\n				r: \"Proactivec2c_sm_Order-Pg.gif\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			276: {\n				id: 276,\n				name: \"ProactivCareNC_LeftNav_LiveChat\",\n				r: \"Proactive_365_LeftNav_C2C.gif\",\n				b: \"Proactive_365_LeftNav_C2C.gif\",\n				ah: \"Proactive_365_LeftNav_C2C.gif\",\n				d: \"Proactive_365_LeftNav_C2C.gif\"\n			},\n			277: {\n				id: 277,\n				name: \"ProactivCareNC_SideNav_WhiteBkgdGirl\",\n				r: \"365sideNav_mid3.jpg\",\n				b: \"365sideNav_mid3.jpg\",\n				ah: \"365sideNav_mid3.jpg\",\n				d: \"365sideNav_mid3.jpg\"\n			},\n			278: {\n				id: 278,\n				name: \"ProactivCareNC_SkinAdv_BlueBkgdGirl\",\n				r: \"skinCareAdvisor2.jpg\",\n				b: \"skinCareAdvisor2.jpg\",\n				ah: \"skinCareAdvisor2.jpg\",\n				d: \"skinCareAdvisor2.jpg\"\n			},\n			279: {\n				id: 279,\n				name: \"ProactivCareNC_SkinAdv_OrangeBtn\",\n				r: \"skinCareAdvisor_button.png\",\n				b: \"skinCareAdvisor_button.png\",\n				ah: \"skinCareAdvisor_button.png\",\n				d: \"skinCareAdvisor_button.png\"\n			},\n			7000372: {\n				id: 7000372,\n				name: \"Proactiv_LiveChat_AgentsAvailable\",\n				r: \"Proactive_365_LeftNav_C2C.gif\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000419: {\n				id: 21000419,\n				name: \"PRO_FOOTER_C2C\",\n				r: \"footer-livechat.gif\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000420: {\n				id: 21000420,\n				name: \"PRO_FOOTER_C2C2\",\n				r: \"footer-livechat.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000421: {\n				id: 21000421,\n				name: \"PRO_LiveChat_C2C3\",\n				r: \"BTN_livechat_orange_On.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000422: {\n				id: 21000422,\n				name: \"PRO_LiveChat_C2C4\",\n				r: \"PA_Promo_main04.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000423: {\n				id: 21000423,\n				name: \"PRO_LiveChat_C2C5\",\n				r: \"PA_Promo_main05_on.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000424: {\n				id: 21000424,\n				name: \"PRO_LiveChat_C2C6\",\n				r: \"PA_Promo_main06.jpeg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000425: {\n				id: 21000425,\n				name: \"PRO_LiveChat_C2C7\",\n				r: \"Get_answers.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000426: {\n				id: 21000426,\n				name: \"PRO_LiveChat_C2C8\",\n				r: \"SKA_tile_on_inqC2C8.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000427: {\n				id: 21000427,\n				name: \"PRO_LiveChat_C2C9\",\n				r: \"livechat-icon.png\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			21000428: {\n				id: 21000428,\n				name: \"PRO_LiveChat_C2C10\",\n				r: \"PA_Promo_Diag01.jpeg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			28000445: {\n				id: 28000445,\n				name: \"PRO_LIVECHAT_SelectYourSystem\",\n				r: \"pa_sas_live_chat.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			29000446: {\n				id: 29000446,\n				name: \"PRO_Care_C2C6\",\n				r: \"PA_Promo_Advisors_Skyscraper_C2C6 jpg.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			},\n			30000446: {\n				id: 30000446,\n				name: \"Pro_Care_C2C11Footer\",\n				r: \"livechat-footer_C2C2 jpg.jpg\",\n				b: \"blank.gif\",\n				ah: \"blank.gif\",\n				d: \"blank.gif\"\n			}\n		}\n	});\n	var qDefaults = {\n		427: {\n			qt: 200.0 / 100,\n			priority: 0\n		},\n		18: {\n			qt: 100.0 / 100,\n			priority: 100\n		},\n		414: {\n			qt: 100.0 / 100,\n			priority: 0\n		},\n		415: {\n			qt: 200.0 / 100,\n			priority: 0\n		}\n	};\n	var BRM = new G3RE13(\"BRM\", {\n		rules: [Rule.create({\n			id: 5,\n			name: \"Sale Setter Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (false);\n			},\n			actionFcn: function(rule, evt) {\n				log(\"Won't happen\");\n			}\n		}), Rule.create({\n			id: 10,\n			name: \"Incrementality Attribute Setter Stub Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(VAM.test({\n					\"vis_attr_incr_val\": {\n						\"values\": {},\n						\"mutuallyExclusive\": false\n					}\n				})));\n			},\n			actionFcn: function(rule, evt) {\n				VAM.add({\n					\"vis_attr_incr_val\": {\n						\"values\": MI8.unmixMutatable(MI8.mixMutatable().set(\"\", true))\n					},\n					\"mutuallyExclusive\": false\n				});\n			}\n		}), Rule.create({\n			id: 400,\n			name: \"MobileSuppression\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((isDeviceType(\"Unsupported\")) || (isDeviceType(\"Phone\")) || (isDeviceType(\"Tablet\")));\n			},\n			actionFcn: function(rule, evt) {\n				Inq.blockServices([\"ALL\"], -1);\n			}\n		}), Rule.create({\n			id: 500,\n			name: \"Session Manager- Reset Session Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}, {\n					id: \"onCustomerMsg\"\n				}, {\n					id: \"onAgentMsg\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (PM.getVar(\"loyalty\", rule).getValue() == 0.0) {\n					PM.getVar(\"loyalty\", rule).setValue(1.0);\n					PM.getVar(\"sesID\", rule).setValue(Inq.getCustID() + (exists(PM.getVar(\"loyalty\", rule).getValue()) ? PM.getVar(\"loyalty\", rule).getValue().toString() : \"\"));\n					PM.getVar(\"fst\", rule).setValue(new Date());\n					PM.getVar(\"lst\", rule).setValue(PM.getVar(\"fst\", rule).getValue());\n					EVM.fireCustomEvent('NewSession', rule, evt, function() {\n						return {};\n					}, true);\n				} else if (((!(exists(PM.getVar(\"ltt\", rule).getValue()))) && (!(PM.getVar(\"loyalty\", rule).getValue() == 0.0))) || (new Date().after(PM.getVar(\"ltt\", rule).getValue().roll(getConstant(\"SESSION_EXPIRE_TIME\", rule))))) {\n					PM.getVar(\"loyalty\", rule).setValue((PM.getVar(\"loyalty\", rule).getValue() + 1.0));\n					PM.reset(\"session\");\n					PM.getVar(\"sesID\", rule).setValue(Inq.getCustID() + (exists(PM.getVar(\"loyalty\", rule).getValue()) ? PM.getVar(\"loyalty\", rule).getValue().toString() : \"\"));\n					PM.getVar(\"lst\", rule).setValue(new Date());\n					EVM.fireCustomEvent('NewSession', rule, evt, function() {\n						return {};\n					}, true);\n				}\n				PM.getVar(\"ltt\", rule).setValue(new Date());\n			}\n		}), Rule.create({\n			id: 550,\n			name: \"Chat Count Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatLaunched\",\n					serviceType: \"C2C\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"C2CALL\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"POPUP\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"POPUP_CALL\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"PERSISTENT\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"chatCnt\", rule).setValue((PM.getVar(\"chatCnt\", rule).getValue() + 1.0));\n			}\n		}), Rule.create({\n			id: 551,\n			name: \"Sale Qualification Count Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"Assisted\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"salesQualificationCount\", rule).setValue((PM.getVar(\"salesQualificationCount\", rule).getValue() + 1.0));\n			}\n		}), Rule.create({\n			id: 553,\n			name: \"DEPRECATED Clientside listeners backward compatibility Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				publishAPI(\"InqSaleMgr.getSaleID\", \"assistChatID\");\n			}\n		}), Rule.create({\n			id: 555,\n			name: \"Referring Search Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"NewSession\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rd\", rule).setValue(URI.parseURI(doc.referrer).domain);\n				if ((URI.parseURI(doc.referrer).domain.endsWith(\"google.com\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"ask.com\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"aol.com\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"bing.com\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"google.fr\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"google.de\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"google.co.uk\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"aol.fr\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"aol.de\", true)) || (URI.parseURI(doc.referrer).domain.endsWith(\"aol.co.uk\", true))) {\n					PM.getVar(\"sest\", rule).setValue(URI.parseURI(doc.referrer).qMap[\"q\"]);\n				} else if (URI.parseURI(doc.referrer).domain.endsWith(\"yahoo.com\", true)) {\n					PM.getVar(\"sest\", rule).setValue(URI.parseURI(doc.referrer).qMap[\"p\"]);\n				} else {\n					PM.getVar(\"sest\", rule).setValue(\"\");\n				}\n			}\n		}), Rule.create({\n			id: 600,\n			name: \"Sale Page Counting Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((exists(safe(\"inqSalesProducts\"))) && (exists(safe(\"inqSalesQuantities\"))));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"saleLC\", rule).setValue((PM.getVar(\"saleLC\", rule).getValue() + 1.0));\n				EVM.fireCustomEvent('SaleLanding', rule, evt, function() {\n					return {};\n				}, true);\n			}\n		}), Rule.create({\n			id: 605,\n			name: \"Sale Reset Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}, {\n					id: \"on\" + \"SaleLanding\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(CHM.isPersistentWindow())) && (!(PM.getVar(\"saleState\", rule).getValue().equals(getConstant(\"SALE_STATE_UNSOLD\", rule), false))) && ((new Date().after(PM.getVar(\"assistDT\", rule).getValue().roll(getConstant(\"SALE_EXPIRATION\", rule)))) || ((exists(PM.getVar(\"soldDT\", rule).getValue())) && (new Date(86400000).before(PM.getVar(\"soldDT\", rule).getValue())) && (new Date().after(PM.getVar(\"soldDT\", rule).getValue().roll(getConstant(\"SALE_EXPIRATION\", rule)))))));\n			},\n			actionFcn: function(rule, evt) {\n				Inq.doRuleActionList(\"saveAssistedVariablesActionList\", rule, evt);\n				PM.getVar(\"saleState\", rule).setValue(getConstant(\"SALE_STATE_UNSOLD\", rule));\n				PM.getVar(\"assistDT\", rule).setValue(new Date(0.0));\n				PM.getVar(\"soldDT\", rule).setValue(new Date(0.0));\n				PM.getVar(\"assistAgt\", rule).setValue(\"\");\n				PM.getVar(\"assistChatID\", rule).setValue(\"-1\");\n				EVM.fireCustomEvent('SaleStateTransition', rule, evt, function() {\n					return {};\n				}, true);\n			}\n		}), Rule.create({\n			id: 610,\n			name: \"Sale Page Landing Data Pass\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"SaleLanding\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (PM.getVar(\"saleState\", rule).getValue().equals(getConstant(\"SALE_STATE_UNSOLD\", rule), false));\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(resources[\"SALE_LANDING_CONTROLLER\"].url, {\n					\"agentID\": prepareDataToSend(CHM.getAgentID()),\n					\"chatID\": prepareDataToSend(PM.getVar(\"assistChatID\", rule).getValue()),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"products\": prepareDataToSend((exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null)),\n					\"quantities\": prepareDataToSend((exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null)),\n					\"prices\": prepareDataToSend((exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null)),\n					\"productTypes\": prepareDataToSend((exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null)),\n					\"orderType\": prepareDataToSend((exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null)),\n					\"customerName\": prepareDataToSend((exists(safe(\"inqCustomerName\")) ? safe(\"inqCustomerName\") : null)),\n					\"clientOrderNum\": prepareDataToSend((exists(safe(\"inqClientOrderNum\")) ? safe(\"inqClientOrderNum\") : null)),\n					\"testOrder\": prepareDataToSend((exists(safe(\"inqTestOrder\")) ? safe(\"inqTestOrder\") : null)),\n					\"otherInfo\": prepareDataToSend((exists(safe(\"inqOtherInfo\")) ? safe(\"inqOtherInfo\") : null)),\n					\"clientTimestamp\": prepareDataToSend((exists(safe(\"inqClientTimeStamp\")) ? safe(\"inqClientTimeStamp\") : null))\n				});\n				PM.getVar(\"saleValue\", rule).setValue(parseFloat(FM.callExternal(\"saleValue\")));\n				log(\"***************** SALE LANDING *****************\");\n			}\n		}), Rule.create({\n			id: 620,\n			name: \"Fire AssistedEvent Rule - by Message Count\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentMsg\"\n				}, {\n					id: \"onCustomerMsg\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((exists(evt.agtMsgCnt)) && (exists(evt.custMsgCnt)) && (parseFloat(evt.agtMsgCnt) >= getConstant(\"ASSISTED_AGENT_CHAT_COUNT\", rule)) && (parseFloat(evt.custMsgCnt) >= getConstant(\"ASSISTED_CUSTOMER_CHAT_COUNT\", rule)));\n			},\n			actionFcn: function(rule, evt) {\n				log(\"******** ASSISTED by message exchange **********\");\n				PM.getVar(\"assistedType\", rule).setValue(getConstant(\"MESSAGE_COUNT_ASSISTED\", rule));\n				EVM.fireCustomEvent('AssistedEvent', rule, evt, function() {\n					return {\n						businessUnitID: CHM.getChat().getBusinessUnitID()\n					};\n				}, true);\n			}\n		}), Rule.create({\n			id: 621,\n			name: \"Fire AssistedEvent Rule - by Persistent Push\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onPersistentPush\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!((CHM.isServiceInProgress(\"C2CALL\")) || (CHM.isServiceInProgress(\"POPUP_CALL\")) || ((CHM.isServiceInProgress(\"C2C\")) && (false))));\n			},\n			actionFcn: function(rule, evt) {\n				log(\"******** ASSISTED by Persistent Push **********\");\n				PM.getVar(\"assistedType\", rule).setValue(getConstant(\"PERSISTENT_ASSISTED\", rule));\n				EVM.fireCustomEvent('AssistedEvent', rule, evt, function() {\n					return {\n						businessUnitID: CHM.getChat().getBusinessUnitID()\n					};\n				}, true);\n			}\n		}), Rule.create({\n			id: 622,\n			name: \"Assisted Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"AssistedEvent\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				Inq.doRuleActionList(\"setAssistedStateActionList\", rule, evt);\n			}\n		}), Rule.create({\n			id: 624,\n			name: \"Send Assisted Event on Agent Assigned\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentAssigned\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((CHM.isPersistentWindow()) && ((CHM.isServiceInProgress(\"C2CALL\")) || (CHM.isServiceInProgress(\"POPUP_CALL\")) || ((CHM.isServiceInProgress(\"C2C\")) && (false))));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('AssistedEvent', rule, evt, function() {\n					return {\n						businessUnitID: CHM.getChat().getBusinessUnitID()\n					};\n				}, true);\n			}\n		}), Rule.create({\n			id: 625,\n			name: \"Sale Conversion Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"SaleLanding\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(PM.getVar(\"saleState\", rule).getValue().equals(getConstant(\"SALE_STATE_UNSOLD\", rule), false)));\n			},\n			actionFcn: function(rule, evt) {\n				CRMT.create({\n					doCallbackActions: function(data) {\n						if ((new Boolean(data.success)).valueOf()) {\n							Inq.doRuleActionList(\"saveAssistedVariablesActionList\", rule, evt);\n							PM.getVar(\"saleState\", rule).setValue(getConstant(\"SALE_STATE_CONVERTED\", rule));\n							PM.getVar(\"saleID\", rule).setValue((exists(data.saleID) ? data.saleID.toString() : \"\"));\n							PM.getVar(\"soldDT\", rule).setValue(new Date());\n							EVM.fireCustomEvent('SaleStateTransition', rule, evt, function() {\n								return {};\n							}, true);\n							EVM.fireCustomEvent('Converted', rule, evt, function() {\n								return {};\n							}, true);\n						}\n					}\n				}).callRemote(resources[\"SET_SALE_CONTROLLER\"].url, {\n					\"agentID\": prepareDataToSend(PM.getVar(\"assistAgt\", rule).getValue()),\n					\"chatID\": prepareDataToSend(PM.getVar(\"assistChatID\", rule).getValue()),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"products\": prepareDataToSend((exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null)),\n					\"quantities\": prepareDataToSend((exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null)),\n					\"prices\": prepareDataToSend((exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null)),\n					\"productTypes\": prepareDataToSend((exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null)),\n					\"products2\": prepareDataToSend((exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null)),\n					\"quantities2\": prepareDataToSend((exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null)),\n					\"prices2\": prepareDataToSend((exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null)),\n					\"productTypes2\": prepareDataToSend((exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null)),\n					\"orderType\": prepareDataToSend((exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null)),\n					\"customerName\": prepareDataToSend((exists(safe(\"inqCustomerName\")) ? safe(\"inqCustomerName\") : null)),\n					\"clientOrderNum\": prepareDataToSend((exists(safe(\"inqClientOrderNum\")) ? safe(\"inqClientOrderNum\") : null)),\n					\"testOrder\": prepareDataToSend((exists(safe(\"inqTestOrder\")) ? safe(\"inqTestOrder\") : null)),\n					\"otherInfo\": prepareDataToSend((exists(safe(\"inqOtherInfo\")) ? safe(\"inqOtherInfo\") : null)),\n					\"clientTimestamp\": prepareDataToSend((exists(safe(\"inqClientTimeStamp\")) ? safe(\"inqClientTimeStamp\") : null)),\n					\"siteID\": prepareDataToSend(getSiteID())\n				});\n			}\n		}), Rule.create({\n			id: 635,\n			name: \"Save Last n Sales\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"Converted\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"nSalesID\", rule).prepend([PM.getVar(\"saleID\", rule).getValue()]);\n			}\n		}), Rule.create({\n			id: 700,\n			name: \"Page Landing Data Pass\",\n			vars: [new VBER34(\"url_700\", null, resources[\"tmpVars\"], \"url\", function(o) {\n				return o ? o.toString() : o;\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((CHM.isServiceInProgress(\"ANY\")) && (!(safe(\"top.name\").equals(\"_inqPersistentChat\", false))));\n			},\n			actionFcn: function(rule, evt) {\n				if (getConstant(\"REMOVE_QUERY_STRING_FROM_TRACKING_URL\", rule)) {\n					PM.getVar(\"url\", rule).setValue(LDM.getCurrentPageURL().replace(/\\?.*/g, \"\"));\n				} else {\n					PM.getVar(\"url\", rule).setValue(LDM.getCurrentPageURL());\n				}\n				ROM.send(urls.baseURL + \"/tracking/agent\", MI8.mixMutatable(MI8.mixAbsorber(MI8.mixMutatable().set(\"URL\", PM.getVar(\"url\", rule).getValue()).set(\"markerID\", LDM.getPageMarker())).absorb(safe('inqData'))).set(\"agentID\", CHM.getAgentID()).set(\"chatID\", CHM.getChatID()));\n			}\n		}), Rule.create({\n			id: 710,\n			name: \"Agent Assigned Tracking\",\n			vars: [new VBER34(\"url_710\", null, resources[\"tmpVars\"], \"url\", function(o) {\n				return o ? o.toString() : o;\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentAssigned\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((CHM.isServiceInProgress(\"ANY\")) && (!(safe(\"top.name\").equals(\"_inqPersistentChat\", false))));\n			},\n			actionFcn: function(rule, evt) {\n				if (getConstant(\"REMOVE_QUERY_STRING_FROM_TRACKING_URL\", rule)) {\n					PM.getVar(\"url\", rule).setValue(LDM.getCurrentPageURL().replace(/\\?.*/g, \"\"));\n				} else {\n					PM.getVar(\"url\", rule).setValue(LDM.getCurrentPageURL());\n				}\n				ROM.send(urls.baseURL + \"/tracking/agent\", {\n					\"URL\": prepareDataToSend(PM.getVar(\"url\", rule).getValue()),\n					\"markerID\": prepareDataToSend(LDM.getPageMarker()),\n					agentID: CHM.getAgentID(),\n					chatID: CHM.getChatID()\n				});\n			}\n		}), Rule.create({\n			id: 800,\n			name: \"Eligible Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"NewSession\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(exists(PM.getVar(\"incStart\", rule).getValue()))) || (new Date().after(PM.getVar(\"incStart\", rule).getValue().roll(getConstant(\"INC_GROUP_DURATION\", rule)))));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"incStart\", rule).setValue(new Date());\n				PM.getVar(\"incID\", rule).setValue(getSessionID());\n				if ((!(PM.getVar(\"incExempt\", rule).getValue())) && (rand(1, 100, true) <= getConstant(\"INC_CONTROL_PERCENT\", rule))) {\n					PM.getVar(\"incGroup\", rule).setValue(getConstant(\"INC_GROUP_CONTROL\", rule));\n				} else {\n					PM.getVar(\"incGroup\", rule).setValue(getConstant(\"INC_GROUP_CHAT\", rule));\n				}\n				PM.getVar(\"incState\", rule).setValue(getConstant(\"INC_STATE_ELIGIBLE\", rule));\n				EVM.fireCustomEvent('EligibleEvent', rule, evt, function() {\n					return {};\n				}, true);\n				ROM.send(resources[\"INC_EVENT_URL\"].url, {\n					\"evt\": prepareDataToSend(getConstant(\"INC_STATE_ELIGIBLE\", rule)),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"group\": prepareDataToSend(PM.getVar(\"incGroup\", rule).getValue()),\n					\"exempt\": prepareDataToSend(PM.getVar(\"incExempt\", rule).getValue()),\n					\"igdStart\": prepareDataToSend(PM.getVar(\"incStart\", rule).getValue()),\n					\"businessUnitID\": prepareDataToSend(evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()),\n					\"browserType\": prepareDataToSend(getClientBrowserType()),\n					\"browserVersion\": prepareDataToSend(getClientBrowserVersion()),\n					\"operatingSystemType\": prepareDataToSend(getOSType()),\n					\"deviceType\": prepareDataToSend(getDeviceType()),\n					\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n				});\n			}\n		}), Rule.create({\n			id: 802,\n			name: \"Set G3RE13 Actionable Flag\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (PM.getVar(\"incGroup\", rule).getValue().equals(getConstant(\"INC_GROUP_CONTROL\", rule), true));\n			},\n			actionFcn: function(rule, evt) {\n				BRM.setActionable(false);\n			}\n		}), Rule.create({\n			id: 805,\n			name: \"Targeted Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onRuleSatisfied\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(CHM.isServiceInProgress(\"ANY\")));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('TargetedEvent', rule, evt, function() {\n					return {\n						brID: evt.rule.id,\n						businessUnitID: evt.rule.getBusinessUnitID()\n					};\n				}, true);\n				ROM.send(resources[\"INC_EVENT_URL\"].url, {\n					\"evt\": prepareDataToSend(getConstant(\"INC_STATE_TARGETED\", rule)),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"group\": prepareDataToSend(PM.getVar(\"incGroup\", rule).getValue()),\n					\"brID\": prepareDataToSend(evt.rule.id),\n					\"businessUnitID\": prepareDataToSend(evt.rule.getBusinessUnitID()),\n					\"targetAgentAttributes\": prepareDataToSend(evt.rule.getAgentAttributesAsString()),\n					\"brAttributes\": prepareDataToSend(evt.rule.getRuleAttributesAsString()),\n					\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n				});\n			}\n		}), Rule.create({\n			id: 807,\n			name: \"Exposure Qualified Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onExposureQualified\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(resources[\"INC_EVENT_URL\"].url, {\n					\"evt\": prepareDataToSend(getConstant(\"INC_STATE_EXPOSURE_QUALIFIED\", rule)),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID()),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"businessUnitID\": prepareDataToSend(evt.rule.getBusinessUnitID()),\n					\"group\": prepareDataToSend(PM.getVar(\"incGroup\", rule).getValue()),\n					\"brID\": prepareDataToSend(evt.rule.id),\n					\"result\": prepareDataToSend(evt.result),\n					\"targetAgentAttributes\": prepareDataToSend(evt.rule.getAgentAttributesAsString()),\n					\"brAttributes\": prepareDataToSend(evt.rule.getRuleAttributesAsString()),\n					\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n				});\n			}\n		}), Rule.create({\n			id: 810,\n			name: \"Exposed Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onServiceInvitation\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('ExposedEvent', rule, evt, function() {\n					return {\n						businessUnitID: evt.rule.getBusinessUnitID()\n					};\n				}, true);\n				ROM.send(resources[\"INC_EVENT_URL\"].url, {\n					\"evt\": prepareDataToSend(getConstant(\"INC_STATE_EXPOSED\", rule)),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"brID\": prepareDataToSend(evt.rule.id),\n					\"chatID\": prepareDataToSend(CHM.getChatID()),\n					\"businessUnitID\": prepareDataToSend(evt.rule.getBusinessUnitID()),\n					\"targetAgentAttributes\": prepareDataToSend(evt.rule.getAgentAttributesAsString()),\n					\"brAttributes\": prepareDataToSend(evt.rule.getRuleAttributesAsString()),\n					\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n				});\n			}\n		}), Rule.create({\n			id: 811,\n			name: \"engagement.windowDisplayed rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatLaunched\",\n					serviceType: \"C2C\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"C2CALL\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"POPUP\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"POPUP_CALL\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"PERSISTENT\"\n				}, {\n					id: \"onChatLaunched\",\n					serviceType: \"CONVERSIVE\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(resources[\"JASPER_ETL\"].url, {\n					\"_domain\": prepareDataToSend(\"engagement\"),\n					\"evt\": prepareDataToSend(\"windowDisplayed\"),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"incAssignmentID\": prepareDataToSend(getIncAssignmentID()),\n					\"businessRuleID\": prepareDataToSend(evt.rule.id),\n					\"chatID\": prepareDataToSend(CHM.getChatID()),\n					\"businessUnitID\": prepareDataToSend(evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()),\n					\"inHOP\": prepareDataToSend(evt.inHOP),\n					\"targetAgentAttributes\": prepareDataToSend(evt.rule.getAgentAttributesAsString()),\n					\"brAttributes\": prepareDataToSend(evt.rule.getRuleAttributesAsString()),\n					\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n				});\n			}\n		}), Rule.create({\n			id: 812,\n			name: \"engagement.persistentWindowDisplayed rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatLaunched\",\n					serviceType: \"PERSISTENT\"\n				}, {\n					id: \"onPersistentPush\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(resources[\"JASPER_ETL\"].url, {\n					\"_domain\": prepareDataToSend(\"engagement\"),\n					\"evt\": prepareDataToSend(\"persistentWindowDisplayed\"),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"incAssignmentID\": prepareDataToSend(getIncAssignmentID()),\n					\"businessRuleID\": prepareDataToSend(evt.rule.id),\n					\"chatID\": prepareDataToSend(CHM.getChatID()),\n					\"businessUnitID\": prepareDataToSend(evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()),\n					\"inHOP\": prepareDataToSend(evt.inHOP),\n					\"targetAgentAttributes\": prepareDataToSend(evt.rule.getAgentAttributesAsString()),\n					\"brAttributes\": prepareDataToSend(evt.rule.getRuleAttributesAsString())\n				});\n			}\n		}), Rule.create({\n			id: 814,\n			name: \"ServiceEngaged Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onServiceEngaged\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('EngagedEvent', rule, evt, function() {\n					return {\n						businessUnitID: evt.rule.getBusinessUnitID(),\n						rule: evt.rule\n					};\n				}, true);\n			}\n		}), Rule.create({\n			id: 813,\n			name: \"Move Inc State Through Funnel Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"IncStateFunnelTransition\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (parseFloat(PM.getVar(\"incStatesMap\", rule).getValue().get(PM.getVar(\"incState\", rule).getValue())) < parseFloat(PM.getVar(\"incStatesMap\", rule).getValue().get(evt.newState))) {\n					PM.getVar(\"incState\", rule).setValue((exists(evt.newState) ? evt.newState.toString() : \"\"));\n				}\n			}\n		}), Rule.create({\n			id: 815,\n			name: \"Engaged Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"EngagedEvent\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (!(CHM.getChatID().equals(PM.getVar(\"engagedChatID\", rule).getValue(), false))) {\n					PM.getVar(\"engagedChatID\", rule).setValue(CHM.getChatID());\n					EVM.fireCustomEvent('IncStateFunnelTransition', rule, evt, function() {\n						return {\n							newState: getConstant(\"INC_STATE_ENGAGED\", rule)\n						};\n					}, true);\n					ROM.send(resources[\"INC_EVENT_URL\"].url, {\n						\"evt\": prepareDataToSend(getConstant(\"INC_STATE_ENGAGED\", rule)),\n						\"siteID\": prepareDataToSend(getSiteID()),\n						\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n						\"customerID\": prepareDataToSend(Inq.getCustID()),\n						\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n						\"sessionID\": prepareDataToSend(getSessionID()),\n						\"brID\": prepareDataToSend(CHM.getChat().getRuleId()),\n						\"chatID\": prepareDataToSend(CHM.getChatID()),\n						\"businessUnitID\": prepareDataToSend(evt.rule.getBusinessUnitID()),\n						\"targetAgentAttributes\": prepareDataToSend(CHM.getChat().getAgentAttributesAsString()),\n						\"brAttributes\": prepareDataToSend(CHM.getChat().getRuleAttributesAsString()),\n						\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n					});\n				}\n			}\n		}), Rule.create({\n			id: 820,\n			name: \"Fire Interacted Event Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onServiceInteracted\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('InteractedEvent', rule, evt, function() {\n					return {\n						businessUnitID: CHM.getChat().getBusinessUnitID()\n					};\n				}, true);\n			}\n		}), Rule.create({\n			id: 821,\n			name: \"Interacted Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"InteractedEvent\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (!(CHM.getChatID().equals(PM.getVar(\"interactedChatID\", rule).getValue(), false))) {\n					PM.getVar(\"interactedChatID\", rule).setValue(CHM.getChatID());\n					EVM.fireCustomEvent('IncStateFunnelTransition', rule, evt, function() {\n						return {\n							newState: getConstant(\"INC_STATE_INTERACTED\", rule)\n						};\n					}, true);\n					PM.getVar(\"incExempt\", rule).setValue(true);\n					ROM.send(resources[\"INC_EVENT_URL\"].url, {\n						\"evt\": prepareDataToSend(getConstant(\"INC_STATE_INTERACTED\", rule)),\n						\"siteID\": prepareDataToSend(getSiteID()),\n						\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n						\"customerID\": prepareDataToSend(Inq.getCustID()),\n						\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n						\"sessionID\": prepareDataToSend(getSessionID()),\n						\"brID\": prepareDataToSend(CHM.getChat().getRuleId()),\n						\"chatID\": prepareDataToSend(CHM.getChatID()),\n						\"businessUnitID\": prepareDataToSend(CHM.getChat().getBusinessUnitID()),\n						\"targetAgentAttributes\": prepareDataToSend(CHM.getChat().getAgentAttributesAsString()),\n						\"brAttributes\": prepareDataToSend(CHM.getChat().getRuleAttributesAsString()),\n						\"type\": prepareDataToSend(CHM.getConversionType())\n					});\n				}\n			}\n		}), Rule.create({\n			id: 830,\n			name: \"Converted Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"SaleLanding\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"incState\", rule).setValue(getConstant(\"INC_STATE_CONVERTED\", rule));\n				EVM.fireCustomEvent('ConvertedEvent', rule, evt, function() {\n					return {\n						businessUnitID: CHM.getLastChat().businessUnitID\n					};\n				}, true);\n				ROM.send(resources[\"INC_EVENT_URL\"].url, {\n					\"evt\": prepareDataToSend(getConstant(\"INC_STATE_CONVERTED\", rule)),\n					\"siteID\": prepareDataToSend(getSiteID()),\n					\"pageID\": prepareDataToSend(LDM.getPageID(0)),\n					\"customerID\": prepareDataToSend(Inq.getCustID()),\n					\"incrementalityID\": prepareDataToSend(getIncAssignmentID()),\n					\"sessionID\": prepareDataToSend(getSessionID()),\n					\"group\": prepareDataToSend(PM.getVar(\"incGroup\", rule).getValue()),\n					\"products\": prepareDataToSend((exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null)),\n					\"quantities\": prepareDataToSend((exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null)),\n					\"prices\": prepareDataToSend((exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null)),\n					\"productTypes\": prepareDataToSend((exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null)),\n					\"products2\": prepareDataToSend((exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null)),\n					\"quantities2\": prepareDataToSend((exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null)),\n					\"prices2\": prepareDataToSend((exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null)),\n					\"productTypes2\": prepareDataToSend((exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null)),\n					\"orderType\": prepareDataToSend((exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null)),\n					\"customerName\": prepareDataToSend((exists(safe(\"inqCustomerName\")) ? safe(\"inqCustomerName\") : null)),\n					\"orderID\": prepareDataToSend((exists(safe(\"inqClientOrderNum\")) ? safe(\"inqClientOrderNum\") : null)),\n					\"testOrder\": prepareDataToSend((exists(safe(\"inqTestOrder\")) ? safe(\"inqTestOrder\") : null)),\n					\"otherInfo\": prepareDataToSend((exists(safe(\"inqOtherInfo\")) ? safe(\"inqOtherInfo\") : null)),\n					\"clientTimestamp\": prepareDataToSend((exists(safe(\"inqClientTimeStamp\")) ? safe(\"inqClientTimeStamp\") : null)),\n					\"businessUnitID\": prepareDataToSend(CHM.getLastChat().businessUnitID),\n					\"visitorAttributes\": prepareDataToSend((exists(VAM.getCopyAsArray().join(\";\")) ? VAM.getCopyAsArray().join(\";\").toString() : \"\"))\n				});\n			}\n		}), Rule.create({\n			id: 850,\n			name: \"Set Service Missed Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onServiceMissed\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((exists(evt.serviceType) ? evt.serviceType.toString() : \"\").equals(\"POPUP\", false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"svcMissed\", rule).setValue(parseFloat(evt.rule.id));\n			}\n		}), Rule.create({\n			id: 855,\n			name: \"Clear Service Missed Rule and update lco\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onServiceInvitation\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (\"POPUP\".equals((exists(evt.serviceType) ? evt.serviceType.toString() : \"\"), false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"svcMissed\", rule).setValue(-1.0);\n				PM.getVar(\"lco\", rule).setValue(new Date());\n			}\n		}), Rule.create({\n			id: 900,\n			name: \"Frequency Metric Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"NewSession\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (PM.getVar(\"loyalty\", rule).getValue() > 1.0) {\n					PM.getVar(\"freq\", rule).setValue((Math.round(PM.getVar(\"lst\", rule).getValue().diff(PM.getVar(\"fst\", rule).getValue()) / (1000)) / (PM.getVar(\"loyalty\", rule).getValue() - 1.0)));\n				} else {\n					PM.getVar(\"freq\", rule).setValue(0.0);\n				}\n			}\n		}), Rule.create({\n			id: 910,\n			name: \"Last n Session Time Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"NewSession\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (exists(PM.getVar(\"lst\", rule).getValue())) {\n					PM.getVar(\"nSesT\", rule).prepend([PM.getVar(\"lst\", rule).getValue()]);\n				}\n			}\n		}), Rule.create({\n			id: 920,\n			name: \"Session Time Reset\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"NewSession\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"sesT\", rule).setValue(0.0);\n			}\n		}), Rule.create({\n			id: 930,\n			name: \"Session and Site Time Update\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentMsg\"\n				}, {\n					id: \"onCustomerMsg\"\n				}, {\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"siteT\", rule).setValue((PM.getVar(\"siteT\", rule).getValue() + (parseFloat(Math.round(PM.getVar(\"ltt\", rule).getValue().diff(PM.getVar(\"lst\", rule).getValue()) / (1000))) - PM.getVar(\"sesT\", rule).getValue())));\n				PM.getVar(\"sesT\", rule).setValue(parseFloat(Math.round(PM.getVar(\"ltt\", rule).getValue().diff(PM.getVar(\"lst\", rule).getValue()) / (1000))));\n			}\n		}), Rule.create({\n			id: 940,\n			name: \"Customer IP Resolution\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(exists(PM.getVar(\"custHost\", rule).getValue())));\n			},\n			actionFcn: function(rule, evt) {\n				CRMT.create({\n					doCallbackActions: function(data) {\n						PM.getVar(\"custHost\", rule).setValue((exists(data.hostName) ? data.hostName.toString() : \"\"));\n					}\n				}).callRemote(resources[\"RESOLVE_IP_CONTROLLER\"].url, {\n					\"ip\": prepareDataToSend(Inq.getCustIP())\n				});\n			}\n		}), Rule.create({\n			id: 945,\n			name: \"resetFunnelLevel\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((exists(PM.getVar(\"lco\", rule).getValue())) && (new Date().after(PM.getVar(\"lco\", rule).getValue().roll(getConstant(\"RECHAT_INTERVAL\", rule)))));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"cfl\", rule).setValue(getConstant(\"MAX_LONG\", rule));\n			}\n		}), Rule.create({\n			id: 950,\n			name: \"CurrentFunnelLevelUpdater Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatLaunched\",\n					serviceType: \"ALL\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(exists(evt.rule.getConstant('ifl')))) && (exists(evt.rule.getConstant('fl'))) && (PM.getVar(\"cfl\", rule).getValue() > parseFloat(evt.rule.getConstant('fl'))));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"cfl\", rule).setValue(parseFloat(evt.rule.getConstant('fl')));\n			}\n		}), Rule.create({\n			id: 960,\n			name: \"Call Closed Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatClosed\",\n					serviceType: \"POPUP_CALL\"\n				}, {\n					id: \"onChatClosed\",\n					serviceType: \"C2CALL\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"continueTrackingAfterCallClose\", rule).setValue(true);\n				PM.getVar(\"lastCallId\", rule).setValue(CHM.getChatID());\n				PM.getVar(\"lastCallAgentId\", rule).setValue(CHM.getAgentID());\n			}\n		}), Rule.create({\n			id: 970,\n			name: \"Continue Tracking After Call Close Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (PM.getVar(\"continueTrackingAfterCallClose\", rule).getValue());\n			},\n			actionFcn: function(rule, evt) {\n				CRMT.create({\n					doCallbackActions: function(data) {\n						if ((new Boolean(data.agentInChat)).valueOf()) {\n							ROM.send(urls.baseURL + \"/tracking/agent\", {\n								\"URL\": prepareDataToSend(LDM.getCurrentPageURL()),\n								\"markerID\": prepareDataToSend(LDM.getPageMarker()),\n								agentID: PM.getVar(\"lastCallAgentId\", rule).getValue(),\n								chatID: PM.getVar(\"lastCallId\", rule).getValue()\n							});\n						} else {\n							PM.getVar(\"continueTrackingAfterCallClose\", rule).setValue(false);\n						}\n					}\n				}).callRemote(resources[\"IS_AGENT_IN_CHAT\"].url, {\n					\"chatID\": prepareDataToSend(PM.getVar(\"lastCallId\", rule).getValue())\n				});\n			}\n		}), Rule.create({\n			id: 980,\n			name: \"Baynote Event API Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"BaynoteVisitEvent\"\n				}, {\n					id: \"on\" + \"BaynoteLingerEvent\"\n				}, {\n					id: \"on\" + \"BaynoteExitEvent\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(\"\".equals(getConstant(\"BAYNOTE_CUSTOMER_ID\", rule), false)));\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(getConstant(\"BAYNOTE_EVENT_API_URL\", rule).replace(/customerid/g, getConstant(\"BAYNOTE_CUSTOMER_ID\", rule)).replace(/code/g, getConstant(\"BAYNOTE_CODE\", rule)), MI8.mixMutatable(evt).set(\"v\", 1.0));\n			}\n		}), Rule.create({\n			id: 981,\n			name: \"Baynote Visit Event Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(\"\".equals(getConstant(\"BAYNOTE_CUSTOMER_ID\", rule), false)));\n			},\n			actionFcn: function(rule, evt) {\n				if ((exists(safe(\"inqSalesProducts\"))) && (exists(safe(\"inqSalesQuantities\")))) {\n					PM.getVar(\"baynoteATParams\", rule).set(\"at\", FM.callExternal(FM.getFcn(\"baynoteSaleValue\")));\n				}\n				PM.getVar(\"baynoteATParams\", rule).set(\"at.query\", PM.getVar(\"siteSearchTerms\", rule).getValue());\n				EVM.fireCustomEvent('BaynoteVisitEvent', rule, evt, function() {\n					return Array.prepareMapToSerialize(PM.getVar(\"baynoteATParams\", rule).getValue());\n				}, true);\n			}\n		}), Rule.create({\n			id: 982,\n			name: \"Baynote Linger Event Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: getConstant(\"BAYNOTE_LINGER_DU\", rule)\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(\"\".equals(getConstant(\"BAYNOTE_CUSTOMER_ID\", rule), false)));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('BaynoteLingerEvent', rule, evt, function() {\n					return Array.prepareMapToSerialize(PM.getVar(\"baynoteATParams\", rule).getValue());\n				}, true);\n			}\n		}), Rule.create({\n			id: 983,\n			name: \"Baynote Page Exit Hook Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(\"\".equals(getConstant(\"BAYNOTE_CUSTOMER_ID\", rule), false))) && (((\"IE\" == getClientBrowserType())) || ((\"FF\" == getClientBrowserType()))));\n			},\n			actionFcn: function(rule, evt) {\n				Inq.EH.doInit(this);\n			}\n		}), Rule.create({\n			id: 984,\n			name: \"Baynote Exit Event BeforeUnload Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onBeforeUnload\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(\"\".equals(getConstant(\"BAYNOTE_CUSTOMER_ID\", rule), false))) && (((\"IE\" == getClientBrowserType())) || ((\"FF\" == getClientBrowserType()))));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('BaynoteExitEvent', rule, evt, function() {\n					return Array.prepareMapToSerialize(PM.getVar(\"baynoteATParams\", rule).getValue());\n				}, true);\n			}\n		}), Rule.create({\n			id: 985,\n			name: \"Baynote Exit Event MouseDown Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"mousedown\",\n					domElements: [doc.getElementsByTagName(\"a\")]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(\"\".equals(getConstant(\"BAYNOTE_CUSTOMER_ID\", rule), false))) && (((\"CHROME\" == getClientBrowserType())) || ((\"SAFARI\" == getClientBrowserType()))) && ((new Boolean(FM.exec(function() {\n					var a = [\"\", \"_self\", \"_parent\", \"_top\"];\n					var willMainWinExit = a.contains(evt.target.target);\n					return willMainWinExit;\n				}))).valueOf()));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('BaynoteExitEvent', rule, evt, function() {\n					return Array.prepareMapToSerialize(PM.getVar(\"baynoteATParams\", rule).getValue());\n				}, true);\n			}\n		}), Rule.create({\n			id: 986,\n			name: \"Update Assigned Agent On Transfer\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentAssigned\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (PM.getVar(\"incState\", rule).getValue().equals(getConstant(\"INC_STATE_ASSISTED\", rule), false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"assistAgt\", rule).setValue(CHM.getAgentID());\n			}\n		}), Rule.create({\n			id: 990,\n			name: \"sale state transition listener rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"SaleStateTransition\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(resources[\"JASPER_ETL\"].url, MI8.mixMutatable().set(\"_domain\", \"sale\").set(\"evt\", \"state-change\").set(\"customerID\", Inq.getCustID()).set(\"siteID\", getSiteID()).set(\"pageID\", LDM.getPageID()).set(\"oldSaleState\", evt.oldSaleState).set(\"saleState\", PM.getVar(\"saleState\", rule).getValue()).set(\"sessionID\", getSessionID()).set(\"assistChatID\", PM.getVar(\"assistChatID\", rule).getValue()).set(\"chatID\", CHM.getChatID()).set(\"oldAssistAgt\", evt.oldAssistAgt).set(\"assistAgt\", evt.assistAgt));\n			}\n		})].append([Rule.create({\n			id: -Math.abs(1181309626),\n			name: \"PC_Marketing\",\n			vars: [new VBER34(\"PC_Marketing\", null, resources[\"session\"], \"_Mkt\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (LDM.checkCG(\"Pro-Marketing\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_Marketing\", rule).setValue(PM.getVar(\"PC_Marketing\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(590931560),\n			name: \"PC_BuyFlow\",\n			vars: [new VBER34(\"PC_BuyFlow\", null, resources[\"session\"], \"_BF\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (LDM.checkCG(\"Pro-BuyFlow\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_BuyFlow\", rule).setValue(PM.getVar(\"PC_BuyFlow\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(1317024164),\n			name: \"PC_BuyFlow-Sate\",\n			vars: [new VBER34(\"PC_BuyFlow-Sate\", null, resources[\"state\"], \"_BFst\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (LDM.checkCG(\"Pro-BuyFlow\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_BuyFlow-Sate\", rule).setValue(PM.getVar(\"PC_BuyFlow-Sate\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(-747367817),\n			name: \"PC_Celebrity\",\n			vars: [new VBER34(\"PC_Celebrity\", null, resources[\"session\"], \"_CLB\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (LDM.checkCG(\"Pro-O-Celebrity\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_Celebrity\", rule).setValue(PM.getVar(\"PC_Celebrity\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(-6687056),\n			name: \"PC_3865\",\n			vars: [new VBER34(\"PC_3865\", null, resources[\"session\"], \"_3865\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Real_Stories_Before_And_After_Gallery\", true) : false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_3865\", rule).setValue(PM.getVar(\"PC_3865\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(-6686960),\n			name: \"PC_3898\",\n			vars: [new VBER34(\"PC_3898\", null, resources[\"state\"], \"_3898\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Confirmation\", true) : false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_3898\", rule).setValue(PM.getVar(\"PC_3898\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(-6686966),\n			name: \"PC_3892\",\n			vars: [new VBER34(\"PC_3892\", null, resources[\"session\"], \"_3892\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_3892\", rule).setValue(PM.getVar(\"PC_3892\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(1930924231),\n			name: \"PC_22205299\",\n			vars: [new VBER34(\"PC_22205299\", null, resources[\"session\"], \"_5299\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Pro-O-CelebrityStory\", true) : false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_22205299\", rule).setValue(PM.getVar(\"PC_22205299\", rule).getValue() + 1);\n			}\n		}), Rule.create({\n			id: -Math.abs(696469692),\n			name: \"PC_Marketing-Product\",\n			vars: [new VBER34(\"PC_Marketing-Product\", null, resources[\"session\"], \"_5300\", function(o) {\n				return parseFloat(o);\n			})],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (LDM.checkCG(\"Marketing-Product\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"PC_Marketing-Product\", rule).setValue(PM.getVar(\"PC_Marketing-Product\", rule).getValue() + 1);\n			}\n		})]).append([Rule.create({\n			id: 10,\n			name: \"Set Incrementality Visitor Attributes\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onRuleSatisfied\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (!(VAM.test({\n					\"vis_attr_incr_val\": {\n						\"values\": {},\n						\"mutuallyExclusive\": false\n					}\n				}))) {\n					VAM.add({\n						\"vis_attr_incr_val\": {\n							\"values\": MI8.unmixMutatable(MI8.mixMutatable().set(\"\", true))\n						},\n						\"mutuallyExclusive\": false\n					}, -1);\n				}\n				if (((!(exists(PM.getVar(\"visitor_attribute_value\", rule).getValue()))) || (PM.getVar(\"visitor_attribute_value\", rule).getValue().equals(\"emptyString\", false))) && ((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"Care\", false))) {\n					VAM.add({\n						\"vis_attr_incr_val\": {\n							\"values\": MI8.unmixMutatable(MI8.mixMutatable().set(\"Care\", true))\n						},\n						\"mutuallyExclusive\": false\n					}, -1);\n					PM.getVar(\"visitor_attribute_value\", rule).setValue(\"Care\");\n				} else if ((PM.getVar(\"visitor_attribute_value\", rule).getValue().equals(\"Care\", false)) && ((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"Care\", false))) {\n					VAM.add({\n						\"vis_attr_incr_val\": {\n							\"values\": MI8.unmixMutatable(MI8.mixMutatable().set(\"Care\", true))\n						},\n						\"mutuallyExclusive\": false\n					}, -1);\n					PM.getVar(\"visitor_attribute_value\", rule).setValue(\"Care\");\n				} else if (((PM.getVar(\"visitor_attribute_value\", rule).getValue().equals(\"Care\", false)) && (!((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"Care\", false)))) || ((PM.getVar(\"visitor_attribute_value\", rule).getValue().equals(\"Acquisition\", false)) && ((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"Care\", false))) || (PM.getVar(\"visitor_attribute_value\", rule).getValue().equals(\"Both\", false))) {\n					VAM.add({\n						\"vis_attr_incr_val\": {\n							\"values\": MI8.unmixMutatable(MI8.mixMutatable().set(\"Both\", true))\n						},\n						\"mutuallyExclusive\": false\n					}, -1);\n					PM.getVar(\"visitor_attribute_value\", rule).setValue(\"Both\");\n				} else {\n					VAM.add({\n						\"vis_attr_incr_val\": {\n							\"values\": MI8.unmixMutatable(MI8.mixMutatable().set(\"Acquisition\", true))\n						},\n						\"mutuallyExclusive\": false\n					}, -1);\n					PM.getVar(\"visitor_attribute_value\", rule).setValue(\"Acquisition\");\n				}\n			}\n		}), Rule.create({\n			id: 400,\n			name: \"MobileSuppression\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(isServiceBlocked(\"ANY\"))) && ((isDeviceType(\"Unsupported\")) || (isDeviceType(\"Phone\"))));\n			},\n			actionFcn: function(rule, evt) {\n				Inq.blockServices([\"ALL\"], -1);\n			}\n		}), Rule.create({\n			id: 1098,\n			name: \"Assigner - Chat theme - Script Group\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (isDeviceType(\"Tablet\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"scriptGroupID\", rule).setValue(1.220019E7);\n				PM.getVar(\"chatThemeID1\", rule).setValue(2.4000468E7);\n				PM.getVar(\"chatThemeID2\", rule).setValue(2.4000469E7);\n				PM.getVar(\"chatThemeID3\", rule).setValue(2.400047E7);\n				PM.getVar(\"chatThemeID4\", rule).setValue(2.4000471E7);\n				PM.getVar(\"chatThemeID5\", rule).setValue(2.4000472E7);\n				PM.getVar(\"chatThemeID6\", rule).setValue(2.4000473E7);\n			}\n		}), Rule.create({\n			id: 997,\n			name: \"CSSHack\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*/proactiv08/scp/.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(urls.baseURL + \"/tracking/agent\", {\n					\"CartCSSFix\": getDFV(\"CartCSSFix\").toString(),\n					agentID: CHM.getAgentID(),\n					chatID: CHM.getChatID()\n				});\n			}\n		}), Rule.create({\n			id: 998,\n			name: \"DPHack2\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*loggedin.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(urls.baseURL + \"/tracking/agent\", {\n					\"GetExistingCustomer\": getDFV(\"GetExistingCustomer\").toString(),\n					agentID: CHM.getAgentID(),\n					chatID: CHM.getChatID()\n				});\n			}\n		}), Rule.create({\n			id: 9981,\n			name: \"DPHack2_B\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((exists(safe(\"s\"))) && (exists((exists(safe(\"s.pageName\")) ? safe(\"s.pageName\").toString() : \"\"))) && (safe(\"s.pageName\").contains(\"proactiv:scp:confirm\", false)) && (win.document.URL.match(\".*\") != null ? true : false));\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(urls.baseURL + \"/tracking/agent\", {\n					\"SetExistingCustomer\": getDFV(\"SetExistingCustomer\").toString(),\n					agentID: CHM.getAgentID(),\n					chatID: CHM.getChatID()\n				});\n			}\n		}), Rule.create({\n			id: 999,\n			name: \"SetCookie OnChatLaunched\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onServiceEngaged\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*proactiv.*|.*guthy.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				processReceivedExternalDataThrows(\"\\n            \\n                  var chatID = inqFrame.Inq.custID;\\n                  var expiry = new Date();\\n                  expiry.setDate(expiry.getDate()+30);\\n                  document.cookie = 'grchatid=' + chatID + '; expires=' + expiry.toUTCString() + '; path=/';\\n     \\n          \")\n			}\n		}), Rule.create({\n			id: 1018,\n			name: \"spanishSuppression\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*es.proactiv.com.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				Inq.blockServices([\"ALL\"], -1);\n			}\n		}), Rule.create({\n			id: 1000,\n			name: \"Run Datapass - EmailCampaign-FirstNameEmail\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentAssigned\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"My_Account_Successful_Login\", true) : false)) && (win.document.URL.match(\".*source=.*\") != null ? true : false));\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(urls.baseURL + \"/tracking/agent\", {\n					\"EmailCampaign-FirstNameEmail\": getDFV(\"EmailCampaign-FirstNameEmail\").toString(),\n					agentID: CHM.getAgentID(),\n					chatID: CHM.getChatID()\n				});\n			}\n		}), Rule.create({\n			id: 1011,\n			name: \"SetFocus_OrderForm\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"focus\",\n					domElements: [\n						[doc.getElementById(\"AHPV76\")],\n						[doc.getElementById(\"shipMethod\")],\n						[doc.getElementById(\"form_email\")],\n						[doc.getElementById(\"confirm_email\")],\n						[doc.getElementById(\"form_dphone\")],\n						[doc.getElementById(\"form_ephone\")],\n						[doc.getElementById(\"card_Fname\")],\n						[doc.getElementById(\"card_Lname\")],\n						[doc.getElementById(\"address\")],\n						[doc.getElementById(\"suppadr\")],\n						[doc.getElementById(\"city\")],\n						[doc.getElementById(\"state\")],\n						[doc.getElementById(\"zip\")],\n						[doc.getElementById(\"SameAsBilling\")],\n						[doc.getElementById(\"ship_Fname\")],\n						[doc.getElementById(\"ship_Lname\")],\n						[doc.getElementById(\"s_address\")],\n						[doc.getElementById(\"s_suppadr\")],\n						[doc.getElementById(\"s_city\")],\n						[doc.getElementById(\"s_state\")],\n						[doc.getElementById(\"s_zip\")],\n						[doc.getElementById(\"formPwd\")],\n						[doc.getElementById(\"retypformPwd\")],\n						[doc.getElementById(\"age\")],\n						[doc.getElementById(\"gender\")]\n					]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*/basket.php.*|.*/proactiv08/scp/.*new=.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				if (LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", false)) {\n					PM.getVar(\"OrderForm_focused\", rule).setValue(true);\n				}\n			}\n		}), Rule.create({\n			id: 1050,\n			name: \"Pass Rule to Console\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatLaunched\",\n					serviceType: \"ALL\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"nameOfLastChat\", rule).setValue((exists(evt.rule.name) ? evt.rule.name.toString() : \"\"));\n				log(\"******** Rule Launched: \" + PM.getVar(\"nameOfLastChat\", rule).getValue() + \" ********\");\n			}\n		}), Rule.create({\n			id: 1060,\n			name: \"LaunchSurvey_onChatClose\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatClosed\",\n					serviceType: \"ALL\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(PM.getVar(\"surveyPopped\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (PM.getVar(\"saleState\", rule).getValue().equals(\"assisted\", false)) && (!(LDM.getPageMarker().contains(\"Diagnostic\", false))) && (!((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"NoSurvey\", false))) && (!((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"-NC-\", false))) && (!((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"-SD-\", false))) && (!((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"-AG-\", false))));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"surveyPopped\", rule).setValue(true);\n				SVYM.showSurvey(13.0, rule);\n				log(\"******** Launched eCommerce Survey on Chat Close surveyPopped = \" + (exists(PM.getVar(\"surveyPopped\", rule).getValue()) ? PM.getVar(\"surveyPopped\", rule).getValue().toString() : \"\") + \" , ruleID=\" + (exists(id.rule) ? id.rule.toString() : \"\") + \"  ********\");\n			}\n		}), Rule.create({\n			id: 1062,\n			name: \"LaunchSurveyCare_onChatClose\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatClosed\",\n					serviceType: \"ALL\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((!(PM.getVar(\"surveyPopped\", rule).getValue())) && (PM.getVar(\"saleState\", rule).getValue().equals(\"assisted\", false)) && (((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"-NC-\", false)) || ((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"-AG-\", false)) || ((exists(evt.rule.name) ? evt.rule.name.toString() : \"\").contains(\"-SD-\", false))));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"surveyPopped\", rule).setValue(true);\n				SVYM.showSurvey(1000045.0, rule);\n			}\n		}), Rule.create({\n			id: 1080,\n			name: \"Check if Logged Into MyAccount\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"loggedIntoMyAcct\", rule).setValue((exists(CM._getCookie(\"rememberMe\"))) || ((exists(CM._getCookie(\"loggedin\"))) && (\"1\".equals((exists(CM._getCookie(\"loggedin\")) ? CM._getCookie(\"loggedin\").toString() : \"\"), false))));\n			}\n		}), Rule.create({\n			id: 1100,\n			name: \"SuppressChat\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if ((LDM.getPageMarker().equals(\"My_Account_Successful_Login\", false)) || (LDM.getPageMarker().equals(\"Order_Your_System_Confirmation\", false))) {\n					PM.getVar(\"supressClient\", rule).setValue(true);\n				}\n			}\n		}), Rule.create({\n			id: 2303,\n			name: \"Pro-O-Diagnostic-Click-To-Call-launchnow-Datapass-xTestx\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAgentAssigned\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				ROM.send(urls.baseURL + \"/tracking/agent\", {\n					\"diagnosticToolData\": getDFV(\"diagnosticToolData\").toString(),\n					agentID: CHM.getAgentID(),\n					chatID: CHM.getChatID()\n				});\n			}\n		}), Rule.create({\n			id: 1004,\n			name: \"ChatSupression_2Campaigns_CMR5209\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((win.document.URL.match(\".*guthy-renker-store.com/singlepage/order/checkout.php?pactvid=52i859ago8vf31o7vrh2qjghqcfbgdi6(.*)offer=8641013ewv.*\") != null ? true : false) || (win.document.URL.match(\".*guthy-renker-store.com/singlepage/order/checkout.php?pactvid=52i859ago8vf31o7vrh2qjghqcfbgdi6(.*)offer=8641013_dcw.*\") != null ? true : false));\n			},\n			actionFcn: function(rule, evt) {\n				Inq.blockServices([\"ALL\"], -1);\n			}\n		}), Rule.create({\n			id: 2300,\n			name: \"UnblockServiceForDiagnositcTool\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onAnyEvent\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (!(win.document.URL.match(\".*es.proactiv.com.*\") != null ? true : false));\n			},\n			actionFcn: function(rule, evt) {\n				if (isServiceBlocked(\"ANY\")) {\n					Inq.unblockServices([\"ALL\"]);\n				}\n			}\n		}), Rule.create({\n			id: 23025,\n			name: \"DiagnosticToolChatSpecCalculator\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				processReceivedExternalDataThrows(\"\\n            \\n                              var agentDisplay = \\\" \\\";\\n                              window.chatSpec =\\\"604\\\";\\n                              var d, offset, utc, nD, hR,dOW;\\n                           \\n                              d = new Date();\\n                              offset = -7;\\n                              utc = d.getTime() + (d.getTimezoneOffset() * 60000);\\n                              nD = new Date(utc + (3600000*offset));\\n                              hR = nD.toTimeString().split(\\\":\\\");\\n                              dOW = nD.getDay();\\n   \\n                                 if (dOW == 0){\\n                                     window.chatSpec=\\\"623\\\";\\n                                 }\\n                                 else if(dOW == 6)\\n                                 {\\n                                       if ((hR[0] < 07 || hR[0] >= 17)) {\\n                                             window.chatSpec=\\\"623\\\";\\n                                 \\n                                       }\\n   \\n                                 }\\n   \\n                                 else \\n                                 {\\n                                    if ((hR[0] < 06 || hR[0] >= 20)) {\\n                                       window.chatSpec=\\\"623\\\";\\n                                    }\\n                                 \\n                                 }\\n                  \\n                                  \\n                  \\n          \")\n			}\n		}), Rule.create({\n			id: 23026,\n			name: \"DiagnosticToolSetchatSpec\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"withinTimePeriodInt\", rule).setValue(safe(\"window.chatSpec\"));\n			}\n		}), Rule.create({\n			id: 1506,\n			name: \"assignAgentName\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if (PM.getVar(\"agentRandomNumber\", rule).getValue() == 1.0) {\n					PM.getVar(\"agentName\", rule).setValue(\"Ashley\");\n				} else if (PM.getVar(\"agentRandomNumber\", rule).getValue() == 2.0) {\n					PM.getVar(\"agentName\", rule).setValue(\"Amanda\");\n				} else if (PM.getVar(\"agentRandomNumber\", rule).getValue() == 3.0) {\n					PM.getVar(\"agentName\", rule).setValue(\"Sarah\");\n				} else if (PM.getVar(\"agentRandomNumber\", rule).getValue() == 4.0) {\n					PM.getVar(\"agentName\", rule).setValue(\"Stephanie\");\n				} else if (PM.getVar(\"agentRandomNumber\", rule).getValue() == 4.0) {\n					PM.getVar(\"agentName\", rule).setValue(\"Brittany\");\n				}\n			}\n		}), BusinessRule.create({\n			id: 2304,\n			name: \"Pro-Care-O-CC-Diagnostic-Click-To-Call-Grey63\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 415,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 415,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP_CALL,\n					chatSpec: {\n						id: 605.0,\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID6\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2305,\n			name: \"Pro-Care-O-CC-Diagnostic-Click-To-Call-Grey42\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 415,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 415,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP_CALL,\n					chatSpec: {\n						id: 605.0,\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID6\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2306,\n			name: \"Pro-Care-O-CC-Diagnostic-Click-To-Call-Green52\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 415,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 415,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP_CALL,\n					chatSpec: {\n						id: 605.0,\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID6\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2307,\n			name: \"Pro-Care-O-CC-Diagnostic-Click-To-Call-Purple22\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 415,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 415,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP_CALL,\n					chatSpec: {\n						id: 605.0,\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID6\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2308,\n			name: \"Pro-Care-O-CC-Diagnostic-Click-To-Call-Purple32\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 415,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 415,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP_CALL,\n					chatSpec: {\n						id: 605.0,\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID6\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2309,\n			name: \"Pro-Care-O-CC-Diagnostic-Click-To-Call-Purple44\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 415,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 415,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP_CALL,\n					chatSpec: {\n						id: 605.0,\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID6\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2310,\n			name: \"Pro-Care-O-R-Diagnostic-Click-To-Chat-Grey64\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 414,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 414,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: PM.getVar(\"withinTimePeriodInt\", rule).getValue(),\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: 1.7000383E7\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2311,\n			name: \"Pro-Care-O-R-Diagnostic-Click-To-Chat-Grey43\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 414,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 414,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: PM.getVar(\"withinTimePeriodInt\", rule).getValue(),\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: 1.7000383E7\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2312,\n			name: \"Pro-Care-O-R-Diagnostic-Click-To-Chat-Green53\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 414,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 414,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: PM.getVar(\"withinTimePeriodInt\", rule).getValue(),\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: 1.7000383E7\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2313,\n			name: \"Pro-Care-O-R-Diagnostic-Click-To-Chat-Purple23\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 414,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 414,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: PM.getVar(\"withinTimePeriodInt\", rule).getValue(),\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: 1.7000383E7\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2314,\n			name: \"Pro-Care-O-R-Diagnostic-Click-To-Chat-Purple33\",\n			ignoreFunnelLevel: true,\n			businessUnitID: 414,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 414,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: PM.getVar(\"withinTimePeriodInt\", rule).getValue(),\n						stId: 200102.0,\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: 1.7000383E7\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2315,\n			name: \"Pro-O-Diagnostic-Click-To-Chat-Purple45-xTestx\",\n			ignoreFunnelLevel: true,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onManualInvocation\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acq\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: PM.getVar(\"withinTimePeriodInt\", rule).getValue(),\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						igaa: true,\n						ignHOP: true,\n						chatTheme: {\n							id: 1.7000383E7\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 3000,\n			name: \"Pro-O-P-2-RealStories-PV2\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().contains(\"Real_Stories_Before_And_After_Gallery\", true) : false)) && (PM.getVar(\"PC_3865\", BRM.getRuleById(-Math.abs(-6687056))).getValue() >= 2.0) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4000,\n			name: \"Pro-O-P-2.1-AboutProactiv-T75\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 75000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Proactiv_System_About_Proactiv\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4001,\n			name: \"Pro-O-P-2.2-StepSystem-T75\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 75000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Proactiv_System_Step_System\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4002,\n			name: \"Pro-O-P-2.1-HowAcneHappens-T60\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 60000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_How_Acne_Happens\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4003,\n			name: \"Pro-O-P-2.2-AcneAtAnyAge-T30\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 30000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_Acne_At_Any_Age\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4004,\n			name: \"Pro-O-P-2.3-AcneMyths-T60\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 60000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_Acne_Myths\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4005,\n			name: \"Pro-O-P-2.4-AcneQuiz-T60\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 60000\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_Acne_Quiz\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4006,\n			name: \"Pro-O-P-2.5-FaceFitness-T60\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 60000\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_Face_Fitness\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4007,\n			name: \"Pro-O-P-2.6-TypesOfAcne-T60\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 60000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_Types_Of_Acne\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4008,\n			name: \"Pro-O-P-2.7-HowProactivWorks-T60\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 60000\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"About_Acne_How_Proactiv_Works\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4009,\n			name: \"Pro-O-P-2-HowToUseIt-T45\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 45000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"How_To_Use_It\", true) : false)) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 41011,\n			name: \"Pro-O-P-G-Marketing-Product_Consideration-T00\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (PM.getVar(\"PC_Marketing-Product\", BRM.getRuleById(-Math.abs(696469692))).getValue() >= 3.0) && (!(LDM.getPageMarker(0).equals(\"Proactiv_Home_Page\", true))) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 4201,\n			name: \"Pro-I-P-3-FormFieldDelay-T30Sec\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 30000\n				}]\n			},\n			qt: 1.5,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false)) && (!(PM.getVar(\"OrderForm_focused\", rule).getValue())) && (PM.getVar(\"brPct2\", rule).getValue() <= 20.0) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 5001,\n			name: \"Pro-O-P-G-Marketing-Backtrack\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 10000\n				}]\n			},\n			qt: 1.25,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (PM.getVar(\"PC_BuyFlow\", BRM.getRuleById(-Math.abs(590931560))).getValue() >= 1.0) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 70031,\n			name: \"Pro-O-P-G-Marketing-Return-Visitor\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 30000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (!(LDM.getPageMarker().equals(\"Proactiv_Home_Page\", false))) && (PM.getVar(\"PC_BuyFlow-Sate\", BRM.getRuleById(-Math.abs(1317024164))).getValue() > PM.getVar(\"PC_BuyFlow\", BRM.getRuleById(-Math.abs(590931560))).getValue()) && (!(PM.getVar(\"supressClient\", rule).getValue())) && (!(PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 9002,\n			name: \"Pro-Care-O-R-G-AG-C2C-NC-OrgButton_BluBkgd_Girl\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"CareNC_BlueBkgd_Girl\")) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 5000456.0,\n						chatSpec: {\n							id: 4000791.0,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID2\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 9003,\n			name: \"Pro-Care-O-R-G-AG-C2C-NC-OrgButton_TrnBkgd\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"CareNC_OrangeBtn\")) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 5000457.0,\n						chatSpec: {\n							id: 4000791.0,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID2\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), Rule.create({\n			id: 9991,\n			name: \"Referring_Search_Rule\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\"(.*)proactiv(.*)extbnr=PAChatYouTube(.*)\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rd\", rule).setValue(URI.parseURI(doc.referrer).domain);\n				if (URI.parseURI(doc.referrer).domain.endsWith(\"againinteractive.com\", true)) {\n					EVM.fireCustomEvent('LaunchAutomatedGuide', rule, evt, function() {\n						return {};\n					}, true);\n				}\n			}\n		}), BusinessRule.create({\n			id: 92000,\n			name: \"Pro-Care-O-P-2.1-AboutProactiv-LiveChatGuide-T0Sec\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"LaunchAutomatedGuide\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\"(.*)proactiv(.*)extbnr=PAChatYouTube(.*)\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 726.0,\n						oId: -1.0,\n						stId: 200102.0,\n						igaa: true,\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID3\", rule).getValue()\n						}\n					}\n				}).request();\n			}\n		}), Rule.create({\n			id: 11001,\n			name: \"readAllReviewsOnClickListener\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"click\",\n					domElements: [doc.getElementsByName(\"BV_TrackingTag_Rating_Summary_1_ReadReviews_011114\")]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Pro-O-OrderYourSystem\", true) : false)) || ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System\", true) : false)));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('readAllReviewsOnClick', rule, evt, function() {\n					return {};\n				}, true);\n			}\n		}), Rule.create({\n			id: 11002,\n			name: \"nextReviewsOnClickListener\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"click\",\n					domElements: [doc.getElementsByName(\"BV_TrackingTag_Review_Display_NextPage\")]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Pro-O-OrderYourSystem\", true) : false)) || ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System\", true) : false)));\n			},\n			actionFcn: function(rule, evt) {\n				if (PM.getVar(\"reviewNextCount\", rule).getValue() < 3.0) {\n					PM.getVar(\"reviewNextCount\", rule).setValue((PM.getVar(\"reviewNextCount\", rule).getValue() + 1.0));\n				} else {\n					EVM.fireCustomEvent('nextReviewsOnClick', rule, evt, function() {\n						return {};\n					}, true);\n				}\n			}\n		}), Rule.create({\n			id: 11003,\n			name: \"unHelpfulReviewOnClickListener\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"click\",\n					domElements: [getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel1\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel2\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel3\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel4\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel5\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel6\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel7\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel8\"), getElementsByClassName(\"BVDI_FVVote BVDI_FVNegative BVDI_FVLevel9\")]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Pro-O-OrderYourSystem\", true) : false)) || ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System\", true) : false)));\n			},\n			actionFcn: function(rule, evt) {\n				EVM.fireCustomEvent('unHelpfulReviewOnClick', rule, evt, function() {\n					return {};\n				}, true);\n			}\n		}), Rule.create({\n			id: 11004,\n			name: \"formFocusListener_ShoppingCart\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"focus\",\n					domElements: [\n						[doc.getElementById(\"dwfrm_personinf_contact_email\")],\n						[doc.getElementById(\"dwfrm_personinf_contact_emailconfirm\")],\n						[doc.getElementById(\"daytimePhone\")],\n						[doc.getElementById(\"eveningPhone\")],\n						[doc.getElementById(\"billFirstName\")],\n						[doc.getElementById(\"billLastName\")],\n						[doc.getElementById(\"billAddress\")],\n						[doc.getElementById(\"billAddress2\")],\n						[doc.getElementById(\"billCity\")],\n						[doc.getElementById(\"billState\")],\n						[doc.getElementById(\"billZip\")],\n						[doc.getElementById(\"shipFirstName\")],\n						[doc.getElementById(\"shipLastName\")],\n						[doc.getElementById(\"shipAddress\")],\n						[doc.getElementById(\"shipAddress2\")],\n						[doc.getElementById(\"shipCity\")],\n						[doc.getElementById(\"shipState\")],\n						[doc.getElementById(\"shipZip\")],\n						[doc.getElementById(\"password\")],\n						[doc.getElementById(\"PasswordReType\")],\n						[doc.getElementById(\"age\")]\n					]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"formLastFocusTime_ShoppingCart\", rule).setValue(new Date());\n				log(\"Form interacted! Time reset to: \" + (exists(PM.getVar(\"formLastFocusTime_ShoppingCart\", rule).getValue()) ? PM.getVar(\"formLastFocusTime_ShoppingCart\", rule).getValue().toString() : \"\"));\n			}\n		}), Rule.create({\n			id: 11005,\n			name: \"removeCartItemOnClickListener\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"click\",\n					domElements: [doc.getElementsByName(\"dwfrm_cart_shipments_i0_items_i0_deleteProduct\")]\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"removedCartItem\", rule).setValue(true);\n			}\n		}), Rule.create({\n			id: 11010,\n			name: \"CoundownTimer_MarketingPages\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}, {\n					id: \"on\" + \"repollTimeBeforeLaunch_Marketing\",\n					delayInMS: 5000\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (PM.getVar(\"continuePolling_Marketing\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				log(\"***** Time before launch [Marketing]: \" + (exists(PM.getVar(\"timeBeforeLaunch_Marketing\", rule).getValue()) ? PM.getVar(\"timeBeforeLaunch_Marketing\", rule).getValue().toString() : \"\") + \" *****\");\n				if (PM.getVar(\"timeBeforeLaunch_Marketing\", rule).getValue() > 0.0) {\n					PM.getVar(\"timeBeforeLaunch_Marketing\", rule).setValue((PM.getVar(\"timeBeforeLaunch_Marketing\", rule).getValue() - 5.0));\n					EVM.fireCustomEvent('repollTimeBeforeLaunch_Marketing', rule, evt, function() {\n						return {};\n					}, true);\n				} else {\n					EVM.fireCustomEvent('launchTimeOnMarketing', rule, evt, function() {\n						return {};\n					}, true);\n					PM.getVar(\"continuePolling_Marketing\", rule).setValue(false);\n				}\n			}\n		}), Rule.create({\n			id: 11012,\n			name: \"SuppressMarketingChat\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				if ((PM.getVar(\"PC_3898\", BRM.getRuleById(-Math.abs(-6686960))).getValue() >= 1.0) || (PM.getVar(\"loggedIntoMyAcct\", rule).getValue())) {\n					PM.getVar(\"suppressChat\", rule).setValue(true);\n				}\n			}\n		}), Rule.create({\n			id: 1102,\n			name: \"SawChatWindow\",\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"onChatLaunched\",\n					serviceType: \"ALL\"\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (true);\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"sawChatWindow\", rule).setValue(true);\n			}\n		}), BusinessRule.create({\n			id: 11101,\n			name: \"Proactiv-O-P-G-Marketing-T10min-Test_W_130128b_A\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"launchTimeOnMarketing\"\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (!(PM.getVar(\"PC_3892\", BRM.getRuleById(-Math.abs(-6686966))).getValue() >= 1.0)) && (!(PM.getVar(\"suppressChat\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 11102,\n			name: \"Proactiv-O-P-G-Marketing-T5min-Test_W_130128b_B\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"launchTimeOnMarketing\"\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (!(PM.getVar(\"PC_3892\", BRM.getRuleById(-Math.abs(-6686966))).getValue() >= 1.0)) && (!(PM.getVar(\"suppressChat\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 11103,\n			name: \"Proactiv-O-P-G-Marketing-T15min-Test_W_130128b_C\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"launchTimeOnMarketing\"\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (!(PM.getVar(\"PC_3892\", BRM.getRuleById(-Math.abs(-6686966))).getValue() >= 1.0)) && (!(PM.getVar(\"suppressChat\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 11110,\n			name: \"Proactiv-O-P-G-Marketing-PV5\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 15000\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (PM.getVar(\"PC_Marketing\", BRM.getRuleById(-Math.abs(1181309626))).getValue() >= 5.0) && (!(PM.getVar(\"PC_3892\", BRM.getRuleById(-Math.abs(-6686966))).getValue() >= 1.0)) && (!(PM.getVar(\"suppressChat\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 11140,\n			name: \"Proactiv-O-R-G-Marketing-C2C\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (!(PM.getVar(\"suppressChat\", rule).getValue())) && (!(PM.getVar(\"sawChatWindow\", rule).getValue())));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 39.0,\n						c2cTheme: {\n							id: 23.0\n						},\n						chatSpec: {\n							id: 132.0,\n							stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n								an: \"Jessica\"\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 11150,\n			name: \"Proactiv-I-R-G-BuyFlow-C2C\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.5,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-BuyFlow\")) && (!(PM.getVar(\"suppressChat\", rule).getValue())));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 41.0,\n						c2cTheme: {\n							id: 103.0\n						},\n						chatSpec: {\n							id: 132.0,\n							stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n								an: \"Karen\"\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 12300,\n			name: \"Proactiv-I-P-2-SelectYourSystem-ReadAllReviews\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"readAllReviewsOnClick\"\n				}]\n			},\n			qt: 1.25,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-O-SelectSystem\")) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 12310,\n			name: \"Proactiv-I-P-2-SelectYourSystem-ReviewNotHelpful\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"unHelpfulReviewOnClick\"\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-O-SelectSystem\")) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 12320,\n			name: \"Proactiv-I-P-3-ShoppingCart2Step-FormFieldDelay-T30Sec\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 30000\n				}]\n			},\n			qt: 1.5,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false)) && (!(exists(PM.getVar(\"formLastFocusTime_ShoppingCart\", rule).getValue()))) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 12330,\n			name: \"Proactiv-I-P-3-ShoppingCart2Step-T360Sec\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\",\n					delayInMS: 360000\n				}]\n			},\n			qt: 1.25,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false)) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 12340,\n			name: \"Proactiv-I-P-3-ShoppingCart2Step-RemoveItem\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((LDM.getPageMarker() ? LDM.getPageMarker().equals(\"Order_Your_System_Shopping_Cart\", true) : false)) && (PM.getVar(\"removedCartItem\", rule).getValue()) && (LDM.getPageMarker(1).equals(\"Order_Your_System_Shopping_Cart\", false)) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 13100,\n			name: \"Proactiv-O-P-1-CelebrityStories-PV4\",\n			funnelLevel: 3,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 0.75,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-O-Celebrity\")) && (PM.getVar(\"PC_Celebrity\", BRM.getRuleById(-Math.abs(-747367817))).getValue() >= 4.0) && (!(PM.getVar(\"suppressChat\", rule).getValue())) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 13200,\n			name: \"Proactiv-I-P-2-SelectYourSystem-Reviews_PV4\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"on\" + \"nextReviewsOnClick\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-O-SelectSystem\")) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 14100,\n			name: \"Proactiv-I-P-2-SelectYourSystem-BB\",\n			funnelLevel: 2,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.5,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-O-SelectSystem\")) && (PM.getVar(\"PC_3892\", BRM.getRuleById(-Math.abs(-6686966))).getValue() >= 1.0) && (getConstant(\"fl\", rule) < PM.getVar(\"cfl\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 603.0,\n						stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n						chatTheme: {\n							id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n							an: \"Karen\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 15180,\n			name: \"Proactiv-Care-O-R-G-AG-C2C2\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C2_11Footer\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000538E7,\n						c2cTheme: {\n							id: 3.0000446E7\n						},\n						chatSpec: {\n							id: 2.2000872E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID4\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15190,\n			name: \"Proactiv-Care-O-R-G-AG-C2C3\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C3\")));\n			},\n			actionFcn: function(rule, evt) {\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000539E7,\n						chatSpec: {\n							id: 2.2000871E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID5\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15200,\n			name: \"Proactiv-Care-O-R-G-AG-C2C4\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C4\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.300054E7,\n						chatSpec: {\n							id: 2.2000871E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID5\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15220,\n			name: \"Proactiv-Care-O-R-G-AG-C2C6\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (LDM.checkCG(\"Pro-Care_C2C6\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000542E7,\n						c2cTheme: {\n							id: 2.9000446E7\n						},\n						chatSpec: {\n							id: 2.2000872E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID4\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15230,\n			name: \"Proactiv-Care-O-R-G-AG-C2C7\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C7\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000543E7,\n						chatSpec: {\n							id: 2.2000872E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID4\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15240,\n			name: \"Proactiv-Care-O-R-G-AG-C2C8\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C8\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000544E7,\n						chatSpec: {\n							id: 2.2000872E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID4\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15250,\n			name: \"Proactiv-Care-O-R-G-AG-C2C9\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C9\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000545E7,\n						chatSpec: {\n							id: 2.2000871E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID5\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15260,\n			name: \"Proactiv-Care-O-R-G-AG-C2C10\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (((win.document.URL.match(\".*grdev.com.*\") != null ? true : false) || (win.document.URL.match(\".*proactiv.com.*\") != null ? true : false)) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()) && (LDM.checkCG(\"Pro-Care_C2C10\")));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000546E7,\n						chatSpec: {\n							id: 2.2000871E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID5\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15270,\n			name: \"Proactiv-Care-O-R-G-AG-C2C11\",\n			funnelLevel: 5,\n			businessUnitID: 18000517,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			getAAtts: function() {\n				return [];\n			},\n			businessUnitId: 18000517,\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Care_C2C2_11Footer\")) && (PM.getVar(\"loggedIntoMyAcct\", rule).getValue()));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Care\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000537E7,\n						chatSpec: {\n							id: 2.2000871E7,\n							oId: -1.0,\n							stId: 200102.0,\n							igaa: true,\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID5\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15280,\n			name: \"Proactiv-O-R-G-RepeatChatter_Marketing-C2C-Test_W_130128a_A\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (PM.getVar(\"sawChatWindow\", rule).getValue()) && (PM.getVar(\"randomNumber_130128a\", rule).getValue() == 1.0));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 39.0,\n						c2cTheme: {\n							id: 23.0\n						},\n						chatSpec: {\n							id: 132.0,\n							oId: 11962.0,\n							stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n								an: \"Jessica\"\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15281,\n			name: \"Proactiv-O-R-G-RepeatChatter_Marketing-C2C-Test_W_130128a_B\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return ((LDM.checkCG(\"Pro-Marketing\")) && (PM.getVar(\"sawChatWindow\", rule).getValue()) && (PM.getVar(\"randomNumber_130128a\", rule).getValue() == 2.0));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 39.0,\n						c2cTheme: {\n							id: 23.0\n						},\n						chatSpec: {\n							id: 132.0,\n							oId: 11962.0,\n							stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n								an: PM.getVar(\"agentName\", rule).getValue()\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 15271,\n			name: \"Proactiv-O-R-G-SelectYourSystem_Test-C2C\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.5,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return [{\n					name: 'deviceType',\n					value: getDeviceType()\n				}, {\n					name: 'browser',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserType\"))) ? FM.callExternal(FM.getFcn(\"getBrowserType\")).toString() : \"\")\n				}, {\n					name: 'browserVersion',\n					value: (exists(FM.callExternal(FM.getFcn(\"getBrowserVersion\"))) ? FM.callExternal(FM.getFcn(\"getBrowserVersion\")).toString() : \"\")\n				}]\n			},\n			conditionalFcn: function(rule, evt) {\n				return (LDM.checkCG(\"Pro-O-SelectSystemTest\"));\n			},\n			actionFcn: function(rule, evt) {\n				PM.getVar(\"rule_category\", rule).setValue(\"Acquisition\");\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 39.0,\n						c2cTheme: {\n							id: 2.8000445E7\n						},\n						chatSpec: {\n							id: 132.0,\n							oId: 11962.0,\n							stId: PM.getVar(\"scriptGroupID\", rule).getValue(),\n							chatTheme: {\n								id: PM.getVar(\"chatThemeID1\", rule).getValue(),\n								an: \"Karen\"\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 210911,\n			name: \"Proactiv-New-Guide-xTestx\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return []\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*tcsandbox.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				C2CM.request(rule, CHM.CHAT_TYPES.C2C, function(rule) {\n					return {\n						id: 2.3000537E7,\n						chatSpec: {\n							id: 2.2000871E7,\n							oId: -1.0,\n							igaa: true,\n							chatTheme: {\n								id: 2.4000452E7\n							}\n						}\n					};\n				}, false);\n			}\n		}), BusinessRule.create({\n			id: 2109112,\n			name: \"Proactiv2-xTestx\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return []\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*jltest2mochatskin.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						chatTheme: {\n							id: 2.4000468E7,\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2109113,\n			name: \"Proactiv3-xTestx\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return []\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*jltest3mochatskin.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						chatTheme: {\n							id: 2.4000469E7,\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2109114,\n			name: \"Proactiv4-xTestx\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return []\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*jltest4mochatskin.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						chatTheme: {\n							id: 2.400047E7,\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2109115,\n			name: \"Proactiv5-xTestx\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return []\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*jltest5mochatskin.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						chatTheme: {\n							id: 2.4000471E7,\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		}), BusinessRule.create({\n			id: 2109116,\n			name: \"Proactiv6-xTestx\",\n			funnelLevel: 5,\n			vars: [],\n			triggers: function(rule) {\n				return [{\n					id: \"nfrt45\"\n				}]\n			},\n			qt: 1.0,\n			getAAtts: function() {\n				return [];\n			},\n			getRAtts: function() {\n				return []\n			},\n			conditionalFcn: function(rule, evt) {\n				return (win.document.URL.match(\".*jltest6mochatskin.*\") != null ? true : false);\n			},\n			actionFcn: function(rule, evt) {\n				ABCDE.c({\n					rule: rule,\n					chatType: CHM.CHAT_TYPES.POPUP,\n					chatSpec: {\n						id: 630.0,\n						chatTheme: {\n							id: 2.4000472E7,\n							an: \"Jessica\"\n						}\n					}\n				}).request();\n			}\n		})]),\n		queueDefaults: qDefaults\n	});\n	var MSG = new MessageMgr();\n	var CHM = GR34.getInstance({\n		thankYouShown: false,\n		thankYouEnabled: false,\n		displayTYImage: false,\n		CHAT_TYPES: {\n			C2C: \"C2C\",\n			C2CALL: \"C2CALL\",\n			POPUP: \"POPUP\",\n			POPUP_CALL: \"POPUP_CALL\",\n			PERSISTENT: \"PERSISTENT\",\n			MONITOR: \"MONITOR\",\n			CONVERSIVE: \"CONVERSIVE\"\n		}\n	});\n	var SVYM = new SurveyMgr({\n		13: {\n			id: 13,\n			x: 200,\n			y: 100,\n			w: 650,\n			h: 640,\n			altURL: \"http://www.keysurvey.com/survey/316855/3103/?LQID=1&\"\n		},\n		1000045: {\n			id: 1000045,\n			x: 200,\n			y: 100,\n			w: 650,\n			h: 636,\n			altURL: \"http://www.keysurvey.com/survey/379337/fa07/?LQID=1&\"\n		}\n	});\n	var FP = new FlashPeer(\"FP\", {});\n	var EC = new EXCVTR();\n	var EH = new ExitHook();\n	var DT = new AutomatonDT();\n	var programVars = [new VBER34(\"loyalty\", 0.0, resources[\"state\"], \"_loy\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"sesID\", null, resources[\"session\"], \"_ssID\", function(o) {\n		return o ? o.toString() : o;\n	}), new DateVar(\"ltt\", null, resources[\"session\"], \"ltt\"), new DateVar(\"lco\", null, resources[\"state\"], \"lco\"), new DateVar(\"fst\", null, resources[\"state\"], \"fst\"), new DateVar(\"lst\", null, resources[\"state\"], \"lst\"), new VBER34(\"freq\", null, resources[\"state\"], \"_f\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"sesT\", null, resources[\"session\"], \"_sT\", function(o) {\n		return parseFloat(o);\n	}), new DateListVar(\"nSesT\", [], resources[\"state\"], \"_ssQ\", 5), new VBER34(\"siteT\", null, resources[\"state\"], \"_sesT\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"saleValue\", null, resources[\"state\"], \"_slV\", function(o) {\n		return parseFloat(o);\n	}), new ListVariable(\"nSalesID\", [], resources[\"state\"], \"_slq\"), new VBER34(\"chatCnt\", 0.0, resources[\"state\"], \"_cct\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"salesQualificationCount\", 0.0, resources[\"state\"], \"_sqc\", function(o) {\n		return parseFloat(o);\n	}), new DateVar(\"soldDT\", null, resources[\"vital\"], \"_sdt\"), new DateVar(\"oldSoldDT\", null, resources[\"tmpVars\"], \"_osQ\"), new VBER34(\"assistAgt\", null, resources[\"vital\"], \"_aa\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldAssistAgt\", null, resources[\"tmpVars\"], \"_oaa\", function(o) {\n		return o ? o.toString() : o;\n	}), new DateVar(\"assistDT\", null, resources[\"vital\"], \"_adt\"), new DateVar(\"oldAssistDT\", null, resources[\"tmpVars\"], \"_oadt\"), new VBER34(\"assistChatID\", \"-1\", resources[\"vital\"], \"_acid\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"engagedChatID\", null, resources[\"session\"], \"_ecID\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"interactedChatID\", null, resources[\"session\"], \"_icID\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldAssistChatID\", null, resources[\"tmpVars\"], \"_oaci\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"asstRuleID\", null, resources[\"vital\"], \"_arid\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldAsstRuleID\", null, resources[\"tmpVars\"], \"_oari\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"asstRuleName\", null, resources[\"vital\"], \"_arn\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldAsstRuleName\", null, resources[\"tmpVars\"], \"_oarn\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"saleLC\", 0.0, resources[\"state\"], \"_slc\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"saleState\", getConstant(\"SALE_STATE_UNSOLD\", rule), resources[\"vital\"], \"_ss\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldSaleState\", null, resources[\"tmpVars\"], \"_oss\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"saleID\", null, resources[\"vital\"], \"_sID\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldSaleID\", null, resources[\"tmpVars\"], \"_osID\", function(o) {\n		return o ? o.toString() : o;\n	}), new DateVar(\"incStart\", null, resources[\"state\"], \"_is\"), new VBER34(\"incGroup\", null, resources[\"state\"], \"_ig\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"incID\", null, resources[\"state\"], \"_iID\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"incState\", null, resources[\"state\"], \"_ist\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"oldIncState\", null, resources[\"tmpVars\"], \"_ois\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"incExempt\", null, resources[\"state\"], \"_iex\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"svcMissed\", -1.0, resources[\"session\"], \"_svMs\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"custHost\", null, resources[\"state\"], \"_ch\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"rd\", null, resources[\"session\"], \"rd\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"sest\", null, resources[\"session\"], \"sest\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"assistedType\", getConstant(\"UNDEFINED_ASSISTED\", rule), resources[\"session\"], \"_aTyp\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"cfl\", getConstant(\"MAX_LONG\", rule), resources[\"state\"], \"cfl\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"continueTrackingAfterCallClose\", false, resources[\"session\"], \"cTACC\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"lastCallId\", \"0\", resources[\"session\"], \"lcId\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"lastCallAgentId\", null, resources[\"session\"], \"lcaId\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"r\", safe(\"var a=window.name.split('_clientPageURL_'); window.name=(a[2]?a[0]+a[2]:a[0]); a[1]\"), resources[\"rVar\"], \"r\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"siteSearchTerms\", URI.parseURI(win.document.URL).qMap[getConstant(\"SITE_SEARCH_QUERY_PARAM_NAME\", rule)], resources[\"tmpVars\"], \"_sst\", function(o) {\n		return o ? o.toString() : o;\n	}), new MapVariable(\"baynoteATParams\", [], resources[\"tmpVars\"], \"_batp\"), new MapVariable(\"incStatesMap\", [{\n		key: getConstant(\"INC_STATE_ELIGIBLE\", rule),\n		value: 10.0\n	}, {\n		key: getConstant(\"INC_STATE_TARGETED\", rule),\n		value: 20.0\n	}, {\n		key: getConstant(\"INC_STATE_EXPOSURE_QUALIFIED\", rule),\n		value: 30.0\n	}, {\n		key: getConstant(\"INC_STATE_EXPOSED\", rule),\n		value: 40.0\n	}, {\n		key: getConstant(\"INC_STATE_ENGAGED\", rule),\n		value: 50.0\n	}, {\n		key: getConstant(\"INC_STATE_INTERACTED\", rule),\n		value: 60.0\n	}, {\n		key: getConstant(\"INC_STATE_ASSISTED\", rule),\n		value: 70.0\n	}, {\n		key: getConstant(\"INC_STATE_CONVERTED\", rule),\n		value: 80.0\n	}], resources[\"tmpVars\"], \"_ismp\")];\n	var businessVars = [new VBER34(\"scriptGroupID\", 42.0, resources[\"state\"], \"stid\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"chatThemeID1\", 24.0, resources[\"state\"], \"ctid1\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"chatThemeID2\", 3000308.0, resources[\"state\"], \"ctid2\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"chatThemeID3\", 1.3000377E7, resources[\"state\"], \"ctid3\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"chatThemeID4\", 1.8000385E7, resources[\"state\"], \"ctid4\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"chatThemeID5\", 2.4000452E7, resources[\"state\"], \"ctid5\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"chatThemeID6\", 223.0, resources[\"state\"], \"ctid6\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"pct_WhtBkgd_Girl_AOT\", rand(1, 100, true), resources[\"state\"], \"pcwga\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"pct_BluBkgd_Girl_AOT\", rand(1, 100, true), resources[\"state\"], \"pcbga\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"pct_TrnBkgd-AnyLoginStatus_AOT\", rand(1, 100, true), resources[\"state\"], \"pctaa\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"pct_BluBkgd_Girl-AnyLoginStatus_AOT\", rand(1, 100, true), resources[\"state\"], \"pcbaa\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"pct_WhtBkgd_Girl-AnyLoginStatus_AOT\", rand(1, 100, true), resources[\"state\"], \"pcwaa\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"withinTimePeriodInt\", 604.0, resources[\"session\"], \"wtpi\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"surveyPopped\", false, resources[\"state\"], \"_sp\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"supressClient\", false, resources[\"vital\"], \"_sc\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"nameOfLastChat\", null, resources[\"session\"], \"nolc\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"OrderForm_focused\", false, resources[\"session\"], \"OF_f\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"brPct2\", rand(1.0, 100.0), resources[\"state\"], \"pct2\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"loggedIntoMyAcct\", false, resources[\"session\"], \"liMA\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"randomNumber_130128b\", rand(1, 2, true), resources[\"state\"], \"ab002\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"randomNumber_130128a\", rand(1, 2, true), resources[\"state\"], \"ab001\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"agentRandomNumber\", rand(1, 5, true), resources[\"tmpVars\"], \"aRdmN\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"reviewNextCount\", 0.0, resources[\"page\"], \"rvCnt\", function(o) {\n		return parseFloat(o);\n	}), new DateVar(\"formLastFocusTime_ShoppingCart\", null, resources[\"page\"], \"frmSC\"), new VBER34(\"continuePolling_Marketing\", true, resources[\"session\"], \"pollM\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"timeBeforeLaunch_Marketing\", 600.0, resources[\"session\"], \"tblM\", function(o) {\n		return parseFloat(o);\n	}), new VBER34(\"suppressChat\", false, resources[\"state\"], \"supC\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"loginSuccess\", false, resources[\"session\"], \"lgn\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"removedCartItem\", false, resources[\"session\"], \"rmCrt\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"rule_category\", \"emptyString\", resources[\"session\"], \"_rCat\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"visitor_attribute_value\", \"emptyString\", resources[\"session\"], \"_vAt\", function(o) {\n		return o ? o.toString() : o;\n	}), new VBER34(\"sawChatWindow\", false, resources[\"session\"], \"yscw\", function(o) {\n		return Boolean(o);\n	}), new VBER34(\"agentName\", \"Alex\", resources[\"session\"], \"agtNm\", function(o) {\n		return o ? o.toString() : o;\n	})];\n	var programCustomEvents = [new EXCBTT({\n		name: \"NewSession\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				sessionID: getSessionID(),\n				loyalty: PM.getVar(\"loyalty\", rule).getValue(),\n				timestamp: new Date()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"SaleLanding\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				products: (exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null),\n				quantities: (exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null),\n				prices: (exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null),\n				productTypes: (exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null),\n				products2: (exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null),\n				quantities2: (exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null),\n				prices2: (exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null),\n				productTypes2: (exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null),\n				orderType: (exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null),\n				lc: PM.getVar(\"saleLC\", rule).getValue(),\n				customerID: Inq.getCustID()\n			}).absorb(evt);\n		},\n		aliases: [{\n			name: \"onSaleEvent\",\n			getEvtData: function(rule) {\n				return {\n					products: (exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null),\n					quantities: (exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null),\n					prices: (exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null),\n					productTypes: (exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null),\n					total: FM.callExternal(\"saleValue\"),\n					products2: (exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null),\n					quantities2: (exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null),\n					prices2: (exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null),\n					productTypes2: (exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null),\n					orderType: (exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null),\n					lc: PM.getVar(\"saleLC\", rule).getValue(),\n					customerID: Inq.getCustID()\n				};\n			}\n		}]\n	}), new EXCBTT({\n		name: \"Assisted\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				agentID: CHM.getAgentID(),\n				chatID: CHM.getChatID(),\n				customerID: Inq.getCustID()\n			}).absorb(evt);\n		},\n		aliases: [{\n			name: \"onSaleQualifiedEvent\",\n			getEvtData: function(rule) {\n				return {\n					agentID: PM.getVar(\"assistAgt\", rule).getValue(),\n					chatID: PM.getVar(\"assistChatID\", rule).getValue(),\n					customerID: Inq.getCustID(),\n					bizRuleName: PM.getVar(\"asstRuleName\", rule).getValue()\n				};\n			}\n		}]\n	}), new EXCBTT({\n		name: \"Converted\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				saleID: PM.getVar(\"saleID\", rule).getValue(),\n				agentID: PM.getVar(\"assistAgt\", rule).getValue(),\n				chatID: PM.getVar(\"assistChatID\", rule).getValue(),\n				customerID: Inq.getCustID(),\n				products: (exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null),\n				quantities: (exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null),\n				prices: (exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null),\n				productTypes: (exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null),\n				products2: (exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null),\n				quantities2: (exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null),\n				prices2: (exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null),\n				productTypes2: (exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null),\n				orderType: (exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null),\n				lc: PM.getVar(\"saleLC\", rule).getValue()\n			}).absorb(evt);\n		},\n		aliases: [{\n			name: \"onSoldEvent\",\n			getEvtData: function(rule) {\n				return {\n					saleID: PM.getVar(\"saleID\", rule).getValue(),\n					agentID: PM.getVar(\"assistAgt\", rule).getValue(),\n					chatID: PM.getVar(\"assistChatID\", rule).getValue(),\n					customerID: Inq.getCustID(),\n					products: (exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null),\n					quantities: (exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null),\n					prices: (exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null),\n					productTypes: (exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null),\n					products2: (exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null),\n					quantities2: (exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null),\n					prices2: (exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null),\n					productTypes2: (exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null),\n					orderType: (exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null),\n					lc: PM.getVar(\"saleLC\", rule).getValue()\n				};\n			}\n		}]\n	}), new EXCBTT({\n		name: \"CustomerHostDomainResolved\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				hostName: PM.getVar(\"custHost\", rule).getValue(),\n				ip: Inq.getCustIP()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"SaleStateTransition\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				chatID: CHM.getChatID(),\n				customerID: Inq.getCustID(),\n				oldAssistChatID: PM.getVar(\"oldAssistChatID\", rule).getValue(),\n				oldAssistDT: PM.getVar(\"oldAssistDT\", rule).getValue(),\n				oldAssistAgt: PM.getVar(\"oldAssistAgt\", rule).getValue(),\n				oldAsstRuleID: PM.getVar(\"oldAsstRuleID\", rule).getValue(),\n				oldAsstRuleName: PM.getVar(\"oldAsstRuleName\", rule).getValue(),\n				oldSaleState: PM.getVar(\"oldSaleState\", rule).getValue(),\n				oldIncState: PM.getVar(\"oldIncState\", rule).getValue(),\n				oldSaleID: PM.getVar(\"oldSaleID\", rule).getValue(),\n				oldSoldDT: PM.getVar(\"oldSoldDT\", rule).getValue(),\n				assistChatID: PM.getVar(\"assistChatID\", rule).getValue(),\n				assistDT: PM.getVar(\"assistDT\", rule).getValue(),\n				assistAgt: PM.getVar(\"assistAgt\", rule).getValue(),\n				asstRuleID: PM.getVar(\"asstRuleID\", rule).getValue(),\n				asstRuleName: PM.getVar(\"asstRuleName\", rule).getValue(),\n				saleState: PM.getVar(\"saleState\", rule).getValue(),\n				incState: PM.getVar(\"incState\", rule).getValue(),\n				saleID: PM.getVar(\"saleID\", rule).getValue(),\n				soldDT: PM.getVar(\"soldDT\", rule).getValue()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"EligibleEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				group: PM.getVar(\"incGroup\", rule).getValue(),\n				exempt: PM.getVar(\"incExempt\", rule).getValue(),\n				igdStart: PM.getVar(\"incStart\", rule).getValue(),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()\n			}).absorb(evt);\n		},\n		aliases: [{\n			name: \"onGroupAssignment\",\n			getEvtData: function(rule) {\n				return {\n					customerID: Inq.getCustID(),\n					group: PM.getVar(\"incGroup\", rule).getValue()\n				};\n			}\n		}]\n	}), new EXCBTT({\n		name: \"TargetedEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				group: PM.getVar(\"incGroup\", rule).getValue(),\n				brID: rule.getID(),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()\n			}).absorb(evt);\n		},\n		aliases: [{\n			name: \"onTargeted\",\n			getEvtData: function(rule) {\n				return {\n					customerID: Inq.getCustID(),\n					group: PM.getVar(\"incGroup\", rule).getValue(),\n					bizRuleName: rule.evt.rule.name\n				};\n			}\n		}]\n	}), new EXCBTT({\n		name: \"ExposedEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				brID: evt.rule.id,\n				chatID: CHM.getChatID(),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"EngagedEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				brID: evt.rule.id,\n				chatID: CHM.getChatID(),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"InteractedEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				brID: CHM.getChat().getRuleId(),\n				chatID: CHM.getChatID(),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID(),\n				type: CHM.getConversionType()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"AssistedEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				brID: CHM.getChat().getRuleId(),\n				chatID: CHM.getChatID(),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID(),\n				type: CHM.getConversionType()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"ConvertedEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID(),\n				pageID: LDM.getPageID(0),\n				customerID: Inq.getCustID(),\n				incrementalityID: getIncAssignmentID(),\n				sessionID: getSessionID(),\n				group: PM.getVar(\"incGroup\", rule).getValue(),\n				products: (exists(safe(\"inqSalesProducts\")) ? safe(\"inqSalesProducts\") : null),\n				quantities: (exists(safe(\"inqSalesQuantities\")) ? safe(\"inqSalesQuantities\") : null),\n				prices: (exists(safe(\"inqSalesPrices\")) ? safe(\"inqSalesPrices\") : null),\n				productTypes: (exists(safe(\"inqSalesProductTypes\")) ? safe(\"inqSalesProductTypes\") : null),\n				products2: (exists(safe(\"inqSalesProducts2\")) ? safe(\"inqSalesProducts2\") : null),\n				quantities2: (exists(safe(\"inqSalesQuantities2\")) ? safe(\"inqSalesQuantities2\") : null),\n				prices2: (exists(safe(\"inqSalesPrices2\")) ? safe(\"inqSalesPrices2\") : null),\n				productTypes2: (exists(safe(\"inqSalesProductTypes2\")) ? safe(\"inqSalesProductTypes2\") : null),\n				orderType: (exists(safe(\"inqOrderType\")) ? safe(\"inqOrderType\") : null),\n				orderID: (exists(safe(\"inqClientOrderNum\")) ? safe(\"inqClientOrderNum\") : null),\n				clientTimestamp: (exists(safe(\"inqClientTimeStamp\")) ? safe(\"inqClientTimeStamp\") : null),\n				testOrder: (exists(safe(\"inqTestOrder\")) ? safe(\"inqTestOrder\") : null),\n				businessUnitID: evt.rule && evt.rule.businessUnitID ? evt.rule.getBusinessUnitID() : rule.getBusinessUnitID(),\n				total: FM.callExternal(\"saleValue\")\n			}).absorb(evt);\n		},\n		aliases: [{\n			name: \"onConversion\",\n			getEvtData: function(rule) {\n				return {\n					customerID: Inq.getCustID(),\n					group: PM.getVar(\"incGroup\", rule).getValue(),\n					bizRuleName: PM.getVar(\"asstRuleName\", rule).getValue()\n				};\n			}\n		}]\n	}), new EXCBTT({\n		name: \"SurveyLaunched\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				siteID: getSiteID()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"PreChatSurveyComplete\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"BaynoteVisitEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				customerId: getConstant(\"BAYNOTE_CUSTOMER_ID\", rule),\n				code: getConstant(\"BAYNOTE_CODE\", rule),\n				a: \"v\",\n				c: \"d&g&s\",\n				d: LDM.getCurrentPageURL(),\n				t: Math.round(new Date().diff(new Date(18000000)) / (1)),\n				r: PM.getVar('r').getValue() ? PM.getVar('r').getValue() : (URI.parseURI(doc.referrer).qMap._clientPageURL ? URI.parseURI(doc.referrer).qMap._clientPageURL : doc.referrer).toString(),\n				u: Inq.getCustID()\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"BaynoteLingerEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				customerId: getConstant(\"BAYNOTE_CUSTOMER_ID\", rule),\n				code: getConstant(\"BAYNOTE_CODE\", rule),\n				a: \"l\",\n				c: \"d&g&s\",\n				d: LDM.getCurrentPageURL(),\n				t: Math.round(new Date().diff(new Date(18000000)) / (1)),\n				r: PM.getVar('r').getValue() ? PM.getVar('r').getValue() : (URI.parseURI(doc.referrer).qMap._clientPageURL ? URI.parseURI(doc.referrer).qMap._clientPageURL : doc.referrer).toString(),\n				u: Inq.getCustID(),\n				de_ti: safe(\"document.title\"),\n				du: (getConstant(\"BAYNOTE_LINGER_DU\", rule) / 1000.0),\n				de_ti: safe(\"document.title\")\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"BaynoteExitEvent\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				customerId: getConstant(\"BAYNOTE_CUSTOMER_ID\", rule),\n				code: getConstant(\"BAYNOTE_CODE\", rule),\n				a: \"c\",\n				c: \"d&g&s\",\n				d: LDM.getCurrentPageURL(),\n				t: Math.round(new Date().diff(new Date(18000000)) / (1)),\n				r: PM.getVar('r').getValue() ? PM.getVar('r').getValue() : (URI.parseURI(doc.referrer).qMap._clientPageURL ? URI.parseURI(doc.referrer).qMap._clientPageURL : doc.referrer).toString(),\n				u: Inq.getCustID(),\n				de_ti: safe(\"document.title\")\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"IncStateFunnelTransition\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				newState: \"to be set by firing rule\"\n			}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"IframeC2C\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({\n				c2cIFrameDomainName: getConstant(\"C2C_IFRAME_DOMAIN_NAME\", rule),\n				queryData: \"{}\"\n			}).absorb(evt);\n		}\n	})];\n	var businessCustomEvents = [new EXCBTT({\n		name: \"LaunchAutomatedGuide\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"readAllReviewsOnClick\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"nextReviewsOnClick\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"unHelpfulReviewOnClick\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"removeCartItemOnClick\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"repollTimeBeforeLaunch_Marketing\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	}), new EXCBTT({\n		name: \"launchTimeOnMarketing\",\n		getEvtData: function(rule, evt) {\n			return MI8.mixAbsorber({}).absorb(evt);\n		}\n	})];\n	var VAM = new VAMgr(\"VAM\", {\n		programVisitorAttributes: {\n			\"vis_attr_incr_val\": {\n				\"values\": {},\n				\"mutuallyExclusive\": true\n			}\n		},\n		businessVisitorAttributes: {}\n	});\n	var mgrList = [PM, CM, ROM, BRM, LDM, C2CM, CHM, VAM, MM, SVYM];\n	var rechatInterval = parseInt('1');\n	var v3framesrc = window.location.pathname;\n	var v3TO = 170;\n	var v3C2cPersistent = false;\n	var xd = true;\n	var initialized = false;\n	var started = false;\n	var multiHost = true;\n\n	function getVar(varname, ruleID, optDflt) {\n		return PM.getVar(varname, BRM.getRuleById(ruleID)).getValue();\n	}\n\n	function publishAPI(apiString, varid, ruleID, _win) {\n		if (!apiString) return false;\n		var osa = apiString.split(\".\");\n		var fcn = function() {\n			return getVar(varid, ruleID);\n		};\n		if (!_win) {\n			_win = win;\n		}\n		var obj = _win;\n		for (var idx = 0; idx < osa.length; idx++) {\n			if (idx == osa.length - 1) {\n				obj[osa[idx]] = fcn;\n			} else if (isNullOrUndefined(obj[osa[idx]])) {\n				obj[osa[idx]] = {};\n			}\n			obj = obj[osa[idx]];\n		}\n		return true;\n	}\n\n	function getHostedFileUrl() {\n		return window.location.protocol + \"//\" + window.location.hostname + ((window.location.port == \"\") ? \"\" : \":\" + window.location.port) + v3framesrc;\n	}\n\n	function isC2cPersistent() {\n		return v3C2cPersistent;\n	}\n\n	function loadScript(server, urlClean, urlObfuscated, initFunction, parameters) {\n		var srctag = document.createElement(\"SC\" + \"RIPT\");\n		srctag.src = rte(server) + (false ? urlClean : urlObfuscated);\n		srctag.type = \"text/javascript\";\n		srctag.charset = \"utf-8\";\n		srctag.language = \"javascript\";\n		srctag._parameters = parameters;\n		srctag._function = initFunction;\n		srctag.onload = function() {\n			this.onreadystatechange = null;\n			this.onload = null;\n			this._function(this._parameters);\n		};\n		srctag.onreadystatechange = function() {\n			if (this.readyState == 'complete' || this.readyState == 'loaded') {\n				this.onreadystatechange = null;\n				this.onload = null;\n				this._function(this._parameters);\n			}\n		};\n		document.body.appendChild(srctag);\n	}\n	return {\n		xd: xd,\n		siteID: siteID,\n		custID: custID,\n		custIP: custIP,\n		main: main,\n		agrtyer: agrtyer,\n		onRemoteCallback: onRemoteCallback,\n		isFrameworkReady: isFrameworkReady,\n		isDataReady: isDataReady,\n		init: init,\n		initXD: initXD,\n		IFrameProxyCallback: IFrameProxyCallback,\n		isThirdPartyCookiesEnabled: isThirdPartyCookiesEnabled,\n		start: start,\n		setFrameworkData: setFrameworkData,\n		save: save,\n		load: load,\n		getID: getID,\n		getCustID: getCustID,\n		getCustIP: getCustIP,\n		getSiteID: getSiteID,\n		tryue: tryue,\n		unblockService: unblockService,\n		blockServices: blockServices,\n		unblockServices: unblockServices,\n		isServiceBlocked: isServiceBlocked,\n		Drag: new Drag(),\n		Resize: new Resize(),\n		Rule: Rule,\n		log: log,\n		v3C2cPersistent: v3C2cPersistent,\n		v3framesrc: v3framesrc,\n		multiHost: multiHost,\n		v3TO: v3TO,\n		rechatInterval: rechatInterval,\n		isSameOrigin: isSameOrigin,\n		doBusinessRuleActionList: doBusinessRuleActionList,\n		doRuleActionList: doRuleActionList,\n		createHiddenIFrame: createHiddenIFrame,\n		createFloatingDiv: createFloatingDiv,\n		wasSaleAction: wasSaleAction,\n		urls: (urls),\n		EVM: EVM,\n		CM: CM,\n		PM: PM,\n		ROM: ROM,\n		BRM: BRM,\n		LDM: LDM,\n		C2CM: C2CM,\n		CHM: CHM,\n		GR34: CHM,\n		reinitChat: reinitChat,\n		launchChatNow: launchChatNow,\n		launchChatNowByPageID: launchChatNowByPageID,\n		setChatSuppressedForSession: setChatSuppressedForSession,\n		FlashPeer: FP,\n		MSG: MSG,\n		DT: DT,\n		EC: EC,\n		EH: EH\n	};\n})();\nInq.main();",
			"JS",
			"js",
			"JS",
			"<style type=\"text/css\">\n	/*hacks*/\n	#overnightShipImage, div#socialBackground, #socialBar, .signup-container, #lyt_topHeader {\n		display: none;	!important\n	}\n	\n	#promoSubmitErr {\n    	padding-left: 234px;\n	    padding-top: 190px;\n	}\n\n	html, body, div, span, img, applet, object, iframe,\n	h1, h2, h3, h4, h5, h6, p, blockquote, pre,\n	a, abbr, acronym, address, big, cite, code,\n	del, dfn, em, font, ins, kbd, q, s, samp, tt, var,\n	dl, dt, dd, ol, ul, li, fieldset, form, label, legend,\n	caption {\n		margin: 0;\n		padding: 0;\n		border: 0;\n		outline: 0;\n		font-weight: inherit;\n		font-style: inherit;\n		font-size: 100%;\n		font-family: inherit;\n		vertical-align: baseline;\n		font-family: Arial, Helvetica, sans-serif;\n	}\n  \n	.clear { clear: both; }  \n	.left { float: left !important; }\n	.right { float: right !important; margin-right:30px;}\n	.blue { color: #024890; }\n	.orange { color: #f27d10; }\n	.leftSide p { width: 238px; }\n	.leftSide p + p { padding-top: 15px; }\n	.leftSide p strong { text-decoration: underline; }\n	sup { font-size: 9px; }\n	.font9 { font-size: 9px; margin-left: 5px; }\n  \n	body {\n		font-family: Arial;\n		background: #ffffff;\n	}\n	\n	#wrapper, #main {\n		width: 100% !important;\n	}\n	\n	#container {\n		width: 100% !important;\n		margin: auto;\n		overflow: hidden;\n	}\n	\n	#container #header {\n		background: url(landingPage/comeback20-0513/header-slice.gif?$staticlink$) 0 0 repeat-x;\n		height: 93px;\n		position: relative;\n		width: 100% !important;\n	}\n	\n	#container #header #logo {\n		margin: 20px 10px 10px 0px;\n		float: left;\n	}\n	\n	#container #header .phone {\n		font-family: Arial;\n		font-size: 12px;\n		margin: 27px 0 0 0;\n		color: #000000;\n		float: right;\n	}\n \n	#container h2 {\n		color: #000;\n		font-family: 'helvetica-neue', helvetica, arial, sans-serif;\n		font-size: 29px;\n		font-weight: normal;\n		margin: 15px 0;\n	}\n \n	#container #content {\n		background-color: #ededed;\n		margin: 0 auto;\n		padding: 25px 0;\n		width: 880px;\n	}\n \n	#container #content form {\n		background: url(landingPage/comeback20-0513/promo-code-cta-background.gif?$staticlink$) 0 0 no-repeat;\n		display: block;\n		font-family: 'helvetica-neue', helvetica, arial, sans-serif;\n		height: 142px;\n		padding-top: 150px;\n		margin: 0 auto;\n		position: relative;\n		text-align: center;\n		width: 562px;		\n	}\n	\n	#container #content form h3{\n		color: #fff;\n		font-size: 16px;\n		position: absolute;\n		top: 12px;\n		width: 100%;\n	}\n	\n	#container #content form h4{\n		color: #000;\n		font-size: 18px;\n		position: absolute;\n		top: 72px;\n		width: 100%;\n	}\n	\n	#container h2 small, #container #content form h4 small {\n		font-size: 13px;\n	}\n	\n	#container #content form input{\n		border: 1px solid #898989;\n		border-radius: 4px;\n		display: block;\n		margin: 0 auto 35px;\n		width: 200px;\n	}\n	\n	#container .bottom.inner {\n		background: url(landingPage/comeback20-0513/60-day-guarantee-a.gif?$staticlink$) 75px 21px no-repeat;\n		color: #555;\n		font-family: 'helvetica-neue', helvetica, arial, sans-serif;\n		font-size: 10px;\n		padding: 0 0 0 120px;\n		height: 70px;\n	}\n	\n	#container .bottom.inner h5 {\n		font-size: 14px;\n		font-weight: bold;\n		padding-top: 24px;\n		text-transform: uppercase;\n	}\n	\n	#container #footer {\n		background-color: #4e4d4b;\n		color: #fff;\n		margin: 10px 0 100px;\n		padding-top: 13px;\n		text-align: center;\n		font-size: 12px;\n		height: 30px;\n		width: 100% !important;\n	}\n  \n	#container #footer a,#container #footer a:visited {\n		color: #fff;\n		text-decoration: underline;\n	}\n	\n	#container #footer .right {\n		margin-right: 0;\n	}\n	\n	.inner {\n		display: block;\n		margin: 0 auto;\n		width: 880px;\n	}\n  \n\n</style>\n\n	<div id=\"container\">  \n	\n		<div id=\"header\">\n			<div class=\"inner\">\n				<img id=\"logo\" src=\"landingPage/comeback11/img/proactiv.png?$staticlink$\" alt=\"Proactiv\" title=\"Proactiv\"/>\n				<p class=\"phone\"><strong>Questions?</strong>  Call $include('Phone-Show')$</p>\n				<br class=\"clear\"/>\n			</div>\n		</div>\n	  \n		<div class=\"inner\">\n			<h2>Come Back to Proactiv<small>&reg;</small> and Save!</h2>\n		</div>\n		\n		<div id=\"content\">\n			<div class=\"inner\">\n				<form action=\"$url('COCart-AddProduct')$\" method=\"POST\">   \n					<h3>Returning Customer Exclusive</h3>\n					<h4>Enter your unique promo code here to redeem<br /> your special savings on Proactiv<small>&reg;</small></h4>                    \n					<input type=\"text\" class=\"inputBox\" name=\"ukey\">\n					<button id=\"IRbutton\" class=\"IR\" value=\"Order Now\" type=\"submit\">\n						<img src=\"landingPage/comeback20-0513/redeem-now.gif?$staticlink$\" width=\"180\" height=\"34\" border=\"0\" alt=\"Redeem Now\" />\n					</button>\n					<div id=\"err\"></div>\n				</form> \n			</div>\n		</div>\n			  \n		<div class=\"bottom inner\">\n			<h5>Guaranteed to Work!</h5>\n			<p>If youre not completely satisfied, simply return the bottles (even if empty) within 60 days of receipt and get a full refund (less s/h). The free gifts are yours to keep.</p>\n		</div>\n		  \n		<div id=\"footer\">\n			<div class=\"inner\">\n				<div class=\"left\"><a href=\"http://customercare.proactiv.com/\">Customer Service</a> | <a href=\"$url('Page-Show','cid','privacy-policy')$\">Privacy Policy</a> | <a href=\"$url('Page-Show','cid','terms')$\">Terms &amp; Conditions</a></div>\n				<div class=\"right\">Copyright &copy; 2013 Guthy-Renker&reg;. All Rights Reserved.</div>\n			</div>\n		</div>\n		\n	</div>\n	\n",
			"padding",
			"%;\n",
			"outline: 0;\n		font-weight:"
		],
		"highlight": true,
		"in_selection": true,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"JS",
			"Javascript"
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": false
	},
	"groups":
	[
		{
			"sheets":
			[
			]
		}
	],
	"incremental_find":
	{
		"height": 0.0
	},
	"input":
	{
		"height": 36.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.exec":
	{
		"height": 130.0
	},
	"output.git":
	{
		"height": 88.0
	},
	"replace":
	{
		"height": 64.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"selected_items":
		[
			[
				"",
				"proactiv/cartridge/templates/default/KitCustomizer/detail.isml"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"show_minimap": true,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 219.0,
	"status_bar_visible": true
}
